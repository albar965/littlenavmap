Numbers (#) refer to GitHub issues.
For example: #3 is https://github.com/albar965/littlenavmap/issues/3.
This text is partially Markdown, so the formatting is sometimes strange.

==>>=============================================================================

# Version 3.0.8

## Notes

**This is a stable release of Little Navmap which fixes several bugs and crashes and adds a few
improvements and new features.**

**The program translations for Brazilian Portuguese, French, German and Italian as well as the user manual have been updated.**

**macOS users: Keep in mind that you have to clear the quarantine flag when updating Little Xpconnect. See
[Clearing the Quarantine Flag on macOS](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/XPCONNECT.html#clearing-the-quarantine-flag-on-macos).**

**Reload the scenery library to see fixes like the duplicate COM frequencies for MSFS airports.**

A big thank you to all who reported bugs and issues!

## Changes from 3.0.6 to 3.0.8

### Flight Plan Loading and Export

* Added export option for MSFS [KLN 90B](https://github.com/falcon71/kln90b) #1136
* 3.0.7.rc1 to 3.0.8: Fixed KLN90B export to using `kln.pln` as filename. #1164
* Added multiexport option for MSFS JustFlight BAE-14. This uses the QualityWings format.
* Made loading of MSFS PLN flight plan files more tolerant for missing altitude in element
  `WorldPosition`.
* Fixed issue where a wrong error message about invalid procedures appeared after loading a MSFS
  PLN file. The message appeared when saving loaded PLN as LNMPLN.
* Better cruise altitude estimate if altitude could not determined from the flight plan after
  loading. Altitude is rounded up to 2000 ft to the maximum of departure and destination elevation if
  all else fails.
* Changed file extensions in multiexport to be untranslatable for local language to avoid issues.
* Now adding STAR entry waypoint plus airway to MSFS PLN export in certain cases. Removing
  destination runway waypoints from MSFS PLN export if STAR is used.
* Fixed aircraft trail for logbook entry that was incorrectly truncated.
* Corrected display of split aircraft trail when starting a new flight on ground. Previously
  the trails were shown wrongly connected.
* Fixed an issue where the cruise altitude was set incorrectly after downloading a flight plan
  from SimBrief.

### Weather

* Added interpolated weather reports for NOAA, VATSIM, IVAO and X-Plane weather. These appear
  at airports having no METAR reports. Note that this does not cover cloud layers.
* Added wind display for landing and takeoff runway in flight plan table header. This uses station
  or interpolated winds as selected in menu `Weather` -> `Airport Weather Source`.
* Added support for Active Sky FS (MSFS).
* Fixed issue where Active Sky weather was not updated.
* Fixed crash that happened randomly when updating METAR data or switching between simulators with
  weather enabled.
* Added sunrise and sunset to weather report page in information dock window.
* Now showing weather stations with invalid reports crossed out on the map.
* Fixed wrong time zone for METAR reports from FSX/P3D.
* Better error messages for METAR decoding and outdated weather.
* More optimizations to weather handling.

### Random Flight Generation

* Added shortcut to random flight creation: Menu `Flight Plan` -> `Generate Random Flight`. This
  opens the search dock window and activates the controls to generate a random flight.
* Added a dialog window where a user can select either a fixed departure or a fixed destination
  airport for the random flight generation. Add at least one airport to your flight plan to enable this
  function. #1013
* Random flight generation now puts the change on the undo/redo stack once the user accepts a
  generated flight. This is the same behavior as used in the flight plan route description which
  allows to restore a previous flight plan and its changes.
* Adjusted the maximum distance for random flight plan to realistic values.
  The maximum is 10.800 NM.
* Fixed the minimum and maximum distance for random flight search not being saved on exit.
* Performance improvements and random selection for departure and destination functionality
  by [u-an-i](https://github.com/u-an-i).

### Procedures and Runway Selection

* Improved procedure search. Now showing the first and last waypoint of procedures in the procedure
  tree. Also, showing the first and last waypoint of a selected procedure in the header. The header
  shows first and last for the full path including the procedure when selecting a transition.
* Search now also looks for first and last waypoint of procedures. Procedures and and transitions
  are hidden if no criteria match text search. Procedures are expanded if a transition matches the
  search text. This allows finding the matching STAR for a selected approach and vice versa, for example.
* Procedure view now tries to keep content when switching simulators, provided the airport exists
  in both simulators.
* The procedure search tab now expands procedure branches already added to the flight plan.
  Procedures and/or respective transitions are expanded when showing procedures for departure or
  destination airport.
* Runway selection dialog windows now have the current runway end from the flight plan preselected.
* The selection in procedure search is not saved anymore when changing airports to avoid unwanted
  highlighting on the map.
* Added `Shift+F5` shortcut for procedure search.
* Fixed issue where switching between simulator databases left the procedure search in an invalid
  state resulting in a crash.
* Fixed issue where the show procedure menu item was not enabled in map context menu and others.
  Example: Weston (EIWT) on X-Plane. #1154
* Procedures for a clicked airport can now be shown with checkbox `Airports` disabled in options on
  page `Map Tooltips and Clicks`.
* Added keyboard shortcuts in procedure search. Hit `Return` to show a procedure or a waypoint in
  the tree. Use the `Down` key to activate the tree from text input field.

### Logbook

* Added cruise altitude from used flight plan to logbook table. The logbook table layout is reset
  back to default.
* Logbook cleanup method improved. Extended function to cleanup off-airport coordinates like
  2956N10702E 4831N12255W in addition to empty airport idents.
* Optimizations for aircraft trail loading and display for logbook entries.

### Map Display

* Added warning dialog if aircraft trail is too long after startup as a hint for performance
  issues. Also, showing warning if trail was truncated after loading a GPX file.
* Fixed issue where updated maximum number of trail points was not applied until restart.
* Fixed crash when fetching tooltip information for short aircraft trails.
* Fixed disappearing flight plans and aircraft trails on high zoom distances or long flight plans.
  #1126
* Fixed display issue where userpoints without type were hidden. Optimized code for userpoint
  display.
* AI/multiplayer aircraft labels now have a `…` appended if label texts are suppressed due to higher
  zoom distances Reworked aircraft label code.
* Added internal object ID as optional aircraft label for AI/multiplayer. Enable this in options on
  page `Map Labels` in branch `AI, Multiplayer and Online Client Aircraft`.
* Fixed wrong bearing for nearest radio navaids of airport in information dock window. Used wrong
  magnetic declination instead of airport value.
* Attempt to fix not updating sun shading. #1125
* Optimizations for airspace name and aircraft trail display.

### Scenery Library

* Fix for crash when reading BGL files having invalid airports.
* Fixed COM frequency duplicates in MSFS scenery library with Navigraph navdata update installed.
  Reload the scenery library to see the fix.
* Now bailing out early when reading malformed BGL files from MSFS resulting in endless loop.
  Example: Broken `UWLS.bgl`. The same appears with the package `microsoft-canada-point-of-interest`
  which is excluded from loading now. Ignore these errors for now.
* 3.0.7.rc1 to 3.0.8: Now excluding all Microsoft POI libraries from MSFS. These libraries contain
  POIs modeled as fake airports and are partially not readable. The folder exclusion affects all
  matching the pattern `*\Official\OneStore\microsoft-*-point-of-interest\*`.
* 3.0.7.rc1 to 3.0.8: Fixed issue where heliports or other simple airports in MSFS could not be
  shown on the map by double clicking in airport search or information window.

### Information and Aircraft Progress

* Now keeping airport, VOR, NDB, procedure, waypoint, userpoint and logbook information when
  switching between simulators.
* Omitting wrong X-Plane propeller ice indications for jets in user aircraft progress now.
* Better formatting in weather and runway information.
* Corrected wrong text for bearing from user aircraft. Now showing bearing and distance `from` user
  aircraft instead of `to`.
* 3.0.7.rc1 to 3.0.8: Fixed crash when trying to show information for incomplete or missing
  airports or navaids when switching between simulator databases.

### User Interface

* Added hint and link to clear the map tile cache in add Mapbox style dialog when changing or
  updating the Mapbox user map.
* Fixed issues where coordinates received the wrong sign near Meridian line when using Google
  coordinates. This resulted in misplaced userpoints or distance rings.
* Corrected inconsistent naming for arrival/approach. Now using both in related user interface
  elements.
* Reworked database error reporting to include more information. SQLite scenery library databases
  open read only now.
* Non-blocking dialog windows now remember position. This covers `Flight Plan Calculation`,
  `Logbook Statistics` and `Flight Plan Route Description` dialog windows.
* Resetting all non-blocking windows to default size and center position now when using `Reset
  window layout` to avoid windows being lost off-screen. Also, re-centering the main window when
  resetting layout from window menu.
* Added message dialog to `Reset all Messages` for clarification.
* Fixed issue where application was still detected as running when trying to send a command through
  the command line.
* Added `-q` / `--quit` command line argument to exit an already running instance.
* New icons for 32 and 64 bit Windows builds to easier see the difference if both are installed.
* More checks to avoid crashes
* 3.0.7.rc1 to 3.0.8: Translations updated. Thanks to Flavio, Patrick and Ricardo!
* 3.0.7.rc1 to 3.0.8: Fixed issue where wind arrows did not show up on some systems.
* 3.0.7.rc1 to 3.0.8: Removed Dutch, Chinese and Spanish translations translations since these have
  not been updated for a long time which can cause problems in the user user interface. The resulting
  issues can range from arrows pointing into the wrong direction to missing texts and numbers.
  You can still install the translations manually if you wish by downloading the related `*.qm` files
  from [GitHub - littlenavmap - release/3.0](https://github.com/albar965/littlenavmap/tree/release/3.0)
  and saving them besides the other translations in the installation folder.
  Contact me if you'd like to update a translation or if you would like to create a new one:
  [Contact](https://albar965.github.io/contact.html).

### Web Interface

* Fixed missing aircraft trail in web interface.
* Fixed KML overlays not shown on the web interface.

#### Improvements and fixes by [u-an-i](https://github.com/u-an-i) and [KOKAProduktion](https://github.com/KOKAProduktion)

* Default display mode now uses a new navigation method. Click to center the map around the
  click-spot and use the mouse wheel to zoom in or out.
* The plugin `Dynamic touch and drag map` enables a dynamic map which has smooth scrolling
  (click-and-move) as well as zooming with the mouse wheel. Note that neither the AI/multiplayer
  aircraft nor the flight tracks of the user aircraft are shown in this mode. Small display errors
  like duplicate labels can appear.
* Legacy map removed.
* More restructuring, performance improvements and updated documentation for the web frontend in
  general, web API, web plugin API, web toolbar API and web theming CSS templates; useful for
  developers and people who wish to enhance or modify the web frontend experience.

### Installation

* Windows installer now checks for running program on install and uninstall to avoid a broken
  installation.
* Changed Linux archive to XZ format for smaller files.
* Added Debian installation packages provided by Daniel Buschke
  [tuxmainy](https://github.com/tuxmainy). This package installs Little Navmap and Little Navconnect.
  Little Xpconnect can still be installed using the menu item `Install Little Xpconnect in X-Plane plugins`
  in the menu `Tools`.
* Installer has a new icon to avoid confusion with the program file.

==<<=============================================================================

# Version 3.0.6

## Changes from 3.0.5 to 3.0.6

### Flight Plan and Procedures

* Fixed wrong warning for runway mismatches in procedure search. Showed unneeded mismatch warning
  for runways without procedure. Example: KSTK.
* Fixed issue where SID/STAR could not be reloaded due to wrongly detected runway mismatch when
  using the MSFS scenery library. Example: EDDE ERNE1V EDDK/I14L
  could not load ERNE1V when loading the flight plan for MSFS.
* Flight plan name now updated in window title bar when using `Save` or `Save as`.
* Now correctly assigning `ALL` as runway designator to SID/STAR having no runway assignments in MSFS.
  Reload the scenery library if you use MSFS.
* Fixed issue where STAR could not be loaded from MSFS PLN file. Example: KIAD/30 ANJLL4.DNERO KLAX/06L.
* Fixed crash when modifying flight plan.

### Flight Plan Route Description

* Fixed issue where STAR keyword was not generated from flight plan in route description.
  Now always adding generic SID/STAR keywords in export formats like the Rotate MD-80 .txt format
  to avoid issues when loading plan in FMC.
* Fixed issue with alternate airports having the same STAR as destination.
  Example: `KVHN SSO SUNSS8 KDVT KPHX` showed a wrong error message and used KPHX as destination.
* Fixes in route description where description `MUHA EPMAR3 MAXIM SNDBR3 KMIA` was not recognized
* Added `Ctrl+Return` shortcut to create flight plan from route description.
* Fixed issues where airways were not recognized. Example: `KCNM WHOLE EWM J4 SUNSS8.SSO KDVT` where
  J4 was added as a far off NDB.
* Fixed plan reset to VFR in route description. Flight plan type is now set from current flight plan
  type in window `Flight Planning` when clicking `Load from Flight Plan`.

### Flight Plan Export

* Reverted change for degree sign `°` vs. `*` in MSFS PLN flight plan files to avoid issues with
  third-party software not capable to read this MSFS compatible format.
* Added new multiexport format `Microsoft Flight Simulator 2020 format using "*" as degree sign`
  for cases where the simulator or add-ons  cannot deal with the `°` sign.
* Removed obsolete annotated PLN export. Little Navmap can still read this format from old flight
  plans.

### Map Display

* Added three add-on airport map display options to menu `View` and toolbar.
  See [User Manual - View Menu - Airports](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/MENUS.html#airports).
  1. `Add-on no override` (`Ctrl+Alt+O`): Add-on airports are shown like normal airports.
  2. `Add-on override zoom`  (`Ctrl+Alt+Z`): Add-on airports override zoom distance only but filters
     like `Soft Surface` can still be used to hide them.
  3. `Add-on override zoom and filter` (`Ctrl+Alt+Y`): Add-on airports override zoom distance and
     filters, i.e. are always shown. Filters like `Soft Surface` have no effect on add-on airports.
* Added airport filter preset `Show only add-on airports` in menu `View` and toolbar.
* Map theme shortcuts for included themes can now be defined in DGML file.
* Assigned shortcuts `Ctrl+Alt+0` to `Ctrl+Alt+7` for all default free included map themes.
  These do not change when adding additional themes.
* Fixed disappearing related navaids when drawing procedures. This happened when navaid was outside
  the bounding box of the flight plan.
* Added options for airport runway labels and taxiway label size on page `Map Display` in section
  `Airports`.

### User Interface

* Replaced outdated airway types `Victor` and `Jet` with `Low` and `High` everywhere in the program.
* Fixed too small table cell height on Windows with the high DPI option switched off.
* Now also closing the startup image splash window in all dialog windows to avoid being hidden.
  As a result, the program looked like frozen since the hidden dialog window blocked input.
* Fix in Dutch shortcut translation ('Ctrl+D' vs. 'Ctrl+Down') which overlapped with other keys.
* More user interface improvements.
* Minimum number of trail points lowered to 1000.

### Aircraft Progress

* Added map, information and procedure links in progress tab for destination airport, top of climb,
  top of descent, next waypoint and related navaids.
* Fixed wrong next waypoint indication when flying missed approach.

### Logbook

* Logbook takeoff and landing detection is now kept for program restart.
* Improved logbook entry creation to avoid creating of unneeded entries. A flight can now be continued
  after program restart and logbook entry is updated accordingly.
* Now detecting off-airport takeoff and landing. Logbook entries get coordinates in degree/minute
  format as departure and landing position in this case.

### Other

* Translations updated. Thanks to Flavio, Patrick and Ricardo!
* Updated user manual for new features and changes.
* The aircraft performance collection now keeps results on restart. Note that you have to restart
  the collection manually by clicking in menu `Aircraft` -> `Restart Aircraft Performance Collection`,
  the button in the window or `File` -> `Reset all for a new Flight`.
* Now adding backup log file `abarthel-little_navmap.log.1` to issue and crash reports
* Added new X-Plane 12 VASI types `APAPI_L` and `APAPI_R`.
* Fixed issue where X-Plane airways had wrong type assigned. Example:
  EVMON to PAPAL airway Z8 was wrongly declared Jet. #1111
* Corrected VOR range for X-Plane data to use 130 NM for "unspecified but likely high power VOR".

**🐇🐇🪺🪺 Happy Easter! 🪺🪺🐇🐇**

=================================================================================

# Version 3.0.5

**This is a hotfix for Little Navmap which fixes a problem loading MSFS flight plan files.**

See
[Little Navmap 3.0.4 released](https://albar965.github.io/release/2024/03/11/littlenavmap-stable-304-released.html)
or below for the full changelog from 2.8.12.

## Changes from 3.0.4 to 3.0.5

* Hotfix to avoid error message `Caught exception: Invalid lat/long format`
  when loading the new MSFS PLN files with `*` as degree sign, as used since 3.0.4.
* Fixed missing navaids in tabs `Airport` -> `Nearest` and added missing links to navaids.

----

# Version 3.0.4

## Notes

**This is a stable release of Little Navmap which fixes several bugs and adds
improvements as well as new features.**

**Notable changes:** Direct to waypoint function, search refined and simplified,
convert procedure to waypoints for editing, route description using runways and approaches,
load and save aircraft trail as GPX, search in options dialog window, hints in options,
wind in runway and procedure selection, install Little Xpconnect from menu `Tools`,
crash and issue reports, colored aircraft trail and more.

**Also update Little Navconnect and Little Xpconnect if you're using one of them.
Little Navmap will show a notification dialog if you use an outdated version of Little Xpconnect.
You can update and install Little Xpconnect from the menu `Tools` in Little Navmap now.**

**Little Navmap will show a reminder to reload the scenery library databases to get improvements.**

**macOS users: Keep in mind that you have to clear the quarantine flag when updating Little Xpconnect. See
[Clearing the Quarantine Flag on macOS](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/XPCONNECT.html#clearing-the-quarantine-flag-on-macos).**

The updated online user manual is available here:
[Little Navmap - User Manual](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/).

See here for user manual downloads:
[User Manuals - Stable Releases](https://albar965.github.io/manuals.html#stable).

A big thank you to all who reported bugs and issues!

## Changes from 2.8.12 to 3.0.4

See below for changes from 3.0.3.rc1 to 3.0.4.

### User Manual and FAQ

* [Frequently asked questions](https://albar965.github.io/littlenavmap-faq.html) updated.

* Revised the user manual. Added more tips, hints and screenshots.
* User manual is updated for all new functions. All help buttons and links point to the right chapters.
* Added sub-menu `User Manual - Helpful Chapters` with important help links in main menu.
* Removed offline PDF manual in program and installer. You can download the user manual in PDF and other
  formats from the page [User Manuals](https://albar965.github.io/manuals.html). This page is also linked
  from the menu `Help` -> `Download User Manuals`.

#### Map Display and Map Context Menu

* [Convert procedure to waypoints function](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#convert-to-waypoints)
* [Direct to here function](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#direct-to-here)
* [Select leg in flight plan on click](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#show-in-flight-plan)
* [Map Display - New handling of file little_navmap_mapstyle.ini](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/CUSTOMIZE.html#customize-map-display)
* [Map overlays explained](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#overlays-map)

#### Flight Plan Route Description

* [Improved route description now able to write and read runways and approaches](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/ROUTEDESCR.html)

#### User Interface

* [Web and internal links in dialog windows explained](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/INTRO.html#links)
* [Copy and paste formatted text from all dialog windows](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/INTRO.html#copy-and-paste)

#### New Menu Items

* [Search menu for quick access to airport, navaid and other search tabs](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#search-menu)
* [Changed map display filter for add-on airports as requested by users](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#add-on)
* [Show or hide alternate airports](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#show-alternate-airports)
* [Install or update Little Xpconnect from the Little Navmap menu](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#install-xpconnect)
* [Manually create an issue report menu item](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#create-issue-report)
* [New menu items to show map cache and more](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#files-and-directories)
* [Links to helpful user manual chapters](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#help-chapters)

#### Aircraft Trail

* [New chapter for user aircraft trail loading, saving and display options](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/AIRCRAFTTRAIL.html)
* [GPX exchange format (GPX) menu for load and export](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#menu-gpx)

#### Options

* [Search in options dialog](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/OPTIONS.html#options-search)
* [Hints in options dialog](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/OPTIONS.html#options-hints)
* [Option to toggle FreeType font engine](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/OPTIONS.html#options-freetype)

#### Changed Search

* [Changed text search in airport and navaid search windows](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCH.html)
* [Changed search for hidden options and new suffixes](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCH.html#menu-button-search)
* [Changed handling of runways to avoid error messages when adding procedures](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCHPROCS.html#procedure-runways)
* [Showing preferred runways as well as head and cross winds in procedure search](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCHPROCS.html#procedure-preferred-runways)
* [Search for approach idents](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCHPROCS.html#filter-ident-procs)

#### Other

* [New departure leg option in traffic pattern](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/TRAFFICPATTERN.html)
* [Install the Little Xpconnect plugin from the tools menu](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/XPCONNECT.html#xpconnect-installation)
* [New chapter for GLOBE installation](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/GLOBE.html)
* [Create a manual issue report](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/ISSUEREPORT.html)
* [Automatic crash report after improper shutdown](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/CRASHREPORT.html)

### Translations

* Updated Italian translation by Flavio Borgna.
* Updated translation for Brazilian Portuguese by Ricardo Vitor.
* Updated French translation by Patrick.
* Updated German translation.

### Flight Plan

* Added direct to function to all related context menus in flight plan table, map and search result
  table. This function is only enabled if you are connected to a simulator. You can select a direct
  to any waypoint ahead of the active leg, the destination airport or an alternate airport.
  Furthermore you can direct to any position, navaid or airport which are not a part of the flight
  plan. Using `Direct to` adds a waypoint `PPOS` (present position) at the aircraft location and a
  direct line to the clicked position.
* Added function to convert procedures into a list of waypoints. Right click on a procedure leg in
  the flight plan table or the map display and select `Convert to Waypoints`. A warning will be shown
  to indicate limitations of the conversion. After converting you can edit the procedure waypoints
  like any other flight plan waypoint list.
* Added preferred runway indication in departure and destination runway selection dialog window.
  This is based on the selection in menu `Weather` -> `Airport Weather Source` and shows the best
  runways for wind and the used weather source. Also showing head and crosswind for each runway in
  the selection table.
* Less important columns are now hidden in the flight plan table per default. You can bring these
  back in the flight plan table context menu item `Flight Plan Table Display Options` or in the main
  menu `Tools` -> `Flight Plan Table Display Options`.
* Added calibrated magnetic declination at a VOR or real magnetic declination at a waypoint to
  flight plan table. This is disabled per default. Enable it in main menu `Tools` ->
  `Flight Plan Table Display Options`
* Now checking altitude restrictions correctly against airways considering the climb and descent
  phase of a flight plan. Clearing airways in flight plan leg if they conflict with restrictions in
  climb or descent after flight plan calculation to avoid errors.
* Added button to dialog windows `Select Departure Runway` and `Select Destination Runway` to
  quickly jump to the procedure search tab showing departure or arrival and approach procedures.
* An invalid departure and/or destination airport is now allowed when loading a flight plan. The
  altitude at departure and destination points is only assigned if GLOBE elevation data is installed
  and active.
* Corrected wrong indications for flight plan having only one airport as is useful for pattern
  work. Fixed wrong departure indication. Now showing airport as destination as well as distance and
  time for single point plans.
* Removed wrong indentation in print and HTML flight plan. More cleanup in HTML export and
  printing. Made header smaller. #1054
* Moved distance and time section in flight plan header up to general data. Added underline as
  separator in flight plan table header below distance and time section.
* Now showing a warning message if the departure parking spot of a flight cannot be found after
  loading or switching simulator databases.
* User interaction fixes in flight plan table. Now avoiding unwanted centering of navaids due to
  follow selection while editing flight plan. Fixed cursor positioning when editing flight plan.
* Fixed issues with wrong error messages for runway mismatches. The logic is now more tolerant for
  airports where renamed runway numbers do not match exactly the runways in the navigation data due
  to magnetic drift.
* Now trying to find a cruise altitude which does not violate restrictions if it cannot be loaded
  from a flight plan or if the plan has an invalid cruise altitude. This applies to all plans
  which are loaded manually by an user. The change can be undone to revert to the previously
  invalid cruise altitude.
* Fixed issue where PLN, FMS or other imported flight plan files were wrongly overwritten in LNMPLN
  format in some cases.
* Now assigning runway automatically for STAR and approaches to avoid error messages about runway
  mismatches. This means that a selected STAR runway changes automatically to the one used by a
  newly selected approach if the STAR allows multiple runways.
  The runway of a multi-runway STAR will also be automatically selected for an approach runway
  already inserted avoiding the runway selection dialog. Error messages remain if a STAR does not
  allow runways for a selected approach or vice versa.
* Fixed issue where no departure runway could be selected if a plan consisted of only one airport.
  This can happen when starting to build a flight plan and left menu items in context menus disabled.
* Better transition detection now when importing MSFS PLN files. Using last STAR waypoint or last
  en-route waypoint to automatically find a matching approach transition.
* Fixed wrong distance calculation for procedure leg sequence intercept, initial fix and following legs.
  This resulted in wrong distance, time and ETA calculations as well as a wrong elevation profile.
  Example: EFVA via AXUTI and I16-Y.
* Added option to adjust text size for tab 'Flight Plan Remarks' in options on page `Display and Text`.
* Added text size option for flight plan table header text in options on page `Display and Text`.
* Replaced degree sign `°` in MSFS flight plan export with `*` to avoid issues on computers with
  Asian locale.
* More usability improvements.

### Flight Plan Route Description

* Now reading and optionally writing departure runway and approach procedure/runway to and from
  ATS strings.
  You can disable this in the dropdown menu button of the `Flight Plan Route Description` by
  selecting `Write Runway and Approach instructions`.
  Examples: `EDDK/06 NVO1K NVO Q760 INLAR T853 LMA EDDL/LMA.I05R` (approach ILS 05R via
  LMA) `GCLA/36 TFS3T TFS GCTS/TES2.I07-Y` (depart from runway 36 using SID TFS3T) and
  `KSFO/01R DCT BAART R464 BITTA KAENA2 PHNL/BOOKE.R04L` (approach RNAV 04L via BOOKE).
  This allows to share a complete flight plan by just using the route description.
* Logbook entries now use the detailed format including runways and approaches for route description.
* Moved less used menu items to sub-menu `Advanced` in drop down button menu in
  `Flight Plan Route Description` dialog window.
* Fixed route description to recognize a STAR which is equal to waypoint after an airway.
  Example: `RJAA OOITA Y40 KAZMA RJFT` resulted in `No waypoint after airway Y40`.
  KAZMA is STAR as well as a waypoint ending airway Y40. Now adding STAR to plan for these cases.
* Improved altitude correction after reading flight plan description without altitude designation.
  Now using lowest possible altitude depending on airway and procedure restrictions if present.
  Otherwise falls back to defaults for 10000 ft when using VFR or 20000 ft for IFR. Adjust in the
  flight plan table as needed.
* More fixes and improvements.

### Flight Plan Export

* Added export, loading and appending of an aircraft track from and to a GPX file in main menu
  `File` -> `GPX Exchange Format`. GPX track is centered after loading if enabled in options on page
  `Files`.
* Moved GPX export to category `Garmin` in multiexport.
* Fixed wrong altitude in route section for GPX export. Now using calculated altitudes as shown in
  elevation profile. #1053
* Corrected export of `.txt` flight plans where STAR keyword was missing in some cases. This
  affected JarDesign and Rotate MD-80 aircraft.
* Added warning for invalid VFR flights plans when exporting a VFR plan to MSFS wrongly using airways
  and procedures.
* Fixed issue where export did not stop when answering `No` in warning dialog.
* Now prefixing one digit runway numbers with zero for X-Plane FMS export to avoid issues when
  loading into the GPS or FMS.
* Now writing field `ICAOIdent` for userpoints in FSX/P3D flight plan export to fix userpoint display
  in GPS.
* Fix for PLN flight plan export in MSFS where transitions were not loaded by the simulator due to a
  missing waypoint. Example: EDDV, using STAR NIE27 and approach NIE.I27RY or approach SAS.I27RZ.
  Same fix for loading without STAR.
* Fix for missing airport ident for waypoints in PLN flight plan export for FSX/P3D.

### Procedures

* Added ARINC procedure type like `I13R` or `R12` in brackets for approaches in the
  procedure search tree. The ARINC type and procedure ident can now be searched.
  `DACNA (R06)` will be found when entering `DAC` or `R06`, for example.
* Better indication for number of transitions in procedure search using clear text instead of
  the misleading `T`.
* Added preferred runway indication in procedure search top label based on selection in menu
  `Weather` -> `Airport Weather Source`. This shows the best runways for wind and the used weather
  source. Also showing head and crosswind components for approach procedures in procedure tree
  based on `Airport Weather Source`.
* Fixed issue where runway filters were missing in some cases in procedure search.
  Example: KIAD and runway 30 where the runway has only SID and STAR but no approaches.
* Corrected a problem where procedures could not be found in Navigraph database for airports that
  had moved. Examples are GAKL and DAUU in MSFS.
* Now considering airport ident when resolving procedure leg fixes to work around invalid duplicate
  waypoint names in a region. This is to avoid malformed procedures.
* Added warning message if procedure runways cannot be not found for simulator airport. This means
  that runways from navigation data do not match runways of the simulator airport data. You can
  update the navigation data or update or install an add-on airport to fix this. Procedures can still
  be used for such airports since Little Navmap uses a best guess to cross reference simulator
  runways. As a result you will see slightly differring runway numbers in portions of the program.

### Map Display

* Option to use color or black and white gradients for aircraft trail indicating flown altitude.
  Enable this in options on page `Map Aircraft Trail`. The gradient is also used in the elevation
  profile and logbook trail preview. #97
* Added tooltips for aircraft trail and logbook trail preview. Enable this function in option on
  page `Map Tooltips and Clicks`.
* Trail points are now created dynamically depending on aircraft flight path to save trail points and
  get better map display performance. As a result, the trail points are not evenly spaced.
* Add-on airport display has changed and now adheres to airport filters instead of forcing an
  always-on display. Add-on filter now only overrides zoom settings and not filters. This means you
  can hide all add-on airports having a `Soft Surface`, for example.
* Added option to define distance of departure leg when adding airport traffic pattern.
* Fixed incorrect airport filter `No procedure` which omitted airports in some cases. Examples
  EDFQ, EDGS, EDME and EKSN with MSFS and Navigraph in mixed data mode. #1055
* Added function `Select Leg in Flight Plan` in map context menu `More` or for each
  click on a flight plan leg if enabled in options on page `Map Tooltips and Clicks`. This will
  highlight a flight plan leg in the table if you click on the waypoint in the map.
* Added option to hide alternate airports and related flight plan legs in menu
  `View` -> `Show alternate Airports` or on toolbar.
* ILS are now shown or hidden depending on related airport visibility as selected in the airport
  filter on the toolbar or in main menu `View` -> `Airports` to have less clutter on the map.
* Added new airspace styles by Michael Schuster. Thank you a lot for your help!
* Map colors and styles are embedded in the program. You can still add a file
  `little_navmap_mapstyle.ini` to the settings folder to override the default styles. Your
  current `little_navmap_mapstyle.ini` is automatically backed up on first start after updating
  Little Navmap.
* Fixed performance issues when drawing airway and other rotated text labels on Windows which
  resulted in jerky map movement with airways or ILS visible.
* Now disabling font anti-aliasing for all labels when moving map to get a smoother movement.
* Now using FreeType as font engine for better text labels and better performance on Windows.
  Rotated texts are better readable now. You can disable this in options on page `Display and Text`.
* Added airspace labels. Note that labels might still overlap. Disable the labels or
  limit airspace display to improve map display performance if you see jerky map movement.
* Airspace label options added to options dialog on page `Map Labels` in branch `Airspaces`.
* New option for airspace transparency and boundary line thickness on options page `Map Display`.
  These options are combined with styles in `little_navmap_mapstyle.ini` if this file is present.
* Added option for filtering out FBZ (flight buffer zone) and  multiple code `Z` airspaces
  on page `Map Display` in section `Airspaces`. This is on per default and reduces clutter. #1047
* Added text size option for airspaces on options page `Map Display` section `Airspaces`.
* Fixed issue where large airspaces near anti-meridian disappeared.
* Improved placement of flight plan text labels to minimize overlap.
* Fixed missing COM on online center previews. #625
* Now drawing transparent surfaces in X-Plane as light gray for airports with wrong surface
  definitions.
* Colors for apron, runway and other surfaces can now be changed in little_navmap_mapstyle.ini.
  #1059
* Added length in NM and ft or Meters to measurement line tooltips.
* Improved labels on parking spots on the map. Now replacing known keywords like `Gate` and
  others with first word character like `G 1` for `Gate 11`.
* Changed default map darkening when using style from menu `Window` -> `Style` -> `Dark` to a
  lighter value. You can adjust this in options on page `Map` in section `Map Display Options`.
* Fixed issue where internal cache was not cleaned when switching databases resulting in wrong
  nearest airport with procedure indications.
* Improved taxiway labels and increased number of labels.
* Better airspace matching for online airspaces. You can load the files
  [firboundaries.json](https://map.vatsim.net/livedata/firboundaries.json) and
  [traconboundaries.json](https://map.vatsim.net/livedata/traconboundaries.json) into the
  Little Navmap user airspace library to get more real boundaries for VATSIM online centers
  instead of the generic circles. #490
* The empty airport display option is now disabled per default on new installations to avoid
  confusion with wrongly labeled 2D airports in X-Plane 12.
* Adjusted display of navaids for better visibility on dark maps like CARTO Dark Matter or
  Mapbox Dark.
* More map display improvements.

### Map Display Themes

* Better error messages about map theme conflicts showing clickable links to files.
* Added new map theme `Stadia StamenTerrain` requiring an API key since StamenTerrain is discontinued.
  Delete the old StamenTerrain files in your map themes folder which can be seen in options on
  page `Cache and Files` or in the installation folder `.../Little Navmap/data/maps/earth` to avoid
  error messages when starting Little Navmap.
* Updated installer to remove the now unsupported StamenTerrain map theme on update to avoid
  error messages.
* Added a reject list for map themes. You will see a warning for broken and discontinued
  map themes. Uninstall these to silence the warning.
* Added MapBox Dark and MapBox Light map themes. Note that you need a free MapBox account and an API key
  to use these.

### Elevation Profile

* Elevation profile settings are reset now and have to be re-adjusted.
* Now deleting aircraft trail in elevation profile on takeoff to avoid a cluttered profile display.
  This does not affect the trail on the map display which is independently stored.
* Added optional display of vertical speeds to elevation profile header. You can enable this in the
  profile context menu or in the main menu `Tools` -> `Elevation Profile Display Options` in branch
  `Header Line`.
* Fixed issue with wrong error message that kept the program from building the elevation profile.
  Example: Approach I29-Z via PLADE at MMGL.
* Missing PAPI in profile fixed when last procedure leg is a short circle-to-land.
  Example: EGPF via GOW and D23.
* Fixed inaccuracy where highlight point differed from center position and was sometimes hidden
  when using `Follow on map` in the elevation profile.

### Information

* Better text formatting in airport runway and procedure information. Added separator line for
  runways and procedures.
* Made more important fields in aircraft progress bold and large for better visibility while
  flying: Heading, wind and pressure.
* Fixed issue where airports having procedures were not loaded properly in airport tab `Nearest`.

### Options

* Added search function to options dialog on the top left. Search reduces the visible pages to the
  ones containing the search text. Matching labels and buttons are highlighted on each page.
* Reorganized options dialog and moved some options to new pages.
* Better error checking for theme path in options dialog to avoid accidental selection of the stock
  theme folder.
* Added hints prefixed with a light bulb in the options dialog pointing to other related settings.
  Some hints contain a link which directly opens the related page. Bold text is still an important
  note like `Restart required`.
* Extended minimum and maximum line widths and text sizes that can be set in options dialog for
  map features.
* Now removing leading and trailing white space from URLs in options to avoid issues with wrong
  user input. #1089
* New option to enable or disable the FreeType font engine on Windows on options on page `Display and Text`.
  Enabling this results in better and faster text display on the map, especially for rotated labels.
  But the text will appear slightly blurred throughout the whole application. Deselect this to
  avoid the blurred text in menus and application windows.

### Search

* Added combined search field for airport idents and names (ICAO, FAA, city, name and others)
  using partial match for quick search. Separate search fields are still available. The same rules as
  mentioned in the point below apply.
* Completely reworked search functions for all search tabs. Now looking for partial text matches
  per default in all input fields instead of requiring stars as wildcards. This means that a search
  term of `Chicago` will find Gary Chicago as well as KORD. `EDDE` will find Erfurt-Weimar (EDDE)
  as well as Wedderburn. Stars `*` act as wildcards and double quotes `"` force an exact search.
  You can also enter a space separated list of names or idents and Little Navmap will show the
  results for each name.
* Search option fields selected from context menu using include/exclude are now opened
  automatically to avoid confusion. This applies to the `Show in search` function in the
  map context menu.
* Modified search fields hidden from the dropdown button menu (three-lines-button) are now ignored
  when searching.
* Now using better indications in the dropdown menu items. `(changed)` shows that an option is
  used and visible to the user. `(changed, not used)` indicates a changed option is ignored
  since the related fields are hidden from the dropdown menu button.
* Corrected broken sort order of numerical columns when using distance search #1060
* Fixed search to allow usage of underscore (`_`) and percent (`%`) as literals in search terms.
  Note that these are not used as wildcard characters like in SQL.
* Added option to preview the entries to be deleted when using the cleanup function in the
  userpoint and the logbook search.
* Fixed date and time stored in wrong format after editing a logbook entry. This resulted in a
  wrong sort order when sorting by time in the logbook table. Now storing local real time with
  timezone offset. Log data with wrong local real time and missing timezone is now corrected to
  current timezone offset. #1057
* Fixed crash that appeared when importing logbook entries or userpoints a second time.

### Weather

* Now also searching for ICAO code instead of internal ident for METAR reports when using X-Plane
  to avoid missing airport weather reports.
* Now ignoring empty GRIB files from the X-Plane weather folder.

### Scenery Library

* Additional scenery folder added in options on page `Scenery Library Database` is now read
  recursively for all simulators. This means that you can use sub-directories to organize your
  add-ons.
* Hints about encrypted airports and others can now be skipped (`Do not show hints again ...`)
  after loading a scenery library database.
* Now excluding all navaids in detected Navigraph update when reading scenery library of MSFS. This
  speeds up the loading time by skipping unused data.
* Fixed issues with moved or updated airports in MSFS when reading scenery library.
* Doubled number of airspace arc and circle segments for more display accuracy for all simulators.
* Fixed wrong calculation for airport rating which did not update add-on airports in some cases
  for MSFS, FSX and P3D.
* Deleting duplicate navaids now by region, ident and position. This allows to update frequency or
  type for VOR and NDB on P3D or FSX by add-on.
* Wrongly built MSFS airports like the Microsoft MKJS now keep their procedure information despite
  trying to override it with an empty procedure set. #1085
* Updated database version to 14.28. The version is shown in the dialog window `Load Scenery Library`
  as `Database Version`. The current version assigned by Little Navmap is shown as `Program Version`.
  Little Navmap will show a reminder to reload scenery library databases.
* The program now checks for obsolete database versions. You need at least a version later than 14.24
  to avoid crashes. Little Navmap will show a notification dialog on startup where it offers to
  erase and reload the outdated database.
* Added new approach markings for XP12.
* Fixed wrong language settings used to load MSFS database on first startup. Now always using the
  language set in options by the user.

### Navigraph Navdatabase

Note that these changes were first published in AIRAC cycle 2402 and need an updated Navigraph navdatabase.

* Runways marked as closed are now shown as such when using mode `Use Navigraph for all Features`.
* Airport patterns now correctly marked as not available.
* Runways having one end closed are now positioned correctly. This also resulted in misplaced
  departure procedures even when using `Use Navigraph for Navaids and Procedures`. Example: EDDF runway 18.
* Fixed issue where circular airspace arcs resulted in self crossing polygons and thus in wrong
  text placement.

### User Interface

* Split toolbars into smaller sections and reorganized toolbar buttons for a more logical order.
  The smaller toolbars can now be better arranged to user needs.
  Note that the initial state after the update is not defined. You either have to re-arrange
  the toolbars manually or use the function in main menu `Window` -> `Reset Window Layout to Default`
  which also resets the toolbar layout to default.
* Added new main menu `Search` for quick access to most used search functions.
* Moved toolbars and dock window actions in menu `Window` to sub-menus.
* Now compacting status bar fields after timeout if the mouse cursor is not inside the map (no
  coordinate display).
* Fixed issue where not all toolbars were resized on macOS when changing size in options.
* Changed dock window menu items and tool buttons as well as shortcuts to have same order as
  dock windows clockwise.
* Updated all message dialogs to make text in dialog boxes selectable by mouse click and
  right-click context menu. Text can now copied and pasted from all message boxes. No need
  to make screenshots since text can simply be copied.
* Renamed user interface style `Night` to `Dark`.
* More improvements for user interface font changes, dark mode and style `windowsvista`.
* Fixed bug where cleanup did not work properly in logbook and left over logbook entries which could
  not be removed.
* Added menu item in `Tools` -> `Files and Directories` ->
  `Show GLOBE Offline Elevation Data Installation` to open the GLOBE installation folder.
* Added more clickable blue links for files and folders in information, warning or question dialog windows.
  These either open a file in the default program or open a file manager like Windows Explorer or
  Apple Finder showing the file or directory selected.
* Opening and selecting files in system file manager when clicking on links in dialogs. This is now
  working for Linux and macOS too.
* Assigned shortcut `Ctrl+Alt+Shift+W` to `Reset Window Layout to Default` to restore the main window if
  Little Navmap is hidden or off-screen after starting.

### Crash and Issue Report

* Added functionality to automatically generate a crash report on startup. Little Navmap will show
  a notification dialog if it detects an improper shutdown of the last session, i.e. a crash. You can
  then choose to skip loading last used files such as the flight plan or window layout which may have caused
  the crash. A Zip file with all important settings and other files is created and can be shown by
  clicking the blue link in the dialog. Upload this file to a platform like
  [FileTransfer.io](https://filetransfer.io/) and send me the link
  ([Contact](https://albar965.github.io/contact.html)) so I can try to reproduce the
  issue. Note that there is no need to collect the log and other files for a bug report now. The
  files optionally skipped on loading are: Flight plan, aircraft performance, all search terms,
  information content, aircraft trail, window layout and KML files. No user files are modified or removed.
* You can create an issue report manually by selecting main menu `Tools` ->
  `Create an Issue Report` to get a Zip file containing all relevant files needed to reproduce a problem.

### Other

* Fixed various issues when using Windows UNC paths (file share names like `\\server\share\path`).
* Windows installer now removes portable execution script `Little Navmap Portable.cmd` since this cannot
  be used with the installer. Download one of Zip archives of Little Navmap to use the portable mode.
* Enabled IPv6 for remote connections to Little Navconnect.
* Removed command line option `-s` (`--settings-directory`). Use `-p` (`--settings-path`) instead which uses
  either the full path or a path relative to the application executable.
* Fixed settings like high DPI mode not read when using command line options to relocate the settings folder
  like it is used in portable mode.

### Web Server

* Enabled IPv6 for web server and added additional IPv6 addresses to display.
* Fixed additional map theme not used on web server map which was stuck to OpenStreetMap.
* Removed display of loopback or localhost devices in options on page `Web Server` which are not
  accessible from other computers on a local network. This is now added only if no other
  address was found, i.e. no network interfaces like Wi-Fi or Ethernet available.
* Fixed issues where the web server map reverted back to the Atlas map theme when using external map
  themes.
* Fixed a deadlock resulting in program freeze in HTTP server. This appeared when shutting down with
  parallel incoming web requests.
* Corrected excessive logging in HTTP server which could cause stutters in simulators.
* Document root folder change in options on page `Web Server` is now handled correctly.
* Better error checking and display for wrong document root folder in options on page `Web Server`.
* Fixed creating of unwanted registry entries in `HKEY_CURRENT_USER\SOFTWARE\ABarthel\Little Navmap`.
  `HKEY_CURRENT_USER\SOFTWARE\ABarthel` and all sub-keys are now removed when starting Little Navmap
  after updating.

### X-Plane and Little Xpconnect

* Added installation option for Little Xpconnect from main menu
  `Tools` -> `Install Little Xpconnect in X-Plane plugins`.
  This can be used to install or update the X-Plane plugin from the installation folder.
  Note that the plugin will be installed in the currently selected X-Plane instance from
  menu `Scenery Library`. Additonally Little Navmap will scan for double and wrong installations of
  Little Xpconnect. Do not download the plugin manually. It is included in the Little Navmap
  download archive.
* Added version check for Little Xpconnect. Now showing a warning message if an outdated version of
  the plugin was found.

### Linux

* Now safely catching termination signals on Linux. This avoids data loss due to unsaved files when
  terminating the program with Ctrl+C from the command line.
* Show in file manager function for blue links in Little Navmap now also works on Linux. This uses
  the DBUS protocol to start the default file manager and select a file in in.
* Little Navmap supports the Wayland compositor which is used on newer Linux distributions
  but you have to install the package `qtwayland5`.

## Changes from 3.0.3.rc1 to 3.0.4

These are fixes for bugs introduced with the 3.0 versions.

* AI aircraft altitude now appears at higher zoom distance on the map.
* Corrected not translatable texts in runway dialog.
* Fixed issues in route description when opening from SimBrief. Now hiding advanced menu and adding
  runways to route description when opening dialog after download.
* Attempt to fix crashes on Windows shutdown with Little Navmap open.
* Fixed issue where a wrong crash report was triggered after identifying incompatible database.
* Now omitting IPv6 link local addresses in display in options on page `Web Server`.
* Reworked issue report to include up-to-date files now as well as flight plan as loaded in memory.
* Removed ILS de-duplication from X-Plane data compiler and adjusted it for MSFS, P3D and FSX.
* Fixed issue where procedures having runways not matching simulator runways resulted in a wrong
  runway warning. Example: SKBO in X-Plane 11/12 having 13L, 13R, 31L and 31R while latest
  navigation data (cycle 2402) refers to 14L, 14R, 32L and 32R. In December 2022 the runways at
  SKBO (Bogotá El Dorado International Airport) were renamed due to magnetic heading drift.
  This can occiasinally happen at airports.
* Changed application to catch Windows shutdown correctly. Now exiting program cleanly when shutting
  down Windows with Little Navmap running.

=================================================================================

# Version 3.0.3.rc1

## Changes from 3.0.2.beta to 3.0.3.rc1

### User Manual

#### Map Display and Map Context Menu

* [Convert procedure to waypoints function](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#convert-to-waypoints)
* [Direct to here function](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#direct-to-here)
* [Map overlays](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#overlays-map)
* [Select leg in flight plan on click](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MAPDISPLAY.html#show-in-flight-plan)
* [Map Display - New handling of file little_navmap_mapstyle.ini](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/CUSTOMIZE.html#customize-map-display)

#### Flight Plan Route Description

* [Improved route description now able to use runways and approaches](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/ROUTEDESCR.html)

#### User Interface

* [Web and internal links in dialog windows explained](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/INTRO.html#links)
* [Copy and paste formatted text from all dialog windows](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/INTRO.html#copy-and-paste)

#### New Menu Items

* [Search menu for quick access](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#search-menu)
* [Changed map display filter for add-on airports as requested by users](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#add-on)
* [Show or hide alternate airports](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#show-alternate-airports)
* [Automatic installation of Little Xpconnect menu item](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#install-xpconnect)
* [Manually create an issue report menu item](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#create-issue-report)
* [New menu items to show map cache and more](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#files-and-directories)
* [Links to helpful user manual chapters](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#help-chapters)

#### Aircraft Trail

* [New chapter for user aircraft trail loading, saving and display options](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/AIRCRAFTTRAIL.html)
* [GPX exchange format (GPX) menu for load and export](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/MENUS.html#menu-gpx)

#### Options

* [Search in options dialog](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/OPTIONS.html#options-search)
* [Hints in options dialog](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/OPTIONS.html#options-hints)
* [Option to toggle FreeType font engine](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/OPTIONS.html#options-freetype)

#### Changed Search

* [Changed text search in airport and navaid search windows](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCH.html)
* [Changed search for hidden options and new suffixes](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCH.html#menu-button-search)
* [Changed handling of runways to avoid error messages when adding procedures](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCHPROCS.html#procedure-runways)
* [Showing preferred runways as well as head and cross winds in procedure search](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCHPROCS.html#procedure-preferred-runways)
* [Search for approach idents](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/SEARCHPROCS.html#filter-ident-procs)

#### Other

* [New departure leg option in traffic pattern](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/TRAFFICPATTERN.html)
* [Install the Little Xpconnect plugin from the tools menu](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/XPCONNECT.html#xpconnect-installation)
* [New chapter for GLOBE installation](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/GLOBE.html)
* [Create a manual issue report](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/ISSUEREPORT.html)
* [Automatic crash report after improper shutdown](https://www.littlenavmap.org/manuals/littlenavmap/release/3.0/en/CRASHREPORT.html)

### General

* Fixed several issues with flight plan labels when crossing the anti-meridian.
* Now removing leading and trailing white space from URLs in options to avoid issues with wrong
  user input. #1089
* Improved altitude correction after reading flight plan description without altitude designation.
  Now using lowest possible altitude depending on airway and procedure restrictions if present.
  Otherwise falls back to defaults for 10000 ft when using VFR or 20000 ft for IFR. Adjust in the
  flight plan table as needed.
* Missing PAPI in profile fixed when last procedure leg is short circle-to-land.
  Example: EGPF via GOW and D23.
* Fixed turn indicator curve at low aircraft speeds and small turn radii.
* Added text size option for flight plan table header text in options on page `Display and Text`.
* Fixed aircraft index flooding log with messages when loading MSFS aircraft files to get ICAO type.
  Now avoiding re-reading if aircraft files are not available.
* Now writing ICAOIdent field for userpoints in FSX/P3D flight plan export to fix userpoint display
  in GPS.
* Removed log flooding with messages when adding points to aircraft trail while flying.
* Adding `More` sub-menus in menu `View` -> `Userpoints` to avoid overflow on screen when using many
  custom userpoint icons.
* Fixed wrong distance calculation for procedure leg sequence intercept, intitial fix and following legs.
  This resulted in wrong distance, time and ETA calculations as well as a wrong elevation profile.
  Example: EFVA via AXUTI and I16-Y.
* Windows installer now removes portable execution script `Little Navmap Portable.cmd` since this cannot
  be used with the installer. Download one of Zip archives of Little Navmap to use the portable mode.
* Removed offline PDF manual in program and installer. You can download the user manual in PDF and other
  formats from the page [User Manuals](https://albar965.github.io/manuals.html).
* Now ignoring empty GRIB files from the X-Plane weather folder. Replaced error dialog window with
  warning message in log.
* Moved option to enable or disable the FreeType font engine on Windows into options on page `Display and Text`.
  Enabling this option results in better and faster text display on the map, especially for rotated labels.
  But the text will appear slightly blurred throughout the whole application. Deselect this to
  avoid the slightly blurred text in menus and application windows.
* More fixes in PLN flight plan export for MSFS where transitions were not loaded by MSFS due to a missing
  waypoint. This case without a STAR. Example: EDDV, using approach NIE.I27RY or approach SAS.I27RZ both
  without STAR.

=================================================================================

# Version 3.0.2.beta

## Changes from 3.0.1.beta to 3.0.2.beta

### Flight Plan and Export

* Now assigning runway automatically for STAR and approaches to avoid error messages about runway
  mismatches. This means that a selected STAR runway changes automatically to the one used by a
  newly selected approach if the STAR allows multiple runways.
  The runway of a multi-runway STAR will also be automatically selected for an approach runway
  already inserted avoiding the runway selection dialog.
* Fix for PLN flight plan export in MSFS where transitions were not loaded by MSFS due to a missing
  waypoint. Example: EDDV, using STAR NIE27 and approach NIE.I27RY or approach SAS.I27RZ.
* Fixed issue where no departure runway could be selected if a plan consisted of only one airport.
  This can happen when starting to build a flight plan and left menu items in context menus disabled.
* Corrected wrong warning about VFR when exporting a PLN flight plan for MSFS. This appeared when
  using a departure or destination runway selection.
* Better transition detection now when importing MSFS PLN files. Using last STAR waypoint or last
  en-route waypoint to automatically find a matching approach transition.
* Fixed issue where runway filters were missing in some cases in procedure search.
  Example: KIAD and 15L where the runway has only SID and STAR but no approaches.
* Fixed route description to recognize a STAR which is equal to waypoint after an airway.
  Example: `RJAA OOITA Y40 KAZMA RJFT` resulted in `No waypoint after airway Y40`.
  KAZMA is STAR as well as a waypoint ending airway Y40. Now adding STAR to plan for these cases.
* Now generating correct route description for single digit runway.
  Example: KYKM runway 9 to 'KYKM/09'.
* Fixed wrong error message about parking not found after deleting or replacing departure airport.
* Now omitting the first runway waypoint for a user defined departure (`Set Departure Runway`) to avoid
  issues with simulators.

### Map Display

* Added a reject list for map themes. You will see a warning for broken and discontinued
  map themes. Uninstall these to silence the warning.
* Better error checking for theme path in options dialog to avoid accidental selection of the stock
  theme folder.
* Updated installer to remove the now unsupported StamenTerrain map theme on update to avoid
  error messages.
* Added MapBox Dark and Light map themes. Note that you need a free MapBox account and an API key
  to use these.
* Map themes MapBox Outdoors and Satellite Streets updated to latest MapBox theme address.
* Added option for filtering out FBZ (flight buffer zone) airspaces on page `Map Display` in section
  `Airspaces`. This is on per default and reduces clutter when showing airspaces.
* Better airspace matching for online airspaces. You can load the files
  [firboundaries.json](https://map.vatsim.net/livedata/firboundaries.json) and
  [traconboundaries.json](https://map.vatsim.net/livedata/traconboundaries.json) into the
  Little Navmap user airspace library to get more real boundaries for VATSIM online centers
  instead of the generic circles. #490
* Removed drawing of empty white rectangle on map on startup. Now showing background map like the
  OpenStreetMap first.
* Adjusted display of navaids for better visibility on dark maps like CARTO Dark Matter or
  Mapbox Dark.
* The empty airport display option is now disabled per default on new installations to avoid
  confusion also with wrongly labeled 2D airports in X-Plane 12.
* Fixes for airspace altitude display in information and in map.
* Adjusted aircraft trail recording to generate more accurate points when flying slow aircraft.
* Other small improvements in map display.

### User Interface

* Added installation option for Little Xpconnect from main menu
  `Tools` -> `Install Little Xpconnect in X-Plane plugins`.
  This can be used to install or update the X-Plane plugin from the installation folder.
  Note that the plugin will be installed in the currently selected X-Plane instance from
  menu `Scenery Library`.
  Do not download the plugin manually. It is included in the Little Navmap download archive.
* Renamed user interface style `Night` to `Dark`.
* Improved text and icon display for the user interface style `Dark`.
* Added option to adjust text size for tab 'Flight Plan Remarks' in options on page `Display and Text`.
* Fixed bug where cleanup did not work properly in logbook and left over logbook entries which could
  not be removed.
* Changed application to catch Windows shutdown which resulted in wrong crash reports.
  Now exiting program cleanly when shutting down Windows with Little Navmap running.
* Now safely catching termination signals on Linux. This avoids data loss due to unsaved files when
  terminating with Ctrl+C from the command line.
* Now resizing connection and load scenery dialogs to avoid cut off content. Saving size now.
* Added menu item in `Tools` -> `Files and Directories` ->
  `Show GLOBE Offline Elevation Data Installation Directory` to open the GLOBE installation folder.
* Added more clickable blue links for files and folders in information, warning or question dialog windows.
* Now opening and selecting files in system file manager when clicking on links in dialogs. This is
  working now for Linux and macOS too.

### Web Server

* Fixed a deadlock resulting in program freeze in HTTP server. This appeared when shutting down with
  parallel incoming web requests.
* Updated internal HTTP server by Stefan Frings to latest version from 1.9.0.
* Corrected excessive logging in HTTP server which can cause stutters.

### Scenery Library

* MSFS: Fixed issues with moved or updated airports when reading scenery library.
* Doubled number of airspace arc and circle segments for more accuracy.
* Fixed wrong calculation for airport rating which did not update add-on airports in some cases
  for MSFS, FSX and P3D.
* Deleting duplicate navaids now by region, ident and position. This allows to update frequency or
  type for VOR and NDB on P3D or FSX by add-on.
* Wrongly built airports like the MS MKJS now keep their procedure information in MSFS despite
  trying to override it with an empty procedure set. #1085

### Navigraph Navdatabase

Note that these changes will be deployed in a future cycle (most likely 2402) and need an
updated Navigraph navdatabase.

* Runways marked as closed are now shown as such when using mode `Use Navigraph for all Features`.
* Airport patterns now correctly marked as not available.
* Runways having one end closed are now positioned correctly. This also resulted in misplaced
  departure procedures. Example: EDDF runway 18.
* Fixed issue where circular airspace arcs resulted in self crossing polygons and wrong
  text placement.

=================================================================================

# Version 3.0.1.beta

## Notes

**This is a beta/test release of Little Navmap which adds new features, user interface improvements and fixes bugs.**

**Note that the program translations and the user manual have not been updated yet.**

**Toolbar layout has changed. See below in section "User Interface" for more information.**

**See here if you would like to run the beta release besides your stable installation:
[Little Navmap - User Manual - Portable Execution](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/INSTALLATION.html#portable-execution).**

**Also update Little Navconnect and Little Xpconnect if you're using one of these.
Little Navmap will show a notification dialog if you use an outdated version of Little Xpconnect.
You can still continue to use it, though.**

**macOS users: Keep in mind that you have to clear the quarantine flag when updating Little Xpconnect. See
[Little Navmap - User Manual - Clearing the Quarantine Flag on macOS](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/XPCONNECT.html#clearing-the-quarantine-flag-on-macos).**

Note that the font handling has changed. You probably have to adapt font sizes in the information display, the
map display and the rest of the application.

A big thank you to all who reported bugs and issues!

## Changes from 3.0.0.beta to 3.0.1.beta

* Fixed issues where web-server map reverted back to Atlas map themes when using external map
  themes like Google.
* Fix for missing map updates when using touchpad for zooming.
* Fixed map drawing since it may cause frozen screens or missing updates on some systems.
* Fixed blank map screen in macOS after click.
* Fixed crash when zooming out with airspace highlights visible.
* More internal fixes for potential crashes when accessing empty lists.
* Improved taxiway labels and increased number of labels.
* Adjusted airspace boundaries and made lines thinner for some types.
* Fixed issues with wrong error messages with runway mismatches. The logic is now more tolerant for
  airports where renamed runway numbers do not match exactly the runways in the navigation data.
* Fixed route string reader which did not recognize approach for short plans.
  Example: MMBT MMGL/PLADE.I29-Z
* Corrected a problem where procedures could not be found in Navigraph database for airports that
  had moved. Examples are GAKL and DAUU in MSFS.
* Fixed issue with wrong error message that kept the program from building the elevation profile.
  Example: Approach I29-Z via PLADE at MMGL.
* Changed dock window menu items and tool buttons to have same order as docks.
* First draft of German translation.
* More small fixes and text changes.
* Now trying to find a cruise altitude which does not violate restrictions if it cannot be loaded
  from a flight plan or if the plan has an invalid cruise altitude. This applies to all plans
  which are loaded manually by an user. The change is now stored in the undo/redo stack and can be
  undone to revert to the previously invalid cruise altitude.
* Fixed issue wher PLN, FMS or other imported flight plan files were wrongly overwritten in LNMPLN
  format in some cases.
* Updated all message dialogs to make text in dialog boxes selectable by mouse click and
  right-click context menu. Text can now copied and pasted from all message boxes. No need
  to make screenshots.
* All message box messages are now logged.
* Fixed large font in tables on macOS.
* Fix for excessive warnings in HTTP server flooding the log.
* Updated Italian translation by Flavio Borgna.

**🎉🎉🎉 A Happy New Year to all of you! 🎉🎉🎉**

=================================================================================

# Version 3.0.0.beta

## Changes from 2.8.12 to 3.0.0.beta

### Crash and Issue Report

* Added functionality to automatically generate a crash report on startup. Little Navmap will show
  a notification dialog if it detects an improper shutdown of the last session, i.e. a crash. You can
  then choose to skip loading last used files such as the flightplan or window layout that may have caused
  the crash. A Zip file with all important settings and other files is created and can be shown by
  clicking the blue link in the dialog. Upload this file to a platform like
  [FileTransfer.io](https://filetransfer.io/) and send me the link so I can try to reproduce the
  issue. Note that there is no need to collect the log and other files for a bug report now. The
  files optionally skipped on loading are: Flight plan, aircraft performance, all search terms,
  information content, aircraft trail, window layout and KML files. No files are modified or removed.
* You can create a bug or issue report manually by selecting main menu `Tools` ->
  `Create an Issue Report` to get a Zip file containing all relevant files needed to reproduce a problem.

### Flight Plan

* Added function to convert procedures into a list of waypoints. Right click on a procedure leg in
  the flight plan table or the map display and select `Convert to Waypoints`. A warning will be shown
  to indicate limitations of the conversion. After converting you can edit the procedure waypoints
  like any other flight plan waypoint list.
* Added direct to function to all related context menus in flight plan table, map and search result
  table. This function is only enabled if you are connected to a simulator. You can select a direct
  to any waypoint ahead of the active leg, the destination airport or an alternate airport.
  Furthermore you can direct to any position, navaid or airport which are not a part of the flight
  plan. Using `Direct to` adds a waypoint `PPOS` (present position) at the aircraft location and a
  direct line to the clicked position.
* Less important columns are now hidden in the flight plan table per default. You can bring these
  back in the flight plan table context menu item `Flight Plan Table Display Options` or in the main
  menu `Tools` -> `Flight Plan Table Display Options`.
* Added preferred runway indication in departure and destination runway selection dialog window.
  This is based on the selection in menu `Weather` -> `Airport Weather Source` and shows the best
  runways for wind and the used weather source. Also showing head and crosswind for each runway in
  the selection table.
* Added calibrated magnetic declination at a VOR or real magnetic declination at a waypoint to
  flight plan table. This is disabled per default. Enable it in main menu `Tools` -> `Flight Plan
  Table Display Options`
* Now checking altitude restrictions correctly against airways considering the climb and descent
  phase of a flight plan.
* Now clearing airways in flight plan leg if they conflict with restrictions in climb or descent
  after flight plan calculation to avoid errors.
* Added button to dialog windows `Select Departure Runway` and `Select Destination Runway` to
  quickly jump to the procedure search tab showing departure or arrival and approach procedures.
* Changes in flight plan loading. Now detecting and correcting invalid cruise altitude values when
  loading a plan. The corrected altitude depends on plan type (IFR or VFR), used procedures and used
  airways. A notification dialog is displayed if a correction had to be applied.
* An invalid departure and/or destination airport is now allowed when loading a flight plan. The
  altitude at departure and destination points is assigned only if GLOBE elevation data is installed
  and active.
* Corrected wrong indications for flight plan having only one airport as is useful for pattern
  work. Fixed wrong departure indication. Now showing airport as destination as well as distance and
  time for single point plans again.
* Fixed issue with too late loading of elevation data possibly resulting in wrong flight plan
  altitudes.
* Fixes issues where flight modifications triggered unwanted follow selection jumping randomly to
  waypoints.
* Removed wrong indentation in print and HTML flight plan. More cleanup in HTML export and
  printing. Made header smaller. #1054
* Moved distance and time section in flight plan header up to general data. Added underline as
  separator in flight plan table header below distance and time section.
* Now showing a warning message if the parking spot of a flight cannot be found after loading or
  switching simulator databases.
* Fixed altitude adjustment. An altitude of 28,000 ft now remains at this value instead of wrongly
  extending it to 30,000
* User interaction fixes in flight plan table. Now avoiding unwanted centering of navaids due to
  follow selection while editing flight plan. Reduced unneeded updates. Fixed cursor positioning when
  editing flight plan.

### Flight Plan Route Description

* Now reading and optionally writing departure runway and approach procedure/runway to and from ATS
  strings.
  You have to enable this in the dropdown menu button of the `Flight Plan Route Description` by
  selecting `Write Runway and Approach instructions` and fetch the route description from the current
  flight plan. Examples: `EDDK/06 NVO1K NVO Q760 INLAR T853 LMA EDDL/LMA.I05R` (approach ILS 05R via
  LMA) `GCLA/36 TFS3T TFS GCTS/TES2.I07-Y` (depart from runway 36 using SID TFS3T) and `KSFO/01R DCT
  BAART R464 BITTA KAENA2 PHNL/BOOKE.R04L` (approach RNAV 04L via BOOKE). This allows to share a
  complete flight plan by just using the route description.
* Logbook entries now use the detailed format for route description.
* Moved less used menu items to sub-menu `Advanced` in drop down button menu in
  `Flight Plan Route Description` dialog window.
* Fixed issue where wrong SID and STAR runway assignments were not recognized and no error message
  was printed.
* Better error report and warnings in output window.
* Updated quick help for route description.

### Flight Plan Export

* Added export, loading and appending of an aircraft track from and to a GPX file in main menu
  `File` -> `GPX Exchange Format`. GPX track is centered after loading if enabled in options on page
  `Files`.
* Moved GPX export to category `Garmin` in multiexport.
* Fixed wrong altitude in route section for GPX export. Now using calculated altitudes as shown in
  elevation profile. #1053
* Corrected export of `txt` flight plans where STAR keyword was missing in some cases. This
  affected JarDesign and Rotate MD-80 aircraft.
* Added warning for invalid VFR flights plans when exporting a VFR plan to MSFS using airways and
  procedures.
* Fixed issue where export did not stop when answering `No` in warning dialog.
* Now prefixing one digit runway numbers with zero for X-Plane FMS export to avoid issues when
  loading into the GPS or FMS.

### Information

* Better text formatting in airport runway and procedure information. Added separator line for
  runways and procedures.
* Made more important fields in aircraft progress bold and large for better visibility while
  flying: Heading, wind and pressure.
* Fixed issue where airports having procedures were not loaded properly in airport tab `Nearest`.

### Map Display

* Added new map theme `Stadia StamenTerrain` now requiring an API key. Delete the old StamenTerrain
  files in your map themes folder which can be seen in options on page `Cache and Files` or in the
  installation folder `.../Little Navmap/data/maps/earth` to avoid error messages when starting
  Little Navmap. [The obsolete installation instructions are here](https://www.avsim.com/forums/topic/638380-stamenterrain-map-theme-is-discontinued-gray-blocks-in-map/).
* Better error messages about map theme conflicts now showing both offending files.
* Added option to define distance of departure leg in airport traffic pattern.
* Option to use color or black and white gradients for aircraft trail indicating flown altitude.
  Enable this in options on page `Map Aircraft Trail`. The gradient is also used in the elevation
  profile. #97
* Added tooltips for aircraft trail and logbook trail preview. This is off per default. Enable this
  function in option on page `Map Tooltips and Clicks`.
* Trail points are now created dynamically depending on aircraft flight path to result in a trail
  having less points on straight legs but more points in turns or when doing altitude changes. This
  helps to improve map display performance. As a result, the trail points are not evenly spaced.
* Add-on airport display has changed and now adheres to airport filters instead of forcing an
  always-on display. Add-on filter now only overrides zoom settings and not filters. This means you
  can hide all add-on airports having a `Soft Surface`, for example.
* Fixed incorrect airport filter by procedure status which omitted airports in some cases. Examples
  EDFQ, EDGS, EDME and EKSN with MSFS and Navigraph in mixed data mode. #1055
* Added select in flight plan in map context menu `More` -> `Select Leg in Flight Plan` or for each
  click on a flight plan leg if enabled in options on page `Map Tooltips and Clicks`. This will
  highlight a flight plan leg in the table if you click on it in the map.
* Added option to hide alternate airports and related flight plan legs in menu
  `View` -> `Show alternate Airports` or on toolbar.
* ILS are now shown or hidden depending on related airport visibility as selected in the airport
  filter on the toolbar or in main menu `View` -> `Airports`.
* Added new airspace styles by Michael Schuster. Thank you a lot for your help!
* Map colors and styles are now loaded from a resource embedded in the program. You can still add a
  file `little_navmap_mapstyle.ini` to the settings folder to override the default styles. Your
  current `little_navmap_mapstyle.ini` is automatically backed up on first start after updating
  Little Navmap.
* Fixed issue where color for caution airspace could not be changed in `little_navmap_mapstyle.ini`.
* Now disabling font anti-aliasing for all labels when moving map to get a smoother movement.
* Fixed performance issues when drawing airway and other rotated text labels on Windows which
  resulted in performance issues when moving the map with airways or ILS visible.
* Now using Freetype as font engine for better text labels and better performance on Windows.
  Rotated texts are better readable now.
* Improved placement of flight plan text labels to minimize overlap.
* Procedure preview now shows restrictions also for `Preview all Procedures`.
* Added airspace labels. This is not perfect yet, labels may still overlap. Disable the labels or
  limit airspace display to improve map display performance if you see jerky map movement.
* Airspace label options added to options dialog on page `Map Labels` in branch `Airspaces`.
* Added text size option for airspaces on options page `Map Display` section `Airspaces`.
* Fixed missing COM on online center previews. #625
* Added option to disable redundant airspaces with multiple code `Z` on options page `Map Display`.
  #1047
* New option for airspace transparency and boundary line thickness on options page `Map Display`.
  These options are combined with styles in `little_navmap_mapstyle.ini` if this file is present.
* Fixed issue where large airspaces near anti-meridian disappeared.
* Now drawing transparent surfaces in X-Plane as light gray.
* Colors for apron, runway and other surfaces can now be changed in little_navmap_mapstyle.ini.
  #1059
* Fixed issue where truncated labels appeared at measurement or other lines.
* Added length in NM and ft or Meters to measurement line tooltips.
* Fixed missing inbound an outbound arrows at flight plan and improved text placement for these
  labels around VOR to avoid overlapping the symbols.
* Improved labels on parking spots on the map. Now replacing known keywords like `Gate` and others.
* Adjustments to background text boxes. Using rounded rectangles now. Corrected margins for text
  background rectangle.
* Changed default map darkening when using style from menu `Window` -> `Style` -> `Night` to a
  lighter value. You can adjust this in options on page `Map` in section `Map Display Options`.
* Fixed issue where internal cache was not cleaned when switching databases resulting in wrong
  nearest airport with procedure indications.
* New performance checking options for drawing in `little_navmap.ini` in group `[Options]`, key
  `MapLayerDebugDraw`. This will print draw times to the map display.
* Fixed random crash when calculating best runway by wind for tooltip.
* Further optimizations and drawing improvements.

### Elevation Profile

* Now deleting aircraft trail in elevation profile on takeoff to avoid a cluttered elevation
  profile. This does not affect the trail on the map display which is independently stored.
* Added optional display of vertical speeds to elevation profile header. You can enable this in the
  profile context menu or in the main menu `Tools` -> `Elevation Profile Display Options` in branch
  `Header Line`. Elevation profile settings are reset now and have to be re-adjusted.

### Options

* Reorganized options dialog and moved some options to new pages.
* Added search function to options dialog on the top left. Search reduces the visible pages to the
  ones containing the search text. Matching labels and buttons are highlighted on each page.
* Added hints prefixed with a lightbulb in the options dialog pointing to other related settings.
  Some hints contain a link which directly opens the related page. Bold text is still an important
  note like `Restart required`.
* Corrected truncated texts in options label tree.
* Extended minimum and maximum line widths that can be set in options dialog for map features.

### Procedures

* Added ARINC procedure type like `I13R` or `R12` in brackets for approaches in procedure search
  tree.
* ARINC type and procedure ident can now be searched. `DACNA (R06)` will be found when entering
  `DAC` or `R06`, for example.
* Better indication for number of transitions using text instead of the misleading `T`.
* Added preferred runway indication in procedure search top label based on selection in menu
  `Weather` -> `Airport Weather Source`. This shows the best runways for wind and the used weather
  source.
* Showing head and crosswind components for approach procedures in procedure tree based on
  `Airport Weather Source`.
* Now considering airport ident when resolving procedure leg fixes to avoid invalid duplicate
  waypoint names in a region.

### Search

* Completely reworked search functions for all search tabs. Now looking for partial text matches
  per default instead of requiring stars as wildcards in all text fields. This means that a search
  term of `Chicago` will find Gary Chicago as well as KORD and `EDDE` will find Erfurt-Weimar (EDDE)
  as well as Wedderburn. Stars `*` as wildcards and double quotes `"` for exact search can still be
  used. You can also enter a space separated list of names or idents and Little Navmap will show the
  results for each name.
* Added search field for all airport idents and names (ICAO, FAA, city, name and others) using
  partial match for quick search. Separate search fields are still available. The same rules as
  mentioned in the point above apply.
* Modified search fields hidden from the dropdown button menu (three-lines-button) are now ignored
  when searching.
* Search option fields selected from context menu using include/exclude are now opened
  automatically to avoid confusion.
* Now using better indications in the dropdown menu items. `(changed)` shows an option is used and
  visible to the user. `(changed, not used)` indicates a changed option which is not used since the
  related fields are hidden from the dropdown menu button.
* Corrected broken sort order of numerical columns when using distance search #1060
* Fixed search to allow usage of underscore (`_`) and percent (`%`) characters.
* Added option to preview the entries to be deleted when using the cleanup function in the
  userpoint and the logbook search.
* Fixed date and time stored in wrong format after editing a logbook entry. This resulted in a
  wrong sort order when sorting by time in the logbook table. Now storing local real time with
  timezone offset. Log data with wrong local real time and missing timezone is now corrected to
  current timezone offset. #1057
* Fixed crash that appeared when importing logbook entries or userpoints a second time.
* Optimizations to avoid redundant queries on loading and parameter switch.

### User Interface

* Split toolbars into smaller sections and reorganized toolbar buttons for a more logical order.
  The smaller toolbars can now be better arranged to user needs.
  Note that the initial state after the update is not defined. You either have to re-arrange
  the toolbars manually or use the function in main menu `Window` -> `Reset Window Layout to Default`
  which also resets the toolbar layout to default.
* Added sub-menu `User Manual - Helpful Chapters` with important help links.
* Added new menu `Search` for quick access to most used search functions.
* Moved toolbars and dock window actions in menu `Window` to sub-menus.
* Now applying a font change to all tables and widgets instantly. Fixed issue where not all font
  attributes were taken in program windows.
* Fixed issue where bold font attribute was not considered in flight plan table and map labels.
* Updated menu button and tab button icons for better visibility.
* Corrected paths in logbook and other places. Now using operating system native path notation.
* Now compacting status bar fields after timeout if the mouse cursor is not inside the map (no
  coordinate display).
* Fixed issue where a canceled save process kept an invalid filename in file name history.
* Adjustments for style `windowsvista` for a better indication of selected menu items which were
  barely visible before.
* Adjusting selection color for inactive tables on Windows.
* Fixed issue where not all toolbars were resized on macOS.

### Other

* Now also searching for ICAO code instead of internal ident for METAR reports when using X-Plane
  to avoid missing weather reports.
* Increased tolerance for altitude difference when detecting duplicates while flying online. This
  should help to avoid the shadow aircraft.
* Fixed various issues when using Windows UNC paths (file shares like `\\server\share\path`).
* Enabled IPv6 for remote connections to Little Navconnect.
* Added semicolon to invalid characters in filename. This will be replaced in file names when
  exporting flight plans.
* Replaced colon with comma as separator on Google coordinates in Italian translation.

### Scenery Library

* Additional scenery folder added in options on page `Scenery Library Database` is now read
  recursively for all simulators. This means that you can use sub-directories to organize your
  add-ons.
* Hints about encrypted airports and others can now be skipped (`Do not show hints again ...`)
  after loading a scenery library database.
* Now excluding all navaids in detected Navigraph update when reading scenery library of MSFS. This
  speeds up the loading time.
* Fixed issues with moved or updated airports in MSFS when reading scenery library.

### Web Server

* Enabled IPv6 for webserver and added additional IPv6 addresses to display.
* Fixed additional map theme not set on web server map which was stuck to OpenStreetMap.
* Fixed log flooding in web server.
* Corrected display of loopback or localhost device which is not accessible from a local network.
  This is now only added if no other address was found.

### X-Plane

* Added version check for Little Xpconnect. Now showing a warning message if an outdated version of
  the plugin was found.

### Linux

* Little Navmap supports the Wayland compositor which is used on some of the newer Linux distributions
  but you have to install the package `qtwayland5`.

=================================================================================


# Version 2.8.12

## Notes

**This is a stable release of *Little Navmap* which fixes several bugs and adds
improvements as well as new features.**

**Notable changes: Windows Installation program, Prepar3D v6 support,
  fix for MSFS waypoint moved to North issue, Little Navconnect tray icon and more.**

**Also update *Little Navconnect* and *Little Xpconnect* if you're using one of them to
avoid crashes that were introduced with 2.8.12.rc1.**.

**macOS users: Keep in mind that you have to clear the quarantine flag when updating Little Xpconnect. See
[Clearing the Quarantine Flag on macOS](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/XPCONNECT.html#clearing-the-quarantine-flag-on-macos).**

The updated online user manual is available here:
[Little Navmap - User Manual](https://www.littlenavmap.org/manuals/littlenavmap/release/latest/en/).

See here for user manual downloads:
[User Manuals - Stable Releases](https://albar965.github.io/manuals.html#stable).

A big thank you to all who reported bugs and issues!

## Changes from 2.8.11 to 2.8.12

### Installation and Startup

* Added [Inno Setup](https://jrsoftware.org/isinfo.php) installer packages. This installs
  *Little Navmap* for all users in the folders `Program Files` for the 64-bit package or
  `Program Files  (x86)` for the 32-bit package. Both can be installed in parallel. The installer
  creates start menu entries for all included programs as well as most important files and links.
  File types can optionally be associated with *Little Navmap* which allows to load a flight plan by
  double clicking on a LNMPLN file in Windows Explorer or other file managers. *Little Navmap* is
  then either started or a running instance is used to load a plan. See
  [Little Navmap User Manual - Installation](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/INSTALLATION.html#windows).
  Note that there is no need to install or modify any files in the installation folder. See also
  [Little Navmap User Manual - Map Themes](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/MAPTHEMES.html).
* Removed restart requirement after installing MSVC Redistributables in 64-bit Windows
  installer (from 2.8.12.rc1).
* Improved the detection of an already running instance of *Little Navmap*. Removed warning dialog
  for `Program is already running` situation. Instead the *Little Navmap* window is brought into
  foreground and any file passed to the program is opened. Furthermore, all files passed on the
  command line without parameters are checked for type and are loaded accordingly. This is working
  on Windows, macOS and Linux. See also
  [Little Navmap User Manual - Command Line Options](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/COMMANDLINE.html).
* Now allowing to run more than one *Little Navmap* instance when using separate configuration folders.
* Updated MSFS SimConnect DLL to the latest version 0.21.1.0.

### Map

* Added configuration option for degree grid in view menu. Select menu `View` ->
  `Show Map Grid Configuration` to change color of grid lines and labels.
* Fixed issue where split user aircraft trails from previous version 2.8.10 were read wrongly
  and appeared all connected to one.
* Corrected loading of oceanic tracks to avoid disappearing flight plan after load.
* Now creating two backups for main trail file `little_navmap.track` to avoid data loss on update.
* Now backing up configuration and track files with `..._update-backup.N` suffix after installing
  and starting a new version to avoid data loss.
* Corrected issue where map grid was drawn below landmass in some offline maps.
* Menu and toolbar items for airspace altitude filter are now correctly selected again after
  restart.
* Fixed missing flight plan waypoint tooltips and click spots with airway or track display enabled.
* Added theme [open flightmaps](https://www.openflightmaps.org/) to included map themes.
  This is a modified version of the map theme by
  [AmbitiousPilots](https://github.com/AmbitiousPilots/LittleNavmapOFMTheme) including changes
  from [b-faller](https://github.com/b-faller).
* Now showing top level map image tile correctly for open flightmaps instead of an black area.
* Fixed more issues with the external map theme folder where maps having more than one layer like
  the open flightmaps map theme could not be used.
* Updated map theme file `example.dgml`.
* Corrected checking for duplicate elements of `sourceDir` in map theme DGML files for maps having
  more than one layer. This avoids the issue where different map themes might overwrite data in the
  cache folder.

### Userpoint and Logbook

* Fixed problem where no error was shown when importing invalid userpoint or logbook CSV files.
* Fixed issue where an aborted CSV import might corrupt the undo data in some cases.
* Update CSV import and export for userpoints to allow unit suffixes in altitude. Now detecting
  suffixes `m` for meter and `f` for feet to import altitude in respective units. Feet is
  default when using no suffix.
* Fixed various issues with units in userpoint edit dialog. Now correctly setting and displaying
  metric units for `Visible from` and `Elevation or altitude`. Corrected `Visible from` display in
  userpoint search result table. Now using more precision in userpoint altitude to avoid rounding
  errors between units.

### Flight Plan and Export

* Corrected wrong error message for procedures having a MAP lower than airport elevation.
  Example: FAUP RNAV UP1F1 (R35)
* Fix in flight plan export for MSFS where several waypoints are moved to North. Thanks to Github user
  [eaides](https://github.com/eaides) for the hint. #1038
* Added selection box for `IFR` or `VFR` flight plan type to route description.

### Other

* Fixed issues where X-Plane simulator weather was not loaded from manually set folder without a
  X-Plane installation. The weather was not loaded and wrong warning dialog was shown.
  This is the case when *Little Navmap* runs on an networked or remote computer and the weather
  is loaded from a shared network drive from the flying computer.
* Flight plan route description dialog is now updated on style change.
* Moved AI and online aircraft menu items to sub-menu in `View` to avoid menu size limitation.
* More fixes in weather to skip unneeded reading of ActiveSky weather files. These are now read
  on demand if ActiveSky sky options like tooltips are enabled.
* Fixed crash when copying log file on size overflow which was introduced with 2.8.12.rc1.
  This resulted in a random crash to desktop while loading the scenery library.
* Fixed crash when loading Active Sky files if Active Sky file path was set manually and removed
  later on.
* Corrected menu items and toolbar buttons which remained disabled after connecting to simulator.

## Little Navconnect Version 2.8.7

* Added support for system tray icon. Close button on window frame now optionally minimizes window
  to system tray. Enable this in menu `Window` -> `Minimize to system tray`. The tray icon is always
  visible. System tray icon shows last five messages from log in tooltip. #712
  See [Little Navconnect User Manual - Tray](https://www.littlenavmap.org/manuals/littlenavconnect/release/2.8/en/TRAY.html).
* Tray icon has a context menu to restore window, show settings and more. Left click on the tray icon
  to restore or minimize the *Little Navconnect* window.
* New option `Window` -> `Start minimized to system tray` to start program without opening a window.
* Fixed various issues with text field updates causing warnings in log file.
* Updated user manual.

=================================================================================

# Version 2.8.12.rc2

* Fixed crash when rotating log file on size overflow. This resulted in a random crash to desktop
  while loading the scenery library.
* Fixed crash when loading Active Sky files if Active Sky file path was set manually and removed
  later on.
* Now allowing to pass a flight plan route description to an already running instance.
  This is command line option `-d` or `--flight-plan-descr`.
* Removed restart requirement after installing Microsoft Visual C++ Redistributable packages in
  64-bit Windows installer.

=================================================================================

# Version 2.8.12.rc1

### Simulators

* Added support for Prepar3D v6. Note that this is untested. Let me know if you find any issues.

### Installation and Startup

* Added [Inno Setup](https://jrsoftware.org/isinfo.php) installer packages. This installs
  *Little Navmap* for all users in the folders `Program Files` for the 64-bit package or
  `Program Files  (x86)` for the 32-bit package. Both can be installed in parallel. The installer
  creates start menu entries for all included programs as well as most important files and links.
  File types can optionally associated with *Little Navmap* which allows to load a plan by double
  clicking on a LNMPLN file in Windows Explorer. *Little Navmap* is either started or a running
  instance is used to load a plan. Note that there is no need to install or modify any files in the
  installation folder. See also
  [Little Navmap User Manual - Map Themes](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/MAPTHEMES.html)
* Improved the detection of an already running instance of *Little Navmap*. Removed warning
  dialog for `Program is already running` situation. Instead the *Little Navmap* window is
  brought into foreground and any file passed to the program is opened. This is working on
  Windows, macOS and Linux.
* Now passing all command line parameters for flight plan, performance and layout files to an
  already running instance to load the files. This is supported on Windows, macOS and Linux.
* Now checking all files passed on the command line without parameters for type of file to load
  like flight plan or performance file.
* Using full configuration path for locks and data exchange keys. This allows to run more than one
  *Little Navmap* instances when using separate configuration folders.
* Updated MSFS SimConnect DLL to the latest version 0.21.1.0.

### Map

* Added configuration option for degree grid in view menu. Select menu `View` ->
  `Show Map Grid Configuration` to change color of grid lines and labels.
* Fixed issue where split user aircraft trails from previous version 2.8.10 were read wrongly
  and appeared connected.
* Corrected loading of oceanic tracks to avoid disappearing flight plan after load.
* Now creating two backups for main trail file `little_navmap.track` to avoid data loss on update.
* Now backing up configuration and track files with `..._update-backup.N` suffix after installing
  and starting a new version.
* Corrected issue where map grid was drawn below landmass in some offline maps.
* Menu and toolbar items for airspace altitude filter are now correctly selected again after restart.
* Fixed missing flight plan waypoint tooltips and click spots with airway or track display enabled.
* Added theme [open flightmaps](https://www.openflightmaps.org/) to included map themes.
  This is a modified version of the map theme by
  [AmbitiousPilots](https://github.com/AmbitiousPilots/LittleNavmapOFMTheme) including changes
  from [b-faller](https://github.com/b-faller).
* Now showing top level map image tile correctly for open flightmaps instead of an black area.
* Fixed more issues with the external map theme folder where maps having more than one layer like the
  open flightmaps map theme could not be used.
* Updated map theme file `example.dgml`.
* Corrected checking for duplicate elements of `sourceDir` in map theme DGML files for maps having
  more than one layer. This avoids the issue where different map themes might overwrite data in the
  cache folder.

### Userpoint and Logbook

* Fixed problem where no error was shown when importing invalid userpoint or logbook CSV files.
* Fixed issue where an aborted CSV import might corrupt the undo data.
* Update CSV import and export for userpoints to allow unit suffixes in altitude. Now detecting
  suffixes `m` for meter and `f` for feet to import altitude in respective units. Feet is
  default when using no suffix.
* Fixed various issues with units in userpoint edit dialog. Now correctly setting and displaying
  metric units for `Visible from` and `Elevation or altitude`. Corrected `Visible from` display in
  userpoint search result table. Now using more precision in userpoint altitude to avoid rounding
  errors between units.

### Flight Plan and Export

* Corrected wrong error message for procedures having MAP lower than airport altitude.
  Example: FAUP RNAV UP1F1 (R35)
* Fix in flight plan export for MSFS where waypoints are moved to North. Thanks to Github user
  [eaides](https://github.com/eaides) for the hint. #1038
* Added selection box for `IFR` or `VFR` flight plan type to route description.

### Other

* Fixed issues where X-Plane simulator weather was not loaded from manually set folder without a
  X-Plane installation. The weather was not loaded and wrong warning dialog was shown.
  This is the case when *Little Navmap* runs on an networked or remote computer and the weather
  is loaded from a shared network drive from the flying computer.
* Flight plan route description dialog is now updated on style change.
* Moved AI and online aircraft menu items to sub-menu in `View` to avoid menu size limitation.
* More fixes in weather to skip unneeded reading of ActiveSky weather files. These are now read
  on demand if ActiveSky sky options like tooltips is enabled.

## Little Navconnect Version 2.8.7

* Added support for system tray icon. Close button on window frame now optionally minimizes window to
  system tray. Enable this in menu `Window` -> `Minimize to system tray`. The tray icon is always
  visible. System tray icon shows last five messages from log in tooltip. #712
* Tray icon has a context menu to restore window, show settings and more. Left click the tray icon to
  restore or minimize the *Little Navconnect* window.
* New option `Window` -> `Start minimized to system tray` to start program without opening a window.
* Fixed various issues with text field updates causing warnings in log file.

=================================================================================

# Version 2.8.11

### Flight Plan and Export

* Now recognizing runway assignments from SimBrief when downloading flight plans. This fixes the
  random runway assignment after import.
* Now resolving SID and STAR transitions when loading MSFS PLN flight plan files. This also works
  for the SimBrief exported plans where the STAR name is omitted on the first waypoint. Note that
  this is not 100 percent reliable due to deficits in the MSFS PLN file format design.
* Trying to automatically select approach transitions for matching STAR waypoint similar as
  MSFS if an approach procedure is selected when importing MSFS PLN files.
* Improved X-Plane FMS export. Airports with procedures are now always saved with keywords `ADEP` or
  `ADES` to allow manual departure or arrival procedure selection in the GPS or FMS.
* Added warning if the scenery library mode `Use Navigraph for all Features` is enabled when
  exporting X-Plane FMS files to avoid issues when selecting procedures in the FMS or GPS.
* Fixed wrong error message when calculating elevation profile due to required vertical angle
  conflicting with an altitude restriction. Example: Airport LTFM with approach I17LX and other
  ILS at LTFM. Vertical angle is now ignored in such cases.
* Fixed issue with excessive fight plan altitude on loading causing program freeze and crash.
  This can happen when importing a flight plan using a format which does not provide cruise altitude
  information like FMS in some cases or FSC PLN.
* Now using best guess to set cruise altitude automatically after loading flight plan format without
  support for cruise altitude. This is based on procedure and airway restrictions.
* Added warning dialog if cruise altitude cannot be loaded from flight plan and has to be estimated.
* Applying best guess now for flight plan type (IFR/VFR) when loading flight plan formats not
  supporting this.
* Now attempting to load SID, STAR and respective transitions from FSC PLN files.
* Added workaround for broken X-Plane FMS flight plans having partially invalid altitude information.
* Rounding error related procedure altitude violations corrected when using metric altitude.
* Fixed issues with wrong flight plan cruise altitude when using metric altitude.
  Rounding errors in cruise altitude when loading and saving plans with metric altitude are minimized now.
* Added new optional element `CruisingAltF` to LNMPLN file format to avoid rounding errors when using
  metric units.
* Now using metric speed and altitude designators in route description if units are set accordingly
  in options on page `Units`.
* Fixed issue where imported flight plan (for example in FMS or PLN format) could be overwritten with the
  LNMPLN format after updating the plan from a route string.
* Fixed issues with default filename generation having `CRUISEALT` parameter. Now using local altitude
  unit as set in options.
* Adjusted route string reader to prefer a close VOR or waypoint before a NDB with the same ident.
* Fixed flight plan export and save functions to avoid suggesting filenames containing `/`, `\`
  or other invalid characters.
* Fixed issue where airway information in flight plan at STAR entry was dropped after manually
  adding a STAR.
* Now removing first waypoint `RW` from X-Plane FMS 11 if a departure runway is selected. This avoids
  confusing the stock FMS and GPS which gave wrong turn indications.

### Flight plan route description

* The lower part of the input field can now be used as a scratch pad. The upper bold highlighted
  section separated by an empty line is the current route description which is read and interpreted.
  The lower gray description texts are a part of the scratch pad. These are saved on program exit but
  ignored apart from that.
* The function `Create flight plan` now reads the first paragraph in the input field, i.e. until
  the first empty line.
* 'Load from flight plan' inserts the route description on top of the input field and leaves other
  texts below intact.
* Added undo/redo buttons to route description dialog window.
* Fixed issues where airways and waypoints were dropped in some cases.

### Scenery Library

* Added optional automatic navdata selection depending on simulator and AIRAC cycle. The new option in
  menu `Scenery Library` -> `Navigraph` -> `Select Automatically` is enabled per default and selects
  the right navdata mode when switching between simulators or after compiling the database. The automatically
  selected mode can be seen in the disabled menu items in menu `Navigraph` or in the window title bar.
  [Little Navmap User Manual - Navigraph](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/MENUS.html#navigraph)
* The mode `Use Navigraph for all Features` is now enabled per default on first run after a fresh
  installation to have airports available if the simulator database is empty This is independent of
  the AIRAC cycle.
* Added option to include extra directories for scenery library scanning. Extra folders extending
  MSFS ``Community``, X-Plane ``Custom Scenery`` or FSX/P3D ``Addon Scenery`` can be added in
  options on page `Scenery Library Database` in the top list. #959
  [Little Navmap User Manual - Scenery Library Database](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/OPTIONS.html#scenery-library-database)
* Added message in dialog window `Load Scenery Library` indicating excluded folders. This is a
  hint since wrong and unintended exclusions can often cause issues like missing airports.
* More cleanup for MSFS airport names. Now removing leading and trailing space from all names to
  allow search since some airport names are entered wrongly with spaces.
* Fixed issue where MSFS navdata update was recognized despite having its folders excluded.
* Fixed country names appearing as language keys when compiling MSFS. Names are now empty again
  since MSFS does not provide these.
* Corrected detection and reading of Navigraph navdata update in MSFS. Now reading airports from
  update. Navdata and procedures are omitted. Wrongly excluded package is now read. Speed up for
  reading scenery library by ignoring unused procedures from navdata update. #1019
* Workaround for missing aircraft model translations since MSFS SU12.
* Now adding start positions for runways and parking spots in Navigraph navdata compiler to allow
  departure parking selection for runways as well when using mode `Use Navigraph for all Features`.
  This change will appear with future Navigraph navdata updates.
* Updated included Navigraph cycle 1801 to cover above mentioned database changes.
* X-Plane 12 manually corrected localizers file is now read.
* Corrected overzealous filter for MSFS airport dummy structures which removed add-on helipads or
  airports. Example add-on: `willicopta-spital-la-chaux-de-fonds-lsh9` which did not show up.

### Userpoints

* Added quick `Mark Airport as Add-on` function in all related context menus in map, flight plan
  table and airport search result table. This inserts an userpoint of type `Addon` without additional
  editing. The labels of this userpoint type (yellow ring) are not shown on map to avoid overlap
  with the airport labels. You can add your own types starting with text `Addon`. These will be
  treated the same way.
  [Little Navmap User Manual - Mark Airport as Add-on](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/MAPDISPLAY.html#mark-airport-as-addon)
* Added cleanup function for userpoints to remove empty or duplicates by several criteria. See menu
  `Userpoints` -> `Cleanup Userpoints` or the context menu in the userpoint search result table.
  [Little Navmap User Manual - Cleanup Userpoints](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/USERPOINT.html#cleanup-userpoints)
* Userpoint CSV import is now one undo step for all selected files to avoid confusion after
  selecting more than one file for import.

### Logbook

* Fixed takeoff and landing detection in logbook for airports without runways like heliports.
  These are now always registered in the logbook. Now falling back to any nearest airport on
  takeoff or landing if no runways were found.
* Reworked logbook statistics dialog. Enabled sorting for all columns (click on the column header)
  and removed the 1000 rows limit. The view loads more rows when scrolling down if needed.
* Added query `Aircraft hours flown` to logbook statistics. #1026

### Map Display

* Added option to read map themes outside the installation folder. You can select a map theme
  folder in options on page `Cache and Files` below `Map Display Themes`. This is empty and therefor
  disabled per default. Put the map folders like `google-maps-sat` or `us-vfr-sectionals` directly
  into the selected folder and restart Little Navmap to detect the new map themes.
  This helps to avoid the re-installation of map themes after each update.
  [Little Navmap User Manual - Map Themes](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/MAPTHEMES.html)
* Removed not working `Clear Cache` from page `Cache and Files`. Clear the map cache by going
  directly to the folders using menu `Tools` -> `Files and directories` -> `Show map cache`.
  Delete folders for related map themes there to clear the cache. #619
  [Little Navmap User Manual - Cache and Files / Map Display](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/OPTIONS.html#cache-map-display)
* Added airport filter to hide military airports. Airport filters are reset after update.
* Fixed potential issue with steps effect when drawing lines like the aircraft trail.
* Now adding runway true heading to labels if declination is excessive as in Antarctica.
* Now rounding the entry altitude for destination runways to nearest 10 feet or meter to avoid
  confusing single digit values.
* Added option to hide AI on ground on options page `Map Display`. This is enabled per default and can help
  to avoid hidden AI if traffic tools do not update the on-ground status of aircraft properly.
* Improved measurement line drawing. Added new measurement line label text colors to configuration
  file `little_navmap_mapstyle.ini` (look for `DistanceMarker`).
* Measurement label now aligned with line.
* Avoiding flickering course values while dragging measurement line.
* Better measurement line handling: Tooltip and hotspot for measurement lines is now origin and end.
  The line can be moved from both ends.
* Measurement lines can now be the origin of an userpoint showing its label.
* Added option for airway display at flight plan legs in options on page `Map Display Labels` in
  branch `Flight Plan`. This is disabled per default.
* Adjusted settings for offset localizer to also detect slightly offset KJFK 22R. This is indicated
  by `Offset Localizer` in the tooltip.

### User Interface

* Reading correct ICAO aircraft designator from MSFS `aircraft.cfg` files for user aircraft now.
  This allows to get the right ICAO aircraft designator like `B738` or `C172` which is used to
  match the aircraft performance to the simulator aircraft resulting in a warning in case of mismatch.
  You might need to adapt the aircraft performance files in some cases to avoid the warning message like
  `User aircraft type "BE58" in simulator is not equal to type "EPIC" used in performance file`.
  Adapt performance and menu `Aircraft` -> `Edit Aircraft Performance`. Change the field `Aircraft type`
  on the tab `Aircraft` accordingly.
  [Little Navmap User Manual - Aircraft Type]https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/AIRCRAFTPERFEDIT.html#aircraft-type)
* Changed the airspace category toolbar buttons and menu items to a more logical order.
* Fixed several issues in dialog window and when creating folder structure for user files from
  menu `Tools` -> `Create Directory Structure for saving Files`.
* The web server is now only restarted on parameter change in options. This avoids the hanging due
  to unneeded restart on exit or cancel. #1019
* Now allowing comma separated coordinates for decimal coordinate formats like `50,07477,8,54053` or
  `50.07477,8.54053`. Spaces before and after the comma are allowed.
  [Little Navmap User Manual - Coordinates](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/COORDINATES.html)
* Added capability to read Google Earth or Google Maps coordinates with space separated degree
  and decimal minutes like `-54 50.60, -68 17.73`.
* Added option for Google coordinate output format in options on page `Units`.
* Fixed issue where a search for userpoint type was not applied on startup.
* Fixed freeze after error dialog when moving or deleting GLOBE path.
* Fixed occasional freeze or crash when loading the elevation profile on startup.

### User Manual

* Adapted included and online user manual to changes.

=================================================================================

# Version 2.8.10

* Navigraph selection is now remembered for each simulator selection separately. This means that
  the Navigraph selection is automatically changed when switching between simulators. The simulator
  and Navigraph selection is reset on the first startup on update. Use the menu item
  `Scenery Library` -> `Validate Scenery Library Settings` to check your settings.
* Created a clone of the scenery library settings validation menu item `Scenery Library` ->
  `Validate Scenery Library Settings` on the toolbar.
* Added support for ActiveSky for X-Plane 12. *Little Navmap* detects the ASX 12 files
  automatically when selecting the X-Plane 12 scenery library.
* Changed flight plan export for TDS GTNXi to add waypoint coordinates for disambiguation as well
  as procedures. This should help with flight loading issues due to navdata cycle mismatches.
* Added TDS GTNXi export using waypoints only.
* Density altitude added to airport weather report in window `Information` on tabs
  `Airport` -> `Weather`.
* Added density altitude to aircraft progress if aircraft is on ground. This is disabled per
  default and can be enabled in the menu `Tools` -> `Aircraft Progress Display Options` by checking
  `Density Altitude` in branch `Environment`.
* ILS, GLS and RNP approach slopes in elevation profile can now be forced to display for all
  approach types:
    * Disable ILS or GLS/RNP on the toolbar or in the menu `View` -> `Navaids` to see only flight
      plan related navaids on the map and approach related navaids in the elevation profile. This means
      you won't see an ILS slope for a VOR approach, for example.
    * Enable ILS to see slopes in the elevation profile independent of the approach type. A
      destination runway or an approach has to be selected to see the slope.
* Menu item `Map` -> `Remove all Highlights and Selections` (shortcut `Ctrl+H`) now also clears
  the multi procedure preview (`Preview all Procedures` in procedure search context menu).
* Added link `Show Procedures` besides link `Map` to related airport information tabs to avoid
  context menu use for departure or destination airport.
* Now copying flight plan cruise altitude over to the flight plan calculation window when opening
  or changing it in flight plan window.
* More accuracy for flight plan calculation preference slider.
* Added blue question mark help buttons to information and aircraft progress windows linking to the
  related user manual chapters.
* Fixed userpoints category not being enabled after assigning a new type to an userpoint.
  This avoids the confusing disappearance of a userpoint after changing the type.
* Added workaround for missing translations in MSFS for AI or multiplayer aircraft. Needs a reload
  of the scenery library.
* Adjusted airport rating calculation for MSFS. Now setting airports having only automatically
  generated apron snippets to zero rating which equal to `Empty Airport`. Fix needs reloading
  the scenery library.
* Now using correct localizer width in map for Navigraph and MSFS navaids. Localizer width added to
  ILS information display in tab `Navaids` and map display depiction. Note that this is only
  available for FSX, P3D, MSFS and future Navigraph databases. Needs a reload of the scenery
  library. #1011
* Wind pointer size on top of map now depends on set font size for map.
* Corrected VOR to/from courses which were omitted before or after procedures.
* Fixed crash when using the MSFS toolbar plugin or other web services of *Little Navmap*.
* Fixed issue with Italian translation using wrong units in search window. #1012
* Issue with disappearing navaids being part of missed approach selection fixed.
* Updated included SimConnect.dll in 64-bit build for MSFS to SDK 0.21.0.0.
* Other corrections to map drawing of procedures and selected legs.
* Updated user manual for functionality changes.

### Little Xpconnect X-Plane plugin Version 1.0.37

* Fixed fetching of aircraft registrations/tailnumbers for AI and online aircraft.
* Better logic to read AI aircraft from add-ons where some use the new TCAS interface and some the
  old multiplayer interface.
* Added version number to menu item `Little Xpconnect`.

=================================================================================

# Version 2.8.9

### Map Display

* AI aircraft with unreliable on-ground status injected by third party traffic tools are now
  corrected if there is vertical speed or ground speed. This helps to avoid flying aircraft
  hidden wrongly on the map.
* Changed speed display for AI and user aircraft. Now showing ground speed on ground in map display
  labels and progress tab for AI if user and AI aircraft are moving. Disabled wrong IAS and TAS display
  labels for user aircraft on ground.
* Fixed en-route holdings drawn with the wrong turn direction.
* Added turn direction for en-route holding tooltips and information window.
* Fixed issue where map highlights remained after putting a dock widget like search to the bottom
  of dock stack.
* Added margins to map display text labels to improve readability.
* Airport diagrams now shown earlier on map when zooming in.
* Updated map themes on [Little Navmap Downloads - Map Themes](https://www.littlenavmap.org/downloads/Map%20Themes/).
* Removed unneeded Marble map theme legend files.
* Increased maximum number of entries in map position history.
* More adjustments and fixes for better drawing.

### Flight Plan and Export

* Corrected loading of flight plan routing network which was incomplete due to new MSFS RNAV waypoint type.
  This resulted in calculated flight plans using too many direct-to instead of airways when using
  `Do not use Navigraph Database` in the scenery library menu. #1001
* Better error checking for flight plan export file pattern in multi export options. Added
  validation and error messages for export file patterns and file extensions. A file pattern with
  errors is now always highlighted red also if not selected for export.
* Now resetting empty file patterns in multiexport to default values on loading. This fixes issues where
  the configuration was not migrated correctly from earlier versions and exported files used a flight
  plan name without file extension.
* Now falling back to correct default file pattern on flight plan export if the pattern in the
  multi export options dialog is empty.
* Fixed crash when loading X-Plane FMS files with negative airport elevation. Made flight plan
  loading more robust in general.
* Increased maximum length for user waypoint names to 80 characters in MSFS PLN flight plan file export
  to allow descriptions.
* Fixed inconsistencies for course display in flight plan leg in table, aircraft progress,
  elevation profile and the map.
* Removed not applicable inbound and outbound VOR course display in aircraft progress at procedure legs.

### User Interface

* Fixed issue where the wrong runways were fetched for ILS in information and tooltips. As a
  result ILS were declared `Offset to Runway` showing the wrong runway heading.
* Corrected airport ident to use displayed value from map and flight plan table in context menus
  to avoid confusing mismatches of airport idents between map and context menu. Now additionally
  showing display ident and internal ident in airport search context menu.
* Added menu item `Tools` -> `Files and Directories` -> `Show Map Installation Directory`
  to ease installation of new map themes.
* Changed reading of MSFS scenery library. Now also reading manifest content type `AIRCRAFT` since
  aircraft add-ons may contain airports as well.
* Fix for stacked dock windows appearing in the wrong order after un-minimizing main window. #1000
* Updated user manual for customization, map theme installation, SimBrief changes and cold weather
  altitude correction.
* Fixed elevation profile losing display reverting to a gray area when resetting view after vertical zoom.
* Fixed issues with dock windows moved to the wrong screen on multi screen configurations.
* Added AirNav.com to airport link list.
* Fixed regression where red warning text for empty database was missing in status bar.
* Several other small text fixes.

### Weather

* Fixed several issues with warnings about X-Plane weather files. Now warning
  if simulator is not installed or weather files are missing. Dialogs can be disabled.
* Adapted to read new winds aloft file names from X-Plane which were introduced with version 12.04b2.
* Made reading of GRIB wind files more error tolerant. Checking for wrong or empty files now.

### X-Plane and Little Xpconnect Version 1.0.35 and 1.0.36

* Fixed ground speed used wrongly as true airspeed for X-Plane AI and multiplayer aircraft.
  Ground speed is now correctly shown.
* Added fix from Max Hille (https://github.com/maxhille) to avoid X-Plane 12 issues
  with light colors and ignored exclusion regions on Linux after installing plugin. #983

=================================================================================

# Version 2.8.8

### Flight Plan and Export

* Added export option for X-Plane CIVA Navigation System. Files exported as FMS 3 split up into
  partitions containing nine waypoints. Procedure waypoints are included.
* Fixed issues with multi export file selection that appeared when using a file export pattern
  without suffix.
* Made loading of X-Plane FMS plans more tolerant for invalid files. Now throwing error messages in
  case of invalid coordinates to avoid crash.
* Adjustments for flight plan calculation for better results with less airway usage at the right of
  the slider `Prefer`.
* Updated NAT track download address to new `https://www.notams.faa.gov/common/nat.html` to avoid error
  messages on download. Addresses can be changed in `little_navmap.ini` in section `[Track]`.
* Fixed wrong flight plan read while importing from SimBrief and changing plan with download dialog open.

### Flight Plan Route Description

* Corrected reading of a flight plan having SID and STAR with the same transition waypoint
  resulting in incomplete plans from SimBrief import. Example: MUHA EPMAR3 MAXIM SNDBR2 KMIA KMCO. #975
* Fixed crash while typing when entering incomplete route description texts.
* Fixed several issues when reading and writing a route description using space separated transitions.
  This avoids error messages when reading flight plans from SimBrief.
* Flight plan cruise altitude is now adjusted to adhere to airway and procedure altitude
  restrictions. This avoids creating new plans with initial restriction errors.
* Tear off drop down menu in route description dialog can now be reopened again after closing dialog.

### Map Display and Elevation Profile

* Fixed issue with disappearing aircraft trail and other map lines near anti-meridian. #976
* Now suppressing VASI display in elevation profile if approach has a large offset course compared
  to the runway. The VASI slope cannot be used in these cases.
* Omitting wrong X-Plane runway shoulders for water runways on map.
* Moved flight plan table colors to `little_navmap_mapstyle.ini`. Added new section `[FlightPlan]`.

### Online Flying

* Fixed crash because of missing icon for unknown aircraft types. #973
* Added white aircraft icon with question mark for invalid aircraft types like online boats.
* Now ignoring boat traffic in aircraft shadow resolution.
* Adjusted shadow aircraft detection online vs. simulator to better resolve duplicate aircraft when
  flying online.

### Scenery Library

* Fixed several issues with new X-Plane 12 runway surface types. Runways were previously dropped
  for unknown surface types. This resulted in airports registered without runways and having a
  helipad symbol assigned in some cases.
* Now reading new X-Plane asphalt and concrete textures.
* Corrected behavior when clicking `Load Scenery Database` which could open the loading dialog
  again and crash while still waiting for confirmation on database usage.
* Fixed issue with mapped drives on Windows where add-on airports were not detected if having MSFS
  installed on such a drive. #967

### User Interface and Other

* Corrected window order when using `Keep in Foreground` to avoid blocked or hidden dialogs after
  loading scenery library.
* The `Keep in Foreground` status is now applied to all non-blocking dialog windows like 'Flight
  Plan Calculation' and 'Flight Plan Route Description' to avoid windows being blocked and hidden
  by main window.
* Added userpoint type `Addon` to highlight airports with a yellow ring similar to detected add-on
  airports.
* Fixed issue where bearing and distance to user aircraft was not updated in tooltips for parking spots.
* Fixed regression where tooltips disappeared quickly when being connected to a simulator.
* Now correcting logbook time if off by one day at arrival due to wrong time and date jumps while
  flying (caused by warp or similar tools). This previously resulted in negative travel times.
* Corrected logbook and userpoint import functions where first row in CSV files caused an error message
  if using quoted names.
* Fix for wrong names in options dialog. #965
* Fixes to avoid crash with duplicate ids when adding userpoints or logbook entries after import. #985
* Solved issue with crash when doing undo or redo quickly using keyboard shortcut repeats.
* Wind calculation functions are now more tolerant for invalid coordinates to avoid crashes.
* Corrections to statusbar and time. Time now correctly suffixed with `UTC`.
* Updated program translation for Brazilian Portuguese by Ricardo.
* Disabled Spanish translation since it did not receive updates for a long time and has other issues.
* Reverted workaround for MSFS unreliable on-ground indication for user aircraft.
* Updated SimConnect.dll to latest from SDK version 0.20.5.0.
* Corrected SSL library in Linux package to fix SSL handshake errors. Now adding correct OpenSSL
  version 1.1 to the folder `lib` to avoid loading of a wrong system library version 3. #974

### X-Plane and Little Xpconnect

* Fixed wrong date and timezone calculation in Little Xpconnect 1.0.34 which resulted in wrong or
  jumping endurance and turn anticipation display.

=================================================================================

# Version 2.8.7

## Changes from 2.6.19 to 2.8.7

This list describes the most obvious changes. See below for details and changes between the beta
and candidate releases as well as links to the related user manual chapters.

See [Screenshots of new 2.8 Features](https://albar965.github.io/pages/28/littlenavmapscreens.html)
for an overview of new features.

### Help

* Updated English user manual:
  [Little Navmap - User Manual](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/).
  Adapted to new features and is available online as well as included as PDF
  (see [User Manuals - Stable Releases](https://albar965.github.io/manuals.html#stable)).
* Now automatically using HTML help files from folder `help/en` or other supported language codes
  if installed. Download help from
  [User Manuals - Stable Releases](https://albar965.github.io/manuals.html#stable)
  and extract the zip file to `.../Little Navmap/help/en` to use the offline user manual.
* Added changelog item to help menu.
* Removed built-in map legend. This now available either online or in the included PDF user manual.
  See online
  [Little Navmap User Manual - Legend](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/LEGEND.html)
  or from the menu `Help`.

### Windows Builds

**There are two builds of Little Navmap and Little Navconnect for Windows available now:**

* **Windows 64-bit:** For MSFS and all X-Plane versions.
* **Windows 32-bit:** For FSX and Prepar3D.

See [Little Navmap User Manual - Windows Builds](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/INSTALLATION.html#windows-builds) for details.

### User Interface

* Changed status bar to avoid growing and shrinking fields. Now keeping maximum size to avoid
  jitter.
* Added option to hide dock window title bars in menu `Window` -> `Show Dock Window Title Bars`.
  Uncheck this to get more screen space inside the main window.
* Added airport transition level for X-Plane and Navigraph data.
* Resetting flight plan table, airport search result table and navaid search result table view on
  update now to avoid display of wrong columns or missing table columns.
* Added introductory dialog for first time users explaining further steps.
* Swapped `Shift+F11` and `F11` functions. Fullscreen is now `F11` since this is a common shortcut
  for most applications.
* All actions for `None` and `All` in toolbar button dropdown menus can now toggle between states
  none, all and last selected state. Click `All` a second time to revert to the previous selection.
#762
* Now checking for base folder structure (`Little Navmap Documents`) only on first startup to avoid
  issues when changing language. Folder structure can be now be created manually from `Tools` ->
  `Create Directory Structure`. #782
* Added warning message when using scenery library with not matching simulator in connect dialog.
  This shows up when connecting to MSFS with an active X-Plane scenery database, for example.
* Separated tab bar reset into a new menu item `Reset Tabs to Default` in menu `Window`. Window
  layout and and tabs can now be reset separately.
* Added show map cache to menu `Tools` -> `Files`.
* Changed symbol for nautical miles to correct official `NM`.
* Fixed issues with macOS aliases. These can now be used in X-Plane `Custom Scenery` to link to
  add-ons.
* Default style on macOS after first start is now Fusion and also reset on update since the default
  macOS style is too clunky.
* Removed check for wrong macOS version on program startup to avoid false warnings.
* Raised macOS minimum requirement to 10.13 High Sierra.
* Updated French translations by Patrick.
* Updated Italian translations by Flavio.

### Flight Plan

* Flight plan is now saved to a temporary file on exit. This avoids the question dialog when
  exiting the program after building or modifying a plan. This means: You create a new flight plan
  from scratch or modify a present one and Little Navmap will not ask to save the plan when exiting.
  Instead the same plan is reloaded on next startup. Continue editing without saving and the changed
  plan will be reloaded on next startup. You can still use the `Save` and `Save as` functions as
  before. You can disable this behavior on options page `Startup and Updates` by disabling `Load last
  used flight plan`. The temporary plan is stored in the settings folder as file
  `little_navmap.lnmpln` besides `little_navmap.ini`.
* `Avoid overwriting Flight Plan with not matching departure and destination` now enabled per
  default on new installations. You can disable this setting in the options dialog on page `Flight
  Plan` if needed.
* Now allowing arbitrary points for departure and destination. This covers all navaids, user points
  and coordinates which can be used as start or destination points. The elevation profile is now
  calculated without error messages for these kind of flight plans. Note that you have to install the
  GLOBE elevation data to get the correct elevations for these points. You have to use the `Add to
  flight plan` menu item, the `Append to flight plan` menu item, the keyboard shortcut
  `Ctrl+Alt+Click` (add), `Shift+Alt+Click` (append) or the drag and drop flight plan editing to add
  arbitrary points as departure or destination. Note these flight plans are not supported by all
  simulators or add-ons.
* Magnetic course of flight plan legs is now always calculated using normal magnetic declination.
  VOR calibrated declination is ignored. Other options to display VOR inbound and outbound magnetic
  course are now available. See
  [Little Navmap User Manual - Magnetic Declination](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/MAGVAR.html).
* Added optional inbound and outbound VOR course to aircraft progress display considering VOR
  calibrated declination. This is always shown when the next or last waypoint is a VOR, VORDME or
  VORTAC. Enable this in `Tools` -> `Aircraft progress display options` -> branch `Next Waypoint` ->
  `Leg course from` and `Leg course to`.
* Removed `Ignore declination of VOR and other radio navaids` on options page `Flight Plan` since
  there are other ways to display VOR inbound and outbound magnetic course now.
* Removed merging (e.g. grouping of multiple deletions into one) of same changes for undo or redo
  in flight plan operations. Now single changes can be undone.
* Changed flight plan calculation to a normal non-blocking dialog window also to avoid the short
  popping up on start. Note that these non-blocking dialog windows can be put behind the main window
  and show up in the Windows or other task lists as well.
* Highlight of active in flight plan table can be disabled in options on page `Flight Plan`. #785
* Removed forced assignment of runways if no parking is set for departure. An airport can now be
  used as a departure point. Improved parking selection dialog.
* Related navaids in flight plan table and other places in program now use notation with prefix `R`
  like `R090` for radials instead of `°M`.
* Changed flight plan table column selection to use configuration tree dialog including a
  description column. Can also be used to disable header and footer labels in flight plan window.
* Added optional footer line in flight plan table which shows distance, time and fuel for selected
  flight plan entries. Flight plan table options (menu `Tools` -> `Flight Plan Table Options` ->
  `Flight Plan Table Footer` -> `Selected Flight Plan Legs`) allows to disable selection and error
  footer lines in flight plan table. #892
* Added safe altitude display in flight plan table (orange line in elevation profile). Can be
  enabled in menu `Tools` -> `Flight Plan Table Options`.
* Users can now select departure runway with extended runway center line instead of a SID. See
  context menus or menu `Flight Plan´ -> `Select Departure Runway`.
* An offset angle relative to runway heading can now be selected when choosing the destination
  runway (former `Create Procedure` function). See context menus or menu `Flight Plan´ -> `Select
  Destination Runway`.
* Added departure and approach runway information to flight plan table header.
* Added header label in flight plan tab `Remarks` showing used scenery data, cycle and performance.
* Added column for related/recommended fixes and navaids in flight plan table. These are now shown
  with frequency and radial in flight plan table, elevation profile and other places.
* Added latitude/longitude columns shown in user selected format to flight plan table as well as
  CSV and HTML export.
* Improved start position selection dialog (menu `Flight Plan` -> `Select a Start Position`). Added
  runway dimensions, runway facilities and surface. User can now search for airline codes or other
  texts in the parking, runway or helipad entries. Airport center is always added as an option.
* Improved error messages in tooltip on error label in flight plan tab. Removed redundant error
  label in elevation profile. Showing aircraft performance related warnings now in flight plan table
  footer which can be disabled.
* Fixed issue where flight plan was centered on startup despite using `On startup show on map` ->
  `Last position` or `Home position` on options page `Startup and Updates`.
* Resetting flight plan table, airport search result table and navaid search result table view on
  update now to avoid display of wrong columns or missing table columns.

### Flight Plan Export

* Added functionality to fetch and send flight plans to/from SimBrief to file menu. Use menu `File`
  -> `Open Flight Plan from SimBrief` and `Export Flight Plan to SimBrief`. Follow instructions in
  dialog windows. #828
* Waypoints resulting from departure and runway selection (extended runway center line and other
  points) are omitted in all export formats for complex aircraft and third-party Garmin units to
  avoid issues when loading. Use the aircraft FMS or MCDU to select a departure or approach runway.
* Several fixes for X-Plane flight plan export.
* Added file patterns for multi export which can be set for each format. Improved context menu,
  keyboard shortcuts and error messages in multi export options. Added bottom label in multi export
  options dialog to preview export file path and name as well as other information. #751
* Added reading support for Garmin GFP flight plan files. These are text files containing the
  flight plan after the prefix `FPN/RI:`.
* `File` -> `Export Options` are now unchecked for this update since these often cause issues. Now
  showing warning dialog if these options are enabled.
* Added X-Plane 12 FMS export which uses the same X-Plane format but a different folder.
* Added separate export option for PMDG MSFS aircraft.
* Added flight plan export for iFly Jets Advanced Series. #817
* Added GFP flight plan export for TDS GTNXi and MSFS IniBuilds Airbus.
* Added support for MSFS parking suffix to allow reloading LNMPLN flight plans. Example EDDG, 18A
  to 18E. MSFS still cannot load parking positions with suffix. Not even its own ones.
* Changes to Flightgear plan import and export: Waypoints with missing coordinates can now be
  loaded. Waypoints marked `<type>basic</type>` can now be exported and loaded. Thanks a lot to
  [colingeniet](https://github.com/flpduarte) at Github for the fix
* Changed GPX loading and saving to use millisecond accuracy. Fixed timezone issues when loading
  and saving GPX. GPX loading now reads both millisecond and second ISO date. #907

### Weather

* Added hours and colored warning for more than 3 (orange) and more than 6 hour (red) old METAR
  reports in airport tab, airport tooltip and airport weather tab.
* Added warning message if X-Plane 11 or 12 weather files cannot be read due to broken weather
  paths or wrong simulator base path in dialog `Load Scenery Library`.

### Wind

* Resetting wind source to NOAA on update now. Adjust as needed.
* Changed user interface for wind for more consistency. Removed wind checkbox from fuel report
  header and added drop down box which mirrors the items in menu `Weather` -> `Wind source`.
* Added manual wind layer altitude to fuel report which is independent from flight plan cruise
  altitude.
* Improved indications in wind tooltip to show manually selected wind altitude layer, altitude of
  shown wind barbs and flight plan cruise altitude indication.
* Performance optimizations. Wind barbs now drawn sparse at higher zoom levels and near the poles.
#940
* Added more layers for winds aloft download to get more accuracy at lower levels.
* Changed wind altitude levels in toolbar button to use a slider instead of fixed altitude levels.

### Aircraft Performance

* The default performance profile which is created when using menu `Aircraft` -> `New Aircraft
  Performance` is now based on the data of a Cessna C172 and named `Example Performance Profile`.
  This avoids warning messages when using a new performance profile. Adapt it to your aircraft as
  needed.

* Added menu item `Aircraft` -> `Warning for Aircraft Type Mismatch` which is disabled per default.
  This allows to enable warnings if aircraft type in the performance profile does not match the one
  in the simulator aircraft. Recommended is to disable this when flying MSFS and keep it enabled for
  X-Plane and all other simulators.

* Warning for performance file aircraft type mismatch is reset to off on update since MSFS causes
  issues with this function. You can enable this again in menu `Aircraft` -> `Warning for aircraft
  type mismatch` if you use another simulator than MSFS.
* More warnings for invalid fuel flow and speed values in aircraft performance: `Climb fuel flow is
  smaller than cruise fuel flow`, `Descent fuel flow is higher than cruise fuel flow`, `Climb speed
  is higher than cruise speed` and `Descent speed is much smaller than cruise speed`.
* Added simulator type to aircraft performance file, edit dialog and display.
* Added display for average wind at cruise level only in tab `Fuel Report`.

### Options

* Reordered pages in options and added new pages `Map Display Keys`, `Map Display Labels`, `Map
  Display User` and `Map Display Flight Plan`. Removed page `Map Display 2`.
* Added new page `Map Display Labels` in options and moved tree settings from `Map Display 2` to
  it. Setting description is now shown in a second column instead of tooltips.
* Added option for tooltips in menus which is off per default. Option to show tooltips in whole
  program is now reset to enabled. Menu tooltips are not available on macOS.
* Now keeping the undock map window state to avoid a messed up layout after a restart when using
  `Restore Defaults`. The `Allow to undock the map window` option on page `Map` is now unchanged
  after resetting settings.
* Added option to disable startup image screen (splash screen) on page `Startup and Updates`.
* Added option to change main toolbar icon size on page `Display and Text`.

### Undo / Redo

* Added progress dialog for long undo operations in logbook and userpoints which can happen when
  undoing the import or a bulk change of large datasets. Operations can be canceled now.
* Fixed performance issues for undo and redo operations resulting in frozen program.
* Fixed issue where import of logbook or userpoint data resulted in a messed up undo state.
* Logbook and userpoint undo function assigned to `Ctrl+Shift+Z` and `Ctrl+Shift+Y` to avoid
  overlap with flight plan undo/redo functions.

### Updates

* Simplified update notification dialog to show only a HTML message from the server. Removed
  `Download in Browser` button as well as header information and `Download now` to simplify release
  management.
* *Little Navmap* now checks regularily for updates instead of only on startup. Update notification
  messages might now also pop up after startup except when being connected to a simulator or having a
  dialog window open. Note that the update check across the network is still done only every day,
  week or month.

### X-Plane 11 and 12

* Scenery library data compilation adapted for X-Plane 12 folder changes. #867
* *Little Navmap* now requires `x-plane_install_11.txt` and `x-plane_install_12.txt` as well as a
  valid installation path to be recognized. Run the X-Plane installer or X-Plane once to create this
  file so that *Little Navmap* can detect the simulator.
* Now supporting X-Plane 12 METAR airport weather reports and GRIB winds aloft by checking folder
  `Output/real weather`. Added folder configuration in options on page `Weather Files`. #926
* Fixed issue where X-Plane 12 add-on airports were not read from `Custom Scenery` in some cases.
  Airports not included in the file `scenery_packs.ini` are now treated like enabled. #927
* Corrected userpoint export and import to and from `user_fix.dat` for X-Plane 11 and 12. Exporting
  and importing waypoint flags and full name for X-Plane 12 now. The Little Navmap Userpoint tags
  field is used to load and save the ID of the airport terminal area as well as the waypoint type.
  Waypoint type is based on ARINC 424 field type definition 5.42. Spaces are replaced by underscores
  '_' for userpoint tags. Alternatively double quotes and spaces can be used. Example tags:
  `EDDF V__` is a VFR Waypoint at airport EDDF, `ENRT "I  "` is an en-route unnamed charted intersection
  and `ENRT R__` is an en-route named intersection.

### Little Xpconnect

See also
[Little Navmap User Manual - Little Xpconnect](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/XPCONNECT.html).

* Fixed an issue where ICAO type and other values of AI and multiplayer aircraft were messed up.
* Now detecting on-ground status correctly for AI or multiplayer aircraft.
* Little Xpconnect now adds items in the X-Plane plugin menu to set AI fetch and more performance
  options.
* Adapted new weather and environment datarefs to X-Plane 12 changes.
* Little Xpconnect now supports Apple Silicon / ARM 64 machines. The Zip file contains two folders
  `Little Xpconnect arm64` for Apple Silicon and newer Intel machines and `Little Xpconnect x86` for
  older Intel machines. See link above.  #923
* Changed Little Xpconnect build for Linux to use a minimum of shared library dependencies.

### Map Display User Interface

* Replaced map theme and map projection boxes in toolbar with a new tool button having a drop down
  menu (dark globe icon on toolbar). This saves space in the toolbar area. Removed `Map Projection
  and Theme Toolbar`.
* Combined the three toolbar buttons for map detail into one drop down menu button on the toolbar
  containing a slider and reset menu item. Moved map detail level settings from menu 'View' to menu
  `Map`.
* Added toolbar drop down menu button for a more detailed airport display filter including runway
  length, type, procedures and light status.

### Map Display

* Added turn prediction line for user aircraft also having tick marks for one NM distance. This is
  disabled by default in menu `View` -> `Show Turn Flight Path`.
* Added option to display selected autopilot altitude range as a dark green arc on the map. Enable
  this in menu `View` -> `Show selected altitude range`. Note that some add-on aircraft misuse the
  autopilot altitude which results in a wrong display. #247
* Added display on map and elevation profile for GLS/RNP paths. Showing information for these
  virtual approach paths in tooltip and info window now. Enable RNP/GPS path display in menu `View`
  -> `Navaids` -> `Show GLS/RNP Approach paths` or elevation profile context menu.
* New option to show aircraft endurance as circle around user aircraft. This is based on reserves,
  contingency, fuel load, current fuel flow and ground speed (but not wind). Enable in menu `View` ->
  `Show Aircraft Endurance`. Note that this shows the endurance based on current fuel flow. Numbers
  on range ring shown in warning and error colors depending on endurance. #341
* Added forced navaid display for recommended navaids from used procedures including indication in
  tooltip. This means that a related VOR being part of a procedure in a flight plan is shown even if
  the display of VOR is disabled. This allows to have a clean map with only flight plan related
  navaids.
* Added display of MSA (minimum sector altitude) diagrams on map similar to range rings. Can be set
  by user in map, flight plan table, airport search and navaid search context menus. Enable display
  of MSA icons in menu `View` -> `Navaids` -> `Show MSA Sectors`. Enable a larger scaled display by
  right clicking on the MSA icon and selecting `Add MSA diagram at ...`. #498
* Added option for MSA diagram transparency and text size in options on page `Map Display User`.
* Added display of en-route holdings to map display, map context menu, information display and
  tooltips. Old saved user defined holdings are discarded. #363
* Unpaved, heliports and water airports are now shown smaller than paved airports depending on zoom
  level. Now adjusting airport label font size depending on zoom and minor airport status. Minor
  airports have a smaller symbol and text on higher zoom distances.
* Added button and menu item to disable online aircraft and simulator AI separately. #754
* Added new range ring dialog allowing to add a label, change the coordinates or change the color.
  Removed range ring setting from options dialog since radii can now be changed when adding rings.
* Display of a feature category is now automatically enabled on the map after adding an user
  feature like range rings.
* Added function to zoom and jump to defined coordinates on map in main menu and map context menu.
  See map context menu `More` -> `Jump to Coordinates ...`.
* Added `Go to User Aircraft` menu item in menu `Map` and toolbar plus keyboard shortcut
  `Ctrl+PgUp`.
* Added tooltip for distance measurement lines showing distance, label, initial and final course.
* Outbound and inbound VOR calibrated declination now ignored per default in normal route leg
  course shown in the moving labels.
* AI aircraft label visibility is now adjusted depending on aircraft ground status and details.
* Final course for measurement lines at VOR is now calculated based on VOR calibrated declination.
* Fixed issue where ILS heading was offset after switching scenery library databases.
* Moved whole map configuration to a file `maplayers.xml` embedded in program. This can be
  overridden in configuration folder for a detailed map display customization. Program is watching
  overloaded file in settings folder for changes and updates map accordingly. See file
  `maplayers.xml` and embedded comments for more information here:
  [maplayers.xml](https://github.com/albar965/littlenavmap/blob/release/2.8/resources/config/maplayers.xml).

### Map Display Options

* Added option on page `Map Display Labels` to show start and end course labels also considering
  VOR calibrated declination. Useful when flying VOR to VOR. Labels are shown at a fixed position at
  start or end of flight plan legs.
* Added option to show compass rose with true heading. See options on page `Map Display Labels` in
  branch `Compass Rose`.
* Outline color (old and default style in *Little Navmap*) and semi-transparent (like SkyVector)
  for flight plan can now be selected. Option for semi-transparent flight plan line also affects
  logbook preview and procedure preview. See options on page `Map Display Flight Plan`.
* New options for semi-transparent highlight circles. Colors for highlights can now be changed.
  Page `Map Display User`.
* Added option to disable magenta highlight for active leg in options on page `Map Display Flight
  Plan` in checkbox `Highlight active leg`. #785
* Added optional label `Distance and Bearing from User` for AI aircraft. This can be enabled in
  options on page `Map Display Labels`, branch `AI, Multiplayer and Online Client Aircraft` in line
  `Distance and Bearing from User`. #708
* Added options for measurement lines thickness, color and font size. These can be changed in
  options on page `Map Display User` -> `Distance measurements`.
* Added size option for highlight marks in options on page `Map Display User` -> `Circle Size`.
* Added option for navaid radial display when drawing a measurement line from a VOR, VORTAC or NDB.
  Default is off. Enable this in options on page `Map Display Labels` branch `Measurement Lines`. #860
* Added options for display of user and AI aircraft coordinates on map. Page `Map Display Labels`.
#700
* Added AGL label option for user aircraft on map. See `Map Display Labels`.
* Added optional display of red ice warning labels on map (not in elevation profile) on page `Map
  Display Labels`. #745
* Wind pointer is now kept when disabling aircraft display. Wind pointer can be disabled separately
  in options on page `Map Display Labels` in branch `Top of Map`.
* Split delete options for user feature types like range rings or measurement lines for all feature
  types in menu `Map` and `Reset all for a new Flight`. Holdings and traffic patterns can now deleted
  independently, for example.
* New option for verbose tooltips on page `Map`. Default is enabled. Disable this to get brief
  tooltips when hovering the mouse cursor over the map.
* Option to hide user feature tooltips (traffic patterns, measurement lines and others) on page
  `Map` added.
* Added option to reverse all mouse wheel functions in map and elevation profile in options dialog
  on page `User Interface`.

### Map Display Themes

* Added MapTiler, MapBox and Thunderforest map themes plus required API key and token assignments.
  See
  [Little Navmap User Manual - Map Display Keys](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/OPTIONS.html#map-display-keys)
  for more information on using these maps.
* Themes requiring keys or tokens are marked with a `*` in menu and dropdown box. A dialog window
  with more information is shown when selecting a map theme needs more information. See options on
  page `Map Display Keys` for key or token input.
* Fixed graphical "smearing" issues with maps not covering the whole view like the
  Norway N50 Topo Map.

### DGML for Map Theme Developers

* All themes are added to the drop-down list by name as extracted from the DGML files. Now checking
  visibility flag in DGML. Themes having this set to `false` are excluded. All themes are now shown
  without distinction between user or stock.
* Added option to pass key/value pairs to replace in DGML map configuration files. This is needed
  for online maps requiring API keys or tokens. These keys are collected from DGML map configuration
  files and can be edited in options on page `Map Display Keys`. #85
* Added new key `{language}` in DGML for custom map request URLs. This allows to fetch Google map
  tiles using the user interface language instead of getting map labels in random languages. Append
  `&amp;hl={language}` to the download URL path in Google map themes to force map tiles in the user
  interface language or `&amp;hl=en` to force all maps in English. This fixes issue with random
  language used for labels in some maps. Note that you have to clear the tile cache to see the
  changes. See
  [User Manual - Disk Cache](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/FILES.html#disk-cache).
* Added commented example for DGML configuration including new keys in
  `data/maps/earth/example/example.dgml`.

### Airspaces

* Changed loading of user airspaces now by showing a separate loading dialog similar to the scenery
  library dialog. Removed user airspace paths and patterns from options dialog. #490
* Added reader for IVAO and VATSIM JSON boundaries. You can now read IVAO JSON and VATSIM GeoJSON
  files. Currently you can find IVAO boundaries here:
  [Airspace Boundaries](https://www.littlenavmap.org/downloads/Airspace%20Boundaries/).
  VATSIM boundaries are available here
  [VATSPY Data Project](https://github.com/vatsimnetwork/vatspy-data-project).
* Added two sliders in airspace toolbar button dropdown menu for minimum and maximum altitude in
  500 ft steps to show overlapping airspaces. #612

### Elevation Profile

* Added display of required (by approaches) or calculated optional vertical descent flight path
  angle to elevation profile map and tooltip. Calculated vertical angle is shown with transparent
  background and required angle is shown with yellow background. #803
* Showing optional vertical track line from user aircraft on the elevation profile. Enable this by
  checking `Show Vertical Track` in the elevation profile context menu. #247
* Added options to display vertical path angle and speed to reach the next waypoint at the
  calculated altitude. Can be shown in elevation profile (`Tools` -> `Elevation Profile Display
  Options`) as aircraft label and in aircraft progress tab (`Tools` -> `Aircraft Progress Display
  Options`). Made aircraft labels in elevation profile optional.
* Vertical paths in approaches are now considered like altitude restrictions and enforced while
  calculating profile. Error messages can appear if altitude restrictions related to a vertical path
  are violated by a too low cruise altitude.
* Added option to vertically and horizontally zoom to aircraft and destination point in elevation
  profile. Enable this in context menu of the elevation profile (`Zoom to aircraft and destination`).
  #868
* Added top header to elevation profile optionally showing course, distance and related navaid.
  Optional flight plan line labels added to elevation profile. Profile labels can now be set in
  options dialog. Added context menu item to disable top label in profile.
* Added display options for profile on options page `Map Display Labels` in branch `Elevation
  Profile`.
* Added optional display of altitude and speed restriction labels in elevation profile. #601
* Moved elevation profile display settings from page `Map Display` in options dialog into a
  separate configuration dialog. Added menu item in `Tools`, elevation profile context menu and a
  button in elevation profile window for configuration options.
* Fixed several cases of wrong elevation profile errors where profile could not be calculated.

### Flight Plan Route Description

* Flight plan route description window is now non-blocking and allows to continue working with the
  main window while opened. Note that the non-blocking dialog window can be put behind the main
  window and shows up in the Windows or other task lists. Update description by clicking `Load from
  Flight Plan` after changing plan on the map or flight plan table.
* Flight plan route description string is now saved independently from flight plan and reloaded on
  startup.
* Changes done by clicking `Create Flight Plan` can now be undone in the tab `Flight Plan`.
* Enabled undo/redo in the description input field. Use keyboard shortcuts or the context menu to
  undo changes.
* Removed `Read Route Description` button in route description window and replaced its
  functionality with a delayed automatic update. Results updated while typing.
* Removed `IFR`/`VFR` selection box from route description window. The flight plan type is now
  taken from the tab `Flight Plan`.
* Extended waypoint coordinate parser for all ARINC 424 Code Convention full degree waypoint
  formats like `57N30`, `5730E` or `57S30`. Flight plan route description can now read these
  waypoints independent if they are in the navdata or not.
* Added separate help area in route description window. Open or close the help area with the blue
  help button at the right.
* Added new options to route string dialog: `Write STAR and transition reversed` (format
  `TRANS.STAR` or `TRANS STAR`) and `Write SID/STAR and transition space separated`.
* Now reading both space and dot separated notation `SID TRANS`, `SID.TRANS` as well as
  `STAR TRANS`, `TRANS STAR`, `STAR.TRANS` and `TRANS.STAR` in route description.
* Fixed issues where airways were wrongly detected in route description.

### Online Flying #761 and #754

* Completely reworked removal of duplicate aircraft (shadow aircraft) coming from both the
  simulator and the online network. Registration/callsign match function is now replaced by a
  distance and altitude match. There is no need to have matching registration/callsign values now.
  This applies to the user aircraft as well as multiplayer aircraft.
* Added note for simulator and online shadow aircraft in tooltip and information window.
* Showing connected online network in main window title bar now.
* Moved option `Remove duplicate aircraft from online service and simulator` to page `Online
  Flying` in options dialog.

### Logbook

* Added footer line to logbook search which shows summed up values for travel times and distances
  for selected logbook entries.
* Added simulator and real travel time to logbook search result table.
* Logbook entry dialog is now prefilled with all data (flight plan, performance and trail) from
  current session. This can be removed by pressing reset.
* Added cleanup function for logbook which removes invalid logbook entries that can result from
  pattern work or repeated approaches. Main menu `Logbook` -> `Cleanup Logbook Entries` or logbook
  table context menu.

### Flying and User Aircraft

See
[Little Navmap User Manual - User Aircraft Centering](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/AIRCRAFTCENTER.html)
for more explanations.

* Removed confusing move/zoom gesture when on ground with simple aircraft centering. Now keeping
  current zoom value when jumping back to user aircraft.
* Added option to modify zoom for aircraft and next waypoint. Options on page `Simulator Aircraft`
  input field `Zoom Distance`.
* Added zoom out on takeoff option. See `Options` on page `Simulator Aircraft` checkbox `Zoom out
  on takeoff`.
* Added distance option to zoom in on aircraft touchdown in options on page `Simulator Aircraft`.
* Added separate timeout to jump back to current active leg for flight plan table on page
  `Simulator Aircraft`.

### Search

* Added random destination finder in airport search tab to select a random departure and arrival
  from the current search result. Enable this by checking `Random Flight` in the drop down menu
  button. Thanks to [u-an-i](https://github.com/u-an-i) for implementing this.
* Added undo/redo functionality to logbook and userpoint search tabs. Can be accessed in main menu,
  context menu or shortcuts. The undo/redo information is saved in the database and permanent between
  restarts. Warning dialogs before deleting entries removed. #280
* Added literal search using double quotes for navaid and airport idents. Example: Search for "TAU"
  including the double quotes to find exactly the two VORs with this id instead of waypoints like
  `TAURA`.
* Idents in airport or navaid search can now be separated by space to search for a list. Example:
  Enter `LIRF EDDF` without quotes to find these two airports.

### Procedures

* Added procedure preview showing all available procedures of an airport on the map. Enable with
  new button in airport search tab on the top or from `Preview all procedures` context menu. View is
  updated automatically when changing search parameters in procedure tab.
* Procedures can now be selected into flight plan by right-clicking on a waypoint or other fix of a
  procedure preview in the map.
* Procedures and custom arrival and departures can now be deleted from the map context menu when
  right-clicking on a flight plan procedure waypoint.
* Added name search filter in procedure search tab. This filters the procedures by the content of
  the field `Ident`. The parameter is saved between sessions.
* Added separate procedure filters for STAR and all approach types like ILS, RNAV or VORDME.
* Added indicator for transitions `(T)` in procedure search tab for SID, STAR and approaches.
  Number of transitions is shown in the remarks column.
* Added display of aircraft category and required navigation performance indicator to procedures
  and procedure legs in flight plan table and procedure search.
* The vertical angle now shown in procedure leg restrictions in flight plan and procedure search.
#803
* Changed display of missed approaches in procedure preview. Missed approaches can now also be
  disabled for the procedure preview on the toolbar or in view menu `Show missed approaches`.

### User Aircraft Progress

* Added user aircraft progress tab configuration using a tree control which allows to select data
  fields to show. The dialog also shows a description for each progress data field. Open this
  configuration dialog by clicking on the small button on the top right in the progress tab (gear
  symbol) or by using the context menu. #768
* Added new data fields fuel load, gross weight, real time, top of climb and autopilot selected
  altitude to aircraft progress.
* Showing vertical path and required descent rate in aircraft progress in descent and approach
  phase.
* Endurance in progress tab now considers reserves and contingency fuel.
* Added options to display speeds, altitude and vertical speed in other than selected default
  units. This is for indicated and actual altitude as well as indicated, ground and vertical speed in
  the progress display tab. Enable this in menu `Tools` -> `Aircraft Progress Display Options`. #656

### Information

* Now showing the canonical path (i.e. symbolic links, Windows shortcuts and Windows junctions
  resolved to the real path) for airport add-ons in information display. This means that the real
  installation location of linked add-ons using symbolic links, shortcuts, junctions or aliases is
  shown now.
* Added [ChartFox](https://chartfox.org) to airport information in link section. You have to be
  logged into ChartFox to see charts.
* Added radial and distance to related navaid in waypoint information for special waypoints like
  `D095J` which is 95°M and 10 nm from VOR SUM.
* Added display of transition level to information airport and weather tab. Only X-Plane or
  Navigraph.
* Showing detailed waypoint description now if available (Navigraph and X-Plane). Examples are
  `Named`, `RNAV`, `VFR` or `Off Airway`. #321

### Userpoints

* A userpoint category is now automatically enabled after adding one on the map. This helps to
  avoid confusion when a userpoint is hidden right after adding.
* Added separate symbol size and text options for userpoints. See page `Map Display User`.
* Updated stock icon translations. Translated userpoint types are now shown in tooltip and
  information tab. Note that translated types cannot be used in search.

### Scenery Library Database

* Now allowing a `no simulator` state of the program instead of always showing a X-Plane
  installation. This avoids the confusing X-Plane state despite not having it installed.
* Now supporting symbolic links (all OS), Windows junctions and Windows shortcuts (`.lnk` files) as
  well as macOS aliases in MSFS `Community` and X-Plane `Custom Scenery` folders.
* Fixed exclude file, exclude directory and exclude add-on recognition to work with symbolic links,
  shortcuts or junctions.
* Scenery library database can now be loaded in background which allows the user to plan a flight
  while loading. Progress dialog is not blocking access to the program now and can be brought into
  background. Loading dialog now gives an option to use or discard a database after loading.
* Now notifying user about wrong scenery library modes after loading. Considers MSFS and Navigraph
  special cases. Allows user to change to the recommended mode after loading.
* Now showing a warning dialog on startup and database switch if user has a stale simulator
  database loaded. The warning shows if the scenery library database was created with a previous
*Little Navmap* version or if it is older than two months.
* Now adding suffix `... reload advised` to database in scenery library menu if a database was
  loaded with a previous version of *Little Navmap* or if database was loaded two months ago. This is
  a reminder for users to reload after simulator updates or updates of _Little Navmap_.
* Added `Validate Scenery Library Settings` in menu `Scenery Library` which helps to set the
  correct scenery library mode.
* Now hiding artificial waypoints created internally for procedure or airway resolution from
  search, information and tooltips.
* ILS and GLS/RNP information is now always taken from Navigraph database except when using `Do not
  use Navigraph Database`. As a result ILS course might probably not match for older scenery data or
  airport add-ons. Select `Do not use Navigraph Database` temporarily if this is an issue.
* Corrected issues with runways designated by true course like BGTL. Approaches were missing runway
  assignments and could not be resolved before. #870

#### MSFS

* Changed handling for MSFS file `Content.xml` for SU10 and fixed crash when reading new file
  layout. Corrected layer ordering for MSFS scenery library to adhere to priorities in file
  `Content.xml`.
* Fixed issue where airport city names were missing since MSFS SU11 beta. Note that country names
  are not available from the simulator.
* Changed fuel detection for MSFS. An airport now gets Avgas and Jet A availability assigned if it
  has a fuel pad (which has no fuel type information). Now showing only `Fuel` for MSFS if both are
  available. #918
* Now ignoring invalid waypoints with empty ICAO region code and invalid type as they appear in
  some MSFS add-on sceneries. This fixes the exception `NOT NULL constraint failed:
  tmp_waypoint.region ...` when loading. #910
* Now also loading BGL files from missions to catch respective airports.
* Fixed bug where Little Navmap would only read and display a single transition from add-on
  (Community) SIDs and STARs, despite these procedures actually having more than one transition. This
  happens when using the latest MSFS SDK (SU9 or later). Thanks a lot to
  [flpduarte](https://github.com/flpduarte) at Github for the fix.
* Added notification message for encrypted MSFS add-ons when reading the scenery library. This
  helps to identify unreadable airports where the layout in *Little Navmap* will not match the layout
  in the simulator.

### Command Line #431

Start program with the help option `-h` from a terminal to see available command line options.

See
[Little Navmap User Manual - Command Line Options](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/COMMANDLINE.html)
for details.

* Added scripts for portable execution: `Little Navmap Portable.cmd` (Windows), `Little Navmap
  Portable.command` (macOS) and `Little Navmap Portable.sh` (Linux). All settings, databases and
  cache folders are saved to the installation folder when starting the program with these scripts.
  See
  [Little Navmap User Manual - Portable Execution](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/INSTALLATION.html#portable-execution).

=================================================================================

# Version 2.8.6.rc2

## Changes from 2.8.5.rc1 to 2.8.6.rc2

### General

* Fixed case of wrong elevation profile error if restrictions at end of STAR conflicts with restrictions at
  beginning of an approach transition. Example: EHAM, arrive using STAR NORK2A via ARTIP and R18R.
* Now checking regularily for updates instead of only on startup. Update notification messages
  might now also pop up after startup except when being connected to a simulator or having a dialog
  window open. Not that the update check across the network is still done only every day, week or
  month.
* Changed display of missed approaches in procedure preview. Missed approaches can now also be
  disabled for the procedure preview on the toolbar or in view menu `Show missed approaches`.
* Fixes for approach transition and STAR procedures when drawing flight plan.
* Corrected display in airport information for missing paths.

### Little Xpconnect Version 1.0.33

* Added menu item `Load AI Aircraft Information` which allows to disable the background loading of
  `.acf` files.
* Fixed an issue where ICAO type and other values of AI and multiplayer aircraft were messed up.
* Now detecting on-ground status correctly for AI or multiplayer aircraft.

=================================================================================

# Version 2.8.5.rc1

## Changes from 2.8.4.beta to 2.8.5.rc1

### Flight Plan, Export and Procedures

* Update flight plan saving to files. Changes are now kept in a background file without asking for
  save. This is now also true if a plan was already saved to a file. You can disable this behavior on
  options page `Startup and Updates` by disabling `Load last used flight plan`. The temporary plan is
  stored in the settings folder as file `little_navmap.lnmpln` besides `little_navmap.ini`.
* Corrected export format MSFS IniBuilds A310 and updated default export paths.
* Fixed issues where the table layout in multi export options was lost at times.
* `Avoid overwriting Flight Plan with not matching departure and destination` now enabled per
  default on new installations. You can disable this setting in the options dialog on page `Flight
  Plan` if needed.
* Fixed regression where waypoint altitude was missing in X-Plane FMS flight plan export.
* Fixed safe altitude not updated in flight plan table if elevation profile window is hidden. Now
  always calculating elevation data in background.
* Improved airport matching between simulator and navdata when selecting procedures. Example:
  Scandinavian Mountains (ICAO ESKS) was not found since it has an internal X-Plane ident of XESV5
  but its ICAO code is equal to the internal X-Plane ident ESKS for the closed Strängnäs Airbase.
  Now relying more on coordinates when checking for airports using official ids.
* Fixes for flight plan export. Now saving display ident (ICAO, IATA or others) instead of X-Plane
  internal for airport into LNMPLN files now. This eases exchange of plans with other simulators.
* Fixed export for X-Plane FMS to use ADEP/ADES keywords when using procedures at airport.
* Corrected display for procedures usable with all or parallel runways in procedure search tab.
  The tree display now shows a list of runways or `All` again instead of a wrong single runway.
* Adjusted warning for descent fuel flow to allow slightly more fuel flow than in cruise phase.

### Map

* Adjusted airport drawing. Corrected size of minor airport symbols at higher zoom levels. Airports
  are now shown up to zoomlevels of 8000 km for Spherical and 10000 km for Mercator projection.
* Smaller font for airport labels on large zoom levels.
* Adjusted size of airport add-on highlight on map.
* Now showing top of climb and top of descent on map and in elevation profile even if very close to
  departure or destination.

### Weather

* Weather reading for X-Plane 12 fixed which failed to recognize new files if the weather folder
  was intially empty. This affected METAR and GRIB (winds aloft) files.
* Added warning message if X-Plane 11 or 12 weather files cannot be read due to broken weather
  paths or wrong simulator base path in dialog `Load Scenery Library`.
* Changes in display of wind barbs to avoid flooding the map with symbols. More optimizations to
  speed up map rendering at high zoom levels.

### User Interface

* Fixed wrong display of airways in tooltip and information tab on NDB and VOR having no airways
  attached.
* Changed status bar to avoid growing and shrinking fields. Now keeping maximum size to avoid jitter.
* Now keeping the undock map window state to avoid a messed up layout after a restart when using
  `Restore Defaults`. The `Allow to undock the map window` option on page `Map` is now unchanged
  after resetting settings.
* Simplified update notification dialog to show only HTML message from server. Removed `Download in
  Browser` button as well as header information and `Download now`.
* Warning for performance file aircraft type mismatch is now reset to off on update since MSFS
  causes too many issues. You can enable this again in menu `Aircraft` -> `Warning for aircraft type
  mismatch` if you use another simulator than MSFS.
* Corrected logic for edit and save aircraft performance to avoid wrong questions to save file.
* Added changelog item to help menu.
* Enabled missing tooltips with full path on aircraft performance recent menu.
* Updated French translations by Patrick.
* Updated Italian translations by Flavio.

### Little Xpconnect Version 1.0.32

* Adapted new weather and environment datarefs to X-Plane 12 changes.

=================================================================================

# Version 2.8.4.beta

## Changes from 2.8.3.beta to 2.8.4.beta

* Flight plan is now saved to a temporary file on exit if created from scratch. This avoids the question
  dialog when exiting the program after building a new plan. This means: You create a new flight plan from
  scratch and Little Navmap will not ask to save the plan when exiting. Instead the same plan
  is reloaded on next startup. Continue editing without saving and the changed plan will be
  reloaded on next startup. You can still use the `Save` and `Save as` functions as before.
* Now allowing arbitrary points for departure and destination. This covers all navaids, user points
  and coordinates which can be used as start or destination points. The elevation profile is now
  calculated without error messages for these kind of flight plans. Note that you have to install the
  GLOBE elevation data to get the correct elevations for these points. You have to use the `Add to
  flight plan` menu item, the `Append to flight plan` menu item, the keyboard shortcut
  `Ctrl+Alt+Click` (add),  `Shift+Alt+Click` (append) or the drag and drop flight plan editing to add
  arbitrary points as  departure or destination. Note these flight plans are not supported by all
  simulators or add-ons.
* Fixed for label placement on flight plan line. Label is now placed aside if the options
  `Transparent line` or `Text background` are not used in options on page `Map Display Flight Plan`.
* Fixed performance issue when loading X-Plane 12 METAR and GRIB (wind) files resulting in temporary
  program freezes. Now only reading the latest three METAR and the latest GRIB file.
* Now removing area/country codes from X-Plane country names.
* Now also taking userpoint names into flight plan waypoint if ident is missing.
* Reverted change "MSA, holdings and MORA grid are now shown when using MSFS and scenery library
  mode `Do not use Navigraph Database`". The scenery library mode `Do not use Navigraph Database` now
  strictly fetches all data from the simulator database which results in certain features being
  disabled in this mode.
* Updated Italian translation by Flavio Borgna.
* More small text, translation and user interface fixes.

=================================================================================

# Version 2.8.3.beta

## Changes from 2.8.2.beta to 2.8.3.beta

### Flight Plan Export

* Fixed duplicate waypoints in some formats like FMS 3 with departure or destination runway selected.
* Fixed dot in GFP export separating waypoints wrongly.
* Waypoints resulting from departure and runway selection (extended runway center line and other points)
  are now omitted in all export formats for complex aircraft and third-party Garmin units to avoid
  issues when loading. Use the aircraft FMS or MCDU to select a departure or approach runway.

### Map Display

* Better alignment for ILS feathers with runway due to rounding errors. This does not
  affect offset ILS.
* Fixed issue where ILS heading was offset after switching scenery library databases.
* Optimizations for ILS display. Now omitting details and alignment on higher zoom levels.
* MSA, holdings and MORA grid are now shown when using MSFS and scenery library mode
  `Do not use Navigraph Database`. Buttons and menu items in `View` were previously disabled.
* Fixed on-ground indication for MSFS user aircraft (gray icon border now restored on ground).

### Aircraft Performance

* Fixed issues where merge aircraft performance dialog window showed the example profile values.
* Omitting warning message about wrong aircraft type now when using new example performance profile.

### Weather

* Fix for X-Plane 12 METAR file name changes. Made file selection more tolerant and applied
  optimizations for faster reading. #950
* Added delayed loading for information display to avoid freezes when loading X-Plane METAR files.
  Added wait pointer when loading X-Plane METAR files. Optimizations for loading.
* Added hours and colored warning for more than 3 (orange) and more than 6 hour (red) old METAR reports
  in airport tab, airport tooltip and airport weather tab.

### User Interface

* Fixed issue where flight plan was centered on startup despite using
  `On startup show on map` -> `Last position` or `Home position` on options page `Startup and Updates`.
* Changed X-Plane FMS export menu item for X-Plane 12 to avoid misunderstandings. #949
* Fixed program freeze when trying to load user airspaces with an empty path or an empty list of
  file extensions.
* Updated program translations: Brazilian Portuguese by Ricardo, French by Patrick, Italian by Flavio and German.

### Command Line and Portable Mode

* Added option `l` / `--log-path` to put log files into a separate folder.
* Adapted portable scripts to store log files into folder `Little Navmap Logs`.
* Fixes for overriding log and settings paths when using portable mode scripts. Paths and files are now
  correctly referenced and shown in about dialog and tools menu.
* Corrected wrong settings file name from `little_navmap` to `little_navmap.ini` when using portable mode.
  Rename the file to restore your settings if using portable mode.

### Help

* User manual updated.
* Now automatically using HTML help files from folder `help/en` or other supported language
  codes if installed. Download help from
  [User Manuals - Beta Releases](https://albar965.github.io/manuals.html#beta) and  extract the zip file to
  `.../Little Navmap/help/en` to use the offline user manual.

### Little Xpconnect Version 1.0.31

* Updated Linux build and removed unneeded dependencies to shared libraries.
  This helps to avoid conflicts with other plugins.

### Internal

* Completely restructured build system to make all OS versions automatically in virtual
  machines running on Linux.
* Added scripts for generating announcement post and Github release drafts automatically.

These changes help to make more frequent releases.

=================================================================================

# Version 2.8.2.beta

## Changes from 2.8.1.beta to 2.8.2.beta

### Windows Builds

**There are two builds of Little Navmap and Little Navconnect for Windows available now:**

* **Windows 64-bit:** For MSFS and all X-Plane versions.
* **Windows 32-bit:** For FSX and Prepar3D.

Note that Little Navmap and all related programs are interoperable across the network (Little Navmap and Little Navconnect)
as well as the X-Plane plugin (Little Navmap, Little Navconnect and Little Xpconnect).

### User Manual and Help

* Updated English [Little Navmap - User Manual](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/).
  Adapted to new features and first draft is available online as well as included as PDF
  (see [User Manuals - Beta Releases](https://albar965.github.io/manuals.html#beta)).
* All help buttons now point to the related chapters in user manual.

### X-Plane

* Little Xpconnect version 1.0.30 now adds items in X-Plane plugin menus to set AI fetch and performance options. See README.txt or
  [Little Navmap User Manual - Little Xpconnect](https://www.littlenavmap.org/manuals/littlenavmap/release/2.8/en/XPCONNECT.html).
* Internal changes in Little Xpconnect to mitigate probable simulator stutters with X-Plane 12.
* Change Little Xpconnect build for Linux to use a minimum of dependencies to avoid issues with X-Plane 12.
* Calculating RNP value now correct for procedures from X-Plane data.

### MSFS

* Fixed issue where airport city names were missing since MSFS SU11 beta. Note that country names
  are not available from the simulator.
* Changed fuel detection for MSFS. An airport now gets Avgas and Jet A availability assigned if it
  has a fuel pad (which has no fuel type information). Now showing only `Fuel` for MSFS if both are
  available. #918
* Added GFP flight plan export for TDS GTNXi and MSFS IniBuilds Airbus.
* Added workaround for wrong on-ground state in MSFS AI.

### General

* Added option to hide dock window title bars in menu `Window` -> `Show Dock Window Title Bars`.
  Uncheck this to get more screen space inside the main window.
* Added function `Map` -> `Goto User Aircraft` to the toolbar.
* Copied `Map` -> `Delete Aircraft Trail` back to the toolbar. Enabling question dialog for this
  action again to avoid accidental deletion.
* Added zoom out on takeoff option. See `Options` on page `Simulator Aircraft` checkbox `Zoom out
  on takeoff`.
* Added cleanup function for logbook which removes invalid logbook entries that can result from
  pattern work or repeated approaches. Main menu `Logbook` -> `Cleanup Logbook Entries` or logbook
  table context menu.
* Added menu item `Aircraft` -> `Warning for Aircraft Type Mismatch` which is enabled per default.
  This allows to disable the warnings for aircraft types which are often wrong from the simulator.
* The default performance profile which is created when using menu `Aircraft` -> `New Aircraft Performance`
  is now based on the data of a Cessna C172 and named `Example Performance Profile`. This avoids warning
  messages when using a new performance profile. Adapt it to your aircraft as needed.
* Changed aircraft performance type error to warning. Removed warning about wrong aircraft type
  from fuel report.
* Now clearing undo/redo data in logbook and userpoint databases if updating from 2.8.1.beta. This
  happens only once during update and was implemented due to a bug in 2.8.1.beta which could leave
  the databases in inconsistent state.
* Fixed parsing of coordinates for ARINC formats when lat/lon is swapped in the user interface.
* Corrected display of endurance which differed from map and progress display. Now using 10 second
  rolling average for both values.
* Removing artificial waypoints from procedure preview for tooltip, context menu and information to
  fix duplicate waypoint entries in context menu. This type of waypoints is present in the database
  but should not be shown in the user interface.
* Fixed issue where paths were stored with the wrong separators in the scenery library database on
  Windows.
* Removed built-in map legend. This now available either online or in the included PDF user manual.
  The HTML manual can now be downloaded from the [User Manual Page](https://albar965.github.io/manuals.html).
* Fixed missing tooltip and information click for RNP/GLS approaches when having ILS disabled.
* Fixed issue where changing AI aircraft TAS labels affected other settings.
* Now clearing out departure and destination alternates from SimBrief to avoid strange routing.
* Now always using IFR for SimBrief imported flight plans. For all other functions the current
  IFR/VFR state is kept. #943
* Now downloading track automatically after changing sources in `Flight Plan` ->
  `Oceanic Track Sources`.
* Fixed several issues where values were not reset after using `Restore Defaults` in options dialog.
* Adjustments to map display features like `Show selected altitude range` (green banana), turn path
  indicator `Show turn flight path` and AI aircraft labels.
* Changed layout and texts in search dock window to allow a slightly smaller window.
* Updated stock icon translations. Translated userpoint types now shown in tooltip and information
  tab.
* Fixed hanging wait cursor after userpoint or logbook import exception.
* German translations updated.
* Updated French translation by Patrick.
* Many more user interface and text corrections and improvements.
* Added command line language code option `-l` or `--language` for user interface.

### Wind

* Resetting wind source to NOAA on update now. Adjust as needed.
* Changed user interface for wind for more consistency. Removed wind checkbox from fuel report
  header and added drop down box which mirrors the items in menu `Weather` -> `Wind source`.
* Added manual wind layer altitude to fuel report which is independent from flight plan cruise
  altitude.
* Improved indications in wind tooltip to show manually selected wind altitude layer, altitude of
  shown wind barbs and flight plan cruise altitude indication.
* Performance optimizations. Wind barbs now drawn sparse at higher zoom levels and near the
  poles. #940

### macOS

* Fixed issues with macOS aliases. These can now be used in X-Plane `Custom Scenery`.
* Default style on macOS after first start is now Fusion and also reset on update since the default
  macOS style is too clunky.
* Removed check for wrong macOS version on program startup.
* Raised macOS minimum requirement to 10.13 High Sierra.

=================================================================================

# Version 2.8.1.beta

## Changes from 2.8.0.beta to 2.8.1.beta

### Scenery Library

* Now supporting symbolic links (all OS), Windows junctions and Windows shortcuts (`.lnk` files) in
  MSFS `Community` and X-Plane `Custom Scenery` folders. Note that macOS aliases are not supported.
  Use symbolic links instead.
* Fixed exclude file, exclude directory and exclude add-on recognition to work with symbolic
  links, shortcuts or junctions.

### X-Plane 11 and 12

* Little Xpconnect now supports Apple Silicon / ARM 64 machines. Note that this is untested.
  Please report if you run into issues. #923
* The included Little Xpconnect might not work with older macOS version. You can use Xpconnect from
  the previous release if needed
* Reinstall the Little Xpconnect plugin from this or the last package. Otherwise fuel flow
  calculation or other functions might not work in Little Navmap.
* Now supporting X-Plane 12 METAR airport weather reports and GRIB winds aloft by checking folder
  `Output/real weather`. Added folder configuration in options on page `Weather Files`. #926
* Fixed issue where X-Plane 12 add-on airports were not read from `Custom Scenery` in some cases.
  Airports not included in the file `scenery_packs.ini` are now treated like enabled. #927
* Corrected userpoint export and import to and from `user_fix.dat` for X-Plane 11 and 12. Exporting
  and importing waypoint flags and full name for X-Plane 12 now. The Little Navmap Userpoint tags
  field is used to load and save the ID of the airport terminal area as well as the waypoint type.
  Waypoint type is based on ARINC 424 field type definition 5.42.
  Spaces are replaced by underscores '_' for userpoint tags. Alternatively double quotes and
  spaces can be used.
  Example tags: `EDDF V__` is a VFR Waypoint at airport EDDF, `ENRT "I  "` is an en-route unnamed
  charted intersection and `ENRT R__` is an en-route named intersection.
* Made reading of X-Plane `scenery_packs.ini` more error tolerant for XP12. Now printing warnings
  into the log file instead of failing with an exception.

### Flight Plan

* Magnetic course of flight plan legs is now always calculated using normal magnetic declination. VOR
  calibrated declination is ignored. The content of the chapter
  [User Manual - 27.3. Magnetic Declination](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/FLIGHTPLAN.html#magnetic-declination)
  is not valid anymore. Other options to display VOR inbound and outbound magnetic course are now
  available.
* Added optional inbound and outbound VOR course to aircraft progress display considering VOR
  calibrated declination. This is always shown when the next or last waypoint is a VOR, VORDME or
  VORTAC.
  Enable this in `Tools` -> `Aircraft progress display options` -> branch `Next Waypoint` ->
  `Leg course from` and `Leg course to`.
* Removed merging (e.g. grouping of multiple deletions into one) of same changes for undo or redo
  in flight plan operations. Now single changes can be undone.
* Fixed issues where selection in flight plan table was cleared after undo or delete operations
  making modifications using keyboard shortcuts more difficult.
  Now keeping selection stable during various operations like undo/redo and others.
* Added option to use either Pilot Id or username for SimBrief download.
* Removed `Ignore declination of VOR and other radio navaids` on options page `Flight Plan` since
  there are other ways to display VOR inbound and outbound magnetic course now.

### Map

* Added option on page `Map Display Labels` to show start and end course labels also
  considering VOR calibrated declination. Useful when flying VOR to VOR. Labels are shown at a
  fixed position at start or end of flight plan legs.
* Outbound and inbound VOR calibrated declination now ignored per default in normal route leg
  course shown in the moving labels.
* Options `Show Selected Altitude Range` and `Show Turn flight path` in menu `View` are disabled
  on first startup after a new installation.
* Fixed issues where the turn path disappeared after user changed simulator time. Note that the
  turn path now requires the updated Little Xpconnect plugin for X-Plane to get accurate timestamps.
* Fixed detailed label display for the 5 nearest AI aircraft which are 10 NM near user and within
  5000 ft of altitude.
* Criteria for nearby AI labels can be changed in configuration file in group `[Map]` and keys
  `MaxNearestAiLabels`, `MaxNearestAiLabelsDistNm` as well as `MaxNearestAiLabelsVertDistFt`.
* Adjusted AI aircraft label visibility depending on aircraft ground status and details.
* Added configuration file options for online shadow aircraft detection in group `[Options]` keys
  `MaxShadow...`. Tuned shadow aircraft detection. Increased allowed heading difference.
* Final course for measurement lines at VOR is now calculated based on VOR calibrated declination.
* Fixed incorrect endurance range display and wrong warnings when simulator time is changed.

### Undo / Redo

* Added progress dialog for long undo operations in logbook and userpoints which can happen when
  undoing the import or a bulk change of large datasets. Operations can be canceled now.
* Fixed performance issues for undo and redo operations resulting in frozen program.
* Fixed issue where import of logbook or userpoint data resulted in a messed up undo state.

### User Interface

* Now showing the canonical path (i.e. symbolic links, Windows shortcuts and Windows junctions
  resolved to the real path) for airport add-ons in information display. This means that the real
  installation location of linked add-ons is shown now.
* Moved option `Remove duplicate aircraft from online service and simulator` to page `Online Flying`.
* Added option for tooltips in menus which is off per default. Option to show tooltips in whole program
  is now reset to enabled. Not available on macOS.
* Fuel sampling is now based on simulator time for more accuracy and requires the updated
  Little Xpconnect plugin for X-Plane. No actions required for FSX, P3D and MSFS.
* Resetting flight plan table, airport search result table and navaid search result table view on
  update to 2.8.1.beta now to avoid display of wrong columns or missing table columns.
* Fixed issues with some labels not updating after style change.
* Fixed memory leak caused by AI aicraft collection resulting in crashes. These appeared with a
  message containing `std::bad_alloc` in the log file.
* Fixed occasional crash on exit.
* Updated Italian translation by Flavio Borgna.
* Updated German translation.
* More small user interface improvements.

### Command Line and Startup

* Added scripts for portable execution: `Little Navmap Portable.cmd` (Windows),
  `Little Navmap Portable.command` (macOS) and `Little Navmap Portable.sh` (Linux).
  All settings, databases and cache folders are saved to the installation folder when starting the
  program with these scripts.
* New command line parameter `-c`, `--cache-path` to define the location of the Marble map tile
  cache folder. Start Little Navmap with the option `-h` for help on all command line options.

===============================================================================

# Version 2.8.0.beta

## Changes from 2.6.19 to 2.8.0.beta

### Map Display

* Added turn prediction line for user aircraft also having tick marks for half and one NM distance.
  Enabled by default in menu `View` -> `Show Turn Flight Path`.
* Added option to display selected autopilot altitude range as a dark green arc on the map. Enable
  this in menu `View` -> `Show selected altitude range`. Note that some add-on aircraft misuse the
  autopilot altitude which results in a wrong display. #247
* Outline color (old and default style in *Little Navmap*) and semi-transparent (like SkyVector)
  option for flight plan added. Option for semi-transparent flight plan line also affects logbook
  preview and procedure preview. See options on page `Map Display Flight Plan`.
* Added display on map and elevation profile for GLS paths. Showing information for GLS paths in
  tooltip and info window now. Now showing GLS channel information in flight plan table for GLS
  approach. Enable RNP/GPS path display in menu `View` -> `Navaids` -> `Show GLS Approach paths` or
  elevation profile context menu.
* Added two sliders in airspace toolbar button dropdown menu for minimum and maximum altitude in
  500 ft steps to show overlapping airspaces. #612
* Changed wind altitude levels in toolbar button to use a slider instead of fixed altitude levels.
* Combined the three toolbar buttons for map detail into one drop down menu button on the toolbar
  containing a slider and reset menu item. Moved map detail level settings from menu 'View' to menu `Map`.
* Replaced map theme and map projection boxes in toolbar with a new tool button having a drop
  down menu (dark globe icon on toolbar). This saves space in the toolbar area. Removed
  `Map Projection and Theme Toolbar`.
* Added toolbar drop down menu button for a more detailed airport display filter including runway
  length, type, procedures and light status.
* New option to show aircraft endurance as circle around user aircraft. This is based on reserves,
  contingency, fuel load, current fuel flow and ground speed (but not wind). Enable in menu `View` ->
  `Show Aircraft Endurance`. Note that this shows the endurance based on current fuel flow. Numbers
  on range ring shown in warning and error colors depending on endurance. #341
* Added forced navaid display for recommended navaids from used procedures including indication in
  tooltip. This means that a related VOR being part of a procedure in a flight plan is shown even if
  the display of VOR is disabled. This allows to have a clean map with only flight plan related navaids.
* Added display of MSA (minimum sector altitude) diagrams on map similar to range rings. Can be set
  by user in map, flight plan table, airport search and navaid search context menus. Enable display
  of MSA icons in menu `View` -> `Navaids` -> `Show MSA Sectors`. Enable a larger scaled display by
  right clicking on the MSA icon and selecting `Add MSA diagram at ...`. #498
* Added option for MSA diagram transparency and text size in options on page `Map Display User`.
* Added MSA tooltip, map context menu for show information and information display.
* Added display of en-route holdings to map display, map context menu, information display and
  tooltips. Holdings are automatically either fetched from an updated Navigraph database or the
  X-Plane database. Old saved user defined holdings are discarded. #363
* Unpaved, heliports and water airports are now shown smaller than paved airports depending on zoom
  level. Now adjusting airport label font size depending on zoom and minor airport status. Minor
  airports have a smaller symbol and text on higher zoom distances.
* Added button and menu item to disable online aircraft and simulator AI separately. #754
* Added new range ring dialog allowing to add a label, change the coordinates or change the color.
  Removed range ring setting from options dialog since radii can now be changed when adding rings.
* New option for verbose tooltips on page `Map`. Default is enabled. Disable this to get brief
  tooltips when hovering over the map.
* New options for semi-transparent highlight circles. Colors for highlights can now be changed.
  Page `Map Display User`.
* Added option to disable magenta highlight for active in options on page `Map Display Flight Plan`
  in checkbox `Highlight active leg`. #785
* Added optional label `Distance and Bearing from User` for AI aircraft. This can be enabled in options
  on page `Map Display Labels`, branch `AI, Multiplayer and Online Client Aircraft` in line
  `Distance and Bearing from User`. #708
* Added options for measurement lines thickness, color and font size. These can be changed in options
  on page `Map Display User` -> `Distance measurements`.
* Added size option for highlight marks in options on page `Map Display User` -> `Circle Size`.
* Added option for navaid radial display when drawing a measurement line from a VOR, VORTAC or NDB.
  Default is off. Enable this in options on page `Map Display Labels` branch `Measurement Lines`. #860
* Added options for display of user and AI aircraft coordinates on map. Page `Map Display Labels`. #700
* Added AGL label option for user aircraft on map. See `Map Display Labels`.
* Added optional display of red ice warning labels on map (not in elevation profile) on page `Map
  Display Labels`. #745
* Wind pointer is now kept when disabling aircraft display. Wind pointer can be disabled in options
  on page `Map Display Labels` in branch `Top of Map`.
* Split delete options for user feature types like range rings or measurement lines for all feature
  types in menu `Map` and `Reset all for a new Flight`. Holdings and traffic patterns can now deleted
  independently, for example.
* Display of a feature category is now automatically enabled on the map after adding an user
  feature like range rings.
* Added function to zoom and jump to defined coordinates on map in main menu and map context menu.
  See map context menu `More` -> `Jump to Coordinates ...`.
* Added `Go to User Aircraft` menu item in menu `Map` plus keyboard shortcut `Ctrl+PgUp`.
* Added tooltip for distance measurement lines showing distance, label, initial and final course.
* Now allowing compass rose minimum size down to 0.2 NM when zooming close. Corrected distance ring
  labels for small distances in compass rose.
* Added option to show compass rose with true heading. See options on page `Map Display Labels` in
  branch `Compass Rose`.
* Moved whole map configuration to a file `maplayers.xml` embedded in program. This can be
  overridden in configuration folder for a detailed map display customization. Program is watching
  overloaded file in settings folder for changes and updates map accordingly. See file
  `maplayers.xml` and embedded comments for more information here:
  [maplayers.xml](https://github.com/albar965/littlenavmap/blob/master/resources/config/maplayers.xml).
* Fixed graphical "smearing" issues with maps not covering the whole view like the Norway N50 Topo Map.
* Many more map display issues fixed and improvements added.

### Map Display Themes

* Added MapTiler, MapBox and Thunderforest map themes plus required API key and token assignments.
* Themes requiring keys or tokens are marked with a `*` in menu and dropdown box. A dialog window
  with more information is shown when selecting a map theme needs more information. See options
  on page `Map Display Keys` for key or token input.

### DGML for Map Theme Developers

* All themes are added to the drop-down list by name as extracted from the DGML files. Now checking
  visibility flag in DGML. Themes having this set to `false` are excluded. All themes are now shown
  without distinction between user or stock.
* Added option to pass key/value pairs to replace in DGML map configuration files. This is needed
  for online maps requiring API keys or tokens. These keys are collected from DGML map configuration
  files and can be edited in options on page `Map Display Keys`. #85
* Added new key `{language}` in DGML for custom map request URLs. This allows to fetch Google map
  tiles using the user interface language instead of getting map labels in random languages. Append
  `&amp;hl={language}` to the download URL path in Google map themes to force map tiles in the user
  interface language or `&amp;hl=en` to force all maps in English. This fixes issue with random
  language used for labels in some maps. Note that you have to clear the tile cache to see the
  changes. See
  [User Manual - Disk Cache](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/FILES.html#disk-cache).
* Added commented example for DGML configuration including new keys in `data/maps/earth/example/example.dgml`.

### Airspaces

* Changed loading of user airspaces now by showing a separate loading dialog similar to the scenery
  library dialog. Removed user airspace paths and patterns from options dialog. #490
* Added reader for IVAO and VATSIM JSON boundaries. You can now read IVAO JSON and VATSIM GeoJSON files.
  Currently you can find IVAO boundaries here:
  [Airspace Boundaries](https://www.littlenavmap.org/downloads/Airspace%20Boundaries/).
  VATSIM boundaries are available here [VATSPY Data Project](https://github.com/vatsimnetwork/vatspy-data-project).

### Flight Plan

* Added footer line in flight plan table which shows distance, time and fuel for selected flight
  plan entries. Flight plan table options (menu `Tools` -> `Flight Plan Table Options` -> `Flight
  Plan Table Footer` -> `Selected Flight Plan Legs`) allows to disable selection and error footer
  lines in flight plan table. #892
* Changed flight plan calculation to a normal non-blocking dialog window also to avoid
  the short popping up on start. Note that these non-blocking dialog windows can be put behind the
  main window and show up in the Windows or other task lists.
* Highlight of active in flight plan table can be disabled in options on page `Flight Plan`. #785
* Removed forced assignment of runways if no parking is set for departure. An airport can now be
  used as a departure point. Improved parking selection dialog.
* Added safe altitude display in flight plan table (orange line in elevation profile). Can be
  enabled in menu `Tools` -> `Flight Plan Table Options`.
* Related navaids in flight plan table and other places in program now use notation with prefix `R`
  like `R090` for radials instead of `°M`.
* Changed flight plan table column selection to use configuration tree dialog including a
  description column instead showing the description in tooltips. Can also be used to disable
  header and footer labels in flight plan.
* Users can now select departure runway instead of a SID. See context menus or menu `Flight Plan´ ->
  `Select Departure Runway`.
* An offset angle relative to runway heading can now be selected when choosing the destination
  runway (former `Create Procedure` function). See context menus or menu `Flight Plan´ -> `Select
  Destination Runway`.
* Added departure and approach runway information to flight plan table header.
* Added header label in flight plan tab `Remarks` showing used scenery data, cycle and performance.
* Added column for related/recommended fixes and navaids in flight plan table. These are now shown
  with frequency in flight plan table, elevation profile and other places.
* Added latitude/longitude columns shown in user selected format to flight plan table as well as
  CSV and HTML export.
* Improved start position selection dialog (menu `Flight Plan` -> `Select a Start Position`). Added
  runway dimensions, runway facilities and surface. User can now search for airline codes or other
  texts in the parking, runway or helipad entries. Airport is always added as an option.
* Improved error messages in tooltip on error label in flight plan tab. Removed redundant error
  label in elevation profile. Showing aircraft performance related warnings now in flight plan
  table footer.
* More fixes and improvements.

### Elevation Profile

* Added display of required (by approaches) or calculated vertical descent flight path angle to
  elevation profile map and tooltip. Calculated vertical angle is shown with transparent background
  and required angle is shown with yellow background. #803
* Showing optional vertical track line from user aircraft on the elevation profile. Enable this by
  checking `Show Vertical Track` in the elevation profile context menu. #247
* Added options to display vertical path angle and speed to reach the next waypoint at the calculated
  altitude. Can be shown in elevation profile (`Tools` -> `Elevation Profile Display Options`) as
  aircraft label and in aircraft progress tab (`Tools` -> `Aircraft Progress Display Options`). Made
  aircraft labels in elevation profile optional.
* Vertical paths in approaches are now considered as restrictions and enforced while calculating
  profile. Error messages can appear if altitude restrictions related to a vertical path are violated
  by a too low cruise altitude.
* Added option to vertically and horizontally zoom to aircraft and destination point in elevation
  profile. Enable this in context menu of the elevation profile (`Zoom to aircraft and destination`). #868
* Added top header to elevation profile optionally showing course, distance and related navaid.
  Optional flight plan line labels added to elevation profile. Profile labels can now be set in
  options dialog. Added context menu item to disable top label in profile.
* Added display options for profile on options page `Map Display Labels` in branch `Elevation
  Profile`.
* Added optional display of altitude and speed restriction labels in elevation profile. #601
* Moved elevation profile display settings from page `Map Display` in options dialog into a
  separate configuration dialog. Added menu item in `Tools`, elevation profile context menu
  and a button in elevation profile window for configuration options.
* More options, fixes and drawing improvements.

### Flight Plan Export

* Added functionality to fetch and send flight plans to/from SimBrief to file menu. Use menu `File`
  -> `Open Flight Plan from SimBrief` and `Export Flight Plan to SimBrief`. Follow instructions in
  dialog windows. #828
* Added file patterns for multi export which can be set for each format. Improved context
  menu, keyboard shortcuts and error messages in multi export options. Added bottom label in multi
  export options dialog to preview export file path and name as well as other information. #751
* Added reading support for Garmin GFP flight plan files. These are text files containing the
  flight plan after the prefix `FPN/RI:`.
* `File` -> `Export Options` are now unchecked for this update since these often cause issues. Now
  showing warning dialog if these options are enabled.
* Fixed issue with X-Plane FMS flight plan export where wrong airport designator for custom / add-on
  only airports and airports using long ids.
* Added X-Plane 12 FMS export which uses the same X-Plane format but a different folder.
* Added separate export option for PMDG MSFS aircraft.
* Added flight plan export for iFly Jets Advanced Series. #817
* Added support for MSFS parking suffix to allow reloading LNMPLN flight plans. Example EDDG, 18A
  to 18E. MSFS still cannot load parking positions with suffix. Not even its own ones.
* Changes to Flightgear plan import and export: Waypoints with missing coordinates can now be
  loaded. Waypoints marked `<type>basic</type>` can now be exported and loaded. Thanks a lot to
  [colingeniet ](https://github.com/flpduarte) at Github for the fix
* Changed GPX loading and saving to use millisecond accuracy. Fixed timezone issues when loading and
  saving GPX. GPX now allows both millisecond and second ISO date. #907

### Flight Plan Route Description

* Flight plan route description window is now non-blocking and allows to continue working with the
  main window while opened. Note that the non-blocking dialog window can be put behind the main window
  and shows up in the Windows or other task lists. Update description by clicking
  `Load from Flight Plan` after changing plan on the map or flight plan table.
* Flight plan route description string is now saved independently from flight plan.
* Changes done by clicking `Create Flight Plan` can now be undone in the tab `Flight Plan`.
* Removed `Read Route Description` button in route description window and replaced its functionality with
  a delayed automatic update. Results update while typing.
* Removed `IFR`/`VFR` selection box from route description window. The flight plan type is now
  taken from the tab `Flight Plan`.
* Extended waypoint coordinate parser for all ARINC 424 Code Convention full degree waypoint formats
  like `57N30`, `5730E` or `57S30`. Flight plan route description can now read these waypoints
  independent if they are in the navdata or not.
* Added separate help area in route description window and removed tooltips. Open or close the help
  area with the blue help button at the right.
* Added new options to route string dialog: `Write STAR and transition reversed` (format `TRANS.STAR` or
  `TRANS STAR`) and `Write SID/STAR and transition space separated`.
* Now reading both space and dot separated notation `SID TRANS`, `SID.TRANS` as well as `STAR
  TRANS`, `TRANS STAR`, `STAR.TRANS` and `TRANS.STAR` in route description.
* More improvements in route description parsing.

### Online Flying #761 and #754

* Completely reworked removal of duplicate aircraft (shadow aircraft) coming from simulator and
  online network. Registration/callsign match function is now replaced by a distance and altitude
  match. There is no need to have matching registration/callsign values now. This applies to the user
  aircraft as well as multiplayer aircraft.
* Added note for simulator and online shadow aircraft in tooltip and information window.
* New option in configuration file to disable shadow aircraft: `[Options]`, `OnlineNetworkDisableShadow`.
* Added dark red online aircraft icons by type for simulator shadow aircraft. Now also showing
  online helicopter or jet icon for online aircraft shadows.
* Showing connected online network in main window title bar now.

### Logbook

* Added footer line to logbook search which shows summed up values for travel times and distances
  for selected logbook entries.
* Added simulator and real travel time to logbook search result table.
* Logbook entry dialog is now pre-filled with all data (flight plan, performance and trail) from current
  session. Can be removed by pressing reset.

## Weather

* Added more layers for winds aloft download to get more accuracy at
  lower levels: 850 mbar (rounded to 4000 ft), 925 mbar (rounded to 2000 ft).
* Better error detection on downloaded empty weather files where page does not return an error.

### Flying and User Aircraft

* Removed confusing move/zoom gesture when on ground with simple aircraft centering. Now keeping
  current zoom value when jumping back to user aircraft.
* Added option to modify zoom for aircraft and next waypoint. Options on page `Simulator Aircraft`
  input field `Zoom Distance`.

### Aircraft Performance

* Now checking roughly for correct ICAO aircraft type in performance edit dialog. Added link to
  official ICAO aircraft type database and Wikipedia in aircraft performance edit dialog.
* More warnings for invalid fuel flow and speed values in aircraft performance: `Climb fuel flow is
  smaller than cruise fuel flow`, `Descent fuel flow is higher than cruise fuel flow`,  `Climb speed
  is higher than cruise speed` and `Descent speed is much smaller than cruise speed`.
* Added simulator type to aircraft performance file, edit dialog and display.
* Added display for winds at cruise level only in tab `Fuel Report`.
* Improved wind data calculation to achieve more accuracy and better matching path angles.
* More user interface improvements.

### Search

* Added random destination finder in airport search tab to select a random departure and arrival
  from the current search result. Enable this by checking `Random Flight` in the drop down menu
  button. Thanks to [u-an-i](https://github.com/u-an-i) for implementing this.
* Added undo/redo functionality to logbook and userpoint search tabs. Can be accessed in main menu,
  context menu or shortcuts. The undo/redo information is saved in the database and permanent between
  restarts. Note that undoing large bulk changes can take a while. Warning dialogs before deleting
  entries removed. #280
* Logbook and userpoint undo function assigned to `Ctrl+Shift+Z` and `Ctrl+Shift+Y` to avoid
  overlap with flight plan undo/redo functions.
* Added literal search using double quotes for navaid and airport idents. Example: Search for "TAU"
  including the double quotes to find exactly the two VORs with this id instead of waypoints like `TAURA`.
* Idents in airport or navaid search can now be separated by space to search for a list. Example:
  Enter `LIRF EDDF` without quotes to find these two airports.
* More improvements and bug fixes to search functionality.

### Procedures

* Added procedure preview showing all available procedures of an airport on the map. Enable with new
  button in airport search tab on the top. View is updated automatically when changing search
  parameters in procedure tab.
* Procedures can now be selected into flight plan by right-clicking on a waypoint or other fix of a
  procedure preview in the map.
* Procedures and custom arrival and departures can now be deleted from the map context menu when
  right-clicking on a procedure waypoint.
* Added name search filter in procedure search tab. This filters the procedures by the content of
  the field `Ident`. The parameter is saved between sessions.
* Added procedure filter for STAR and all approach types like ILS, RNAV or VORDME.
* Added indicator for transitions `(T)` in procedure search tab for SID, STAR and approaches.
  Number of transitions is shown in the remarks column.
* Added display of aircraft category and RNP indicator to procedures and procedure legs in flight
  plan table and procedure search.
* Vertical angle now shown in procedure leg restrictions in flight plan and procedure search. #803

### User Aircraft Progress

* Added user aircraft progress tab configuration using a tree control which allows to select data
  fields to show. The dialog also shows a description for each progress data field. Show this
  configuration dialog by clicking on the small button on the top right in the progress tab (gear) or
  by using the context menu. #768
* Added fuel load, gross weight, real time, top of climb and autopilot selected altitude to
  aircraft progress.
* Showing vertical path and required descent rate in aircraft progress in descent and approach phase.
* Endurance in progress tab now considers reserves and contingency fuel.
* Added options to display speeds, altitude and vertical speed in other than selected default units.
  This is for indicated and actual altitude as well as indicated, ground and vertical speed in the
  progress display tab. Enable this in menu `Tools` -> `Aircraft Progress Display Options`. #656

### Information and Aircraft Progress

* Moved multiple code for airspaces from name to description to avoid the confusing name suffix.
* Added [ChartFox](https://chartfox.org) to airport information in link section. You have to be
  logged into ChartFox to see charts.
* Added radial and distance to related navaid in waypoint information for special waypoints like
  `D095J` which is 95°M and 10 nm from VOR SUM.
* Added display of transition level to information airport and weather tab. Only X-Plane or Navigraph.
* Showing detailed waypoint description now if available (Navigraph and X-Plane). #321

### Userpoints

* Userpoint category is now automatically enabled after adding one on the map. This helps to avoid
  confusion when a userpoint is hidden right after adding.
* Now creating `More ...` overflow menu in for userpoint categories if userpoint category menu gets
  too large.
* Added separate symbol size and text options for userpoints. See page `Map Display User`.

### User Interface

* Added introductory dialog for first time users explaining further steps. Moved all initial dialog
  actions to the delayed window actions to have main window and map complete. Dialog advising
  database reload now allows to open the scenery library dialog. Other small text changes.
* Swapped `Shift+F11` and `F11` functions. Fullscreen is now `F11` since this is a common shortcut for
  most applications.
* All actions for `None` and `All` in toolbar button dropdown menus can now toggle between states
  none, all and selected state. Click `All` a second time to revert to the previous selection. #762
* Removed `Delete Aircraft Trail` function from toolbar to avoid accidental deletion. The function
  can be accessed by shortcut `Alt+Shift+T` or in menu `Map`.
* Now checking for base folder structure only on first startup to avoid issues when changing
  language. Folder structure can be now be created manually from `Tools` -> `Create Directory
  Structure`. #782
* Added warning message when using scenery library with not matching simulator in connect dialog.
  This shows up when connecting to MSFS with an active X-Plane scenery database, for example.
* Now decreasing connection rate for long running sessions using autoconnect to avoid loss of
  internal SimConnect resources. After 30 minutes, an attempt is made to connect every 30 seconds, and
  after one hour, every minute. Workaround for #891.
* Separated tab bar reset into a new menu item `Reset Tabs to Default` in menu `Window`. Window layout
  and and tabs can now be reset separately.
* Added show map cache to menu `Tools` -> `Files`.
* Resetting some essential messages on update now to keep users alert and aware of potential issues.
* Changed symbol for nautical miles to correct official `NM`.
* More small user interface fixes and improvements.

### Options

* Reordered pages in options and added new pages `Map Display Keys`, `Map Display Labels`, `Map
  Display User` and `Map Display Flight Plan`. Removed page `Map Display 2`.
* Added new page `Map Display Labels` in options and moved tree settings from `Map Display 2` to
  it. Setting description is now shown in a second column instead of tooltips.
* Option to hide user feature tooltips (traffic patterns, measurement lines and others) on page
  `Map` added.
* Added option to disable startup image screen (splash screen) on page `Startup and Updates`.
* Added distance option to zoom in on aircraft touchdown in options on page `Simulator Aircraft`.
* Added separate timeout to jump back to current active leg for flight plan table on page
  `Simulator Aircraft`.
* Added option to change main toolbar icon size on page `Display and Text`.
* Added option to reverse all mouse wheel functions in map and elevation profile in options dialog on
  page `User Interface`.

### Scenery Library Database

#### General

* Scenery library database can now be loaded in background which allows the user to plan a flight while
  loading. Progress dialog is not blocking access to the program now and can be brought into background.
  Loading dialog now gives an option to use or discard a database after loading.
* Now notifying user about wrong scenery library modes after loading. Considers MSFS and Navigraph
  special cases. Allows user to change to the recommended mode after loading.
* Now showing a warning dialog on startup and database switch if user has a stale simulator
  database loaded. The warning shows if the scenery library database was created with a previous
  *Little Navmap* version or if it is older than two months.
* Now adding suffix `... reload advised` to database in scenery library menu if a database was loaded with a
  previous version of *Little Navmap* or if database was loaded two months ago. This is a reminder
  for users to reload after simulator updates or updates of _Little Navmap_.
* Added `Validate Scenery Library Settings` in menu `Scenery Library` which helps to set the correct
  scenery library mode.
* Corrected issues with runways designated by true course like BGTL. Approaches were missing runway assignments
  and could not be resolved before. #870
* Now allowing a `no simulator` state of the program instead of always showing X-Plane. This avoids the
  confusing X-Plane state despite not having it installed.
* Now hiding all artificial waypoints created internally for procedure or airway resolution from
  search, information and tooltips.
* ILS and GLS information is now always taken from Navigraph database except when using
  `Do not use Navigraph Database`. As a result ILS course might probably not match for older
  scenery data or airport add-ons. Select `Do not use Navigraph Database` temporarily if this is an
  issue.

#### MSFS

* Now ignoring invalid waypoints with empty ICAO region code and invalid type as they appear in
  some MSFS add-on sceneries. This fixes the exception `NOT NULL constraint failed:
  tmp_waypoint.region ...` when loading. #910
* Now also loading BGL files from missions to catch respective airports.
* Changed handling for MSFS file `Content.xml` for SU10 and fixed crash when reading new file
  layout. Priorities for known base folders are now forced to lowest values to ensure the correct
  loading order. Other folders are loaded without any special order if not set in `Content.xml`.
* Fixed bug where Little Navmap would only read and display a single transition from add-on
  (Community) SIDs and STARs, despite these procedures actually having more than one transition. This
  happens when using the latest MSFS SDK (SU9 or later).
  Thanks a lot to [flpduarte](https://github.com/flpduarte) at Github for the fix.
* Added messages for encrypted MSFS add-ons when reading the scenery library. This helps to
  identify unreadable airports.
* More fixes around MSFS scenery library loading.

#### X-Plane

* Data compilation adapted for X-Plane 12 folder changes. #867
* X-Plane now requires `x-plane_install_11.txt` or `x-plane_install_12.txt` and a valid installation
  path to be recognized. Run X-Plane once to create this file so that *Little Navmap* can detect it.
* Now skipping empty X-Plane `apt.dat` files and files having empty lines in the header to avoid
  program freezing when reading malformed files.
* Added airport transition level for X-Plane. This is not yet enabled in the Navigraph database.
* Fixed issue `Index out of bounds: Index: 5, size: 5` when reading X-Plane user_fix.dat with
  optional last column missing.
* More X-Plane related fixes.

### Command Line #431

Start program with the help option `-h` from a terminal to see available command line options.

* Added command line option `-f` or `--flight-plan` to load a flight plan file on startup using one
  of the supported formats (`.lnmpln`, `.pln`, `.fms` and more).
* New command line option to load and parse a flight plan route description (`-d` or
  `--flight-plan-descr`). For example, use `littlenavmap.exe -d "KYKM WENAS7 PERTT 4741N12051W DIABO
  J503 FOLDY YDC PIGLU4 CYLW CYYF CZGF"` to load plan on startup.
* Aircraft performance file can now be loaded from command line with option `-a` or `--aircraft-perf`.
* Added option `-p` or `--settings-path` to change full path to settings and databases using an
  absolute folder or a path relative to the installation folder. This allows to put all settings and
  databases on another drive or into the installation folder.

===============================================================================

# Version 2.6.19

## Changes from 2.6.18 to 2.6.19

### User Interface

* Fixed issue where main window could not be resized below 1000 pixels. Minimum limit is now 300 pixels.
* Changed style `Night` to improve visibility for checked icon menu items and menu separator
  lines which were barely visible before.

### Map Display

* Disabled GLS and other virtual paths which were wrongly shown as ILS when using latest Navigraph
  databases updated for future versions of Little Navmap.
* Fixed issue where new user airspaces were not drawn after reading from disk.

### Flight Plan and Elevation Profile

* Fixed issue which appeared when airport altitude is reported higher from simulator than runway
  altitude from navdata for procedures. Program showed wrongly a violated altitude restriction at
  runway and refused to build elevation profile.
* Fixed issue where alternate airport was lost and error message remained after switching scenery
  library databases.
* Corrected mapping of parking names for empty or invalid MSFS parking spots which broke reloading
  of parking positions from flight plans. Exported MSFS PLN files now have correct parking name set
  for these cases.
* Fixed issue where flight plan leg in elevation profile had wrong position offset related to
  restriction.
* Fixed issue where elevation profile could not be calculated if a STAR has an `At Altitude`
  restriction.
* Fixed missing waypoints in MSFS flight plan export for all distance, altitude or otherwise
  terminated procedure legs.
* Fixed issue where MSFS SID and STAR cannot be loaded due to missing runway in database.
* Extended waypoint coordinate parser for all ARINC 424 Code Convention full degree waypoint formats
  like `57N30`, `5730E` or `57S30`. Flight plan route description can now read these waypoints
  independent if they are in the navdata or not.
* Improvements to Flightgear XML flightplan files import and export. Thanks to @colingeniet at
  Github for the fixes.

### Scenery Library

* Database minor version updated to 21. Reloading is adivsed to see bug fixes.
* Added push request #16 of @flpduarte. Fixed bug in which Little Navmap would only read and
  display a single transition from addon (Community) SIDs and STARs, despite these procedures
  actually having more than one transition. This happens when using the latest MSFS SDK (SU9 or later).
* Now saving invalid and null parking names from MSFS with indicator `NONE` into the database to
  allow handling in flight plans.
* Fixed issue where airport frequencies were written as 0 instead of null for MSFS resulting in
  wrong search results.
* Now skipping empty X-Plane `apt.dat` files to avoid program freezing in an empty loop for
  malformed files.

### Other

* Now decreasing connection rate for long running sessions using autoconnect to avoid loss of
  internal SimConnect resources. An attempt to connect is made every 30 seconds after half an hour
  and every minute after one hour. Workaround for SimConnect issue mentinoned in #891.

### Development and Build

* Moved version number to variable `VERSION_NUMBER` in file `littlenavmap.pro` instead of coding it
  into sources.
* Now writing files `version.txt` and `revision.txt` files into install folder allowing
  deployment scripts to automatically name archives. These files can be used to identify
  a version without opening the program.


===============================================================================

# Version 2.6.18

This release adapts *Little Navmap* to the latest MSFS changes that cause problems when loading the
scenery library, as well as other fixes and improvements affecting other simulators.

This release contains only the most pressing or easy to integrate issues. Development is going on
in parallel for the next release and an alpha version was already released.

## Changes from 2.6.17 to 2.6.18

* Fixed "docking allowed" setting not applied to map window.
* Removed hillshading option. This will be replaced by better maps. Closes #838
* Fixed issue where all logbook attachments were replaced with the files from the first edited entry
  when doing bulk edit. Closes #829
* Increased limit in logbook statistics from 250 to 1000 rows.
* Ok button was wrongly disabled with only ident check in userpoint bulk edit dialog.
* Fixed issues with anti-meridian detection and line split resulting in kinks in flight plan
  depiction. Now working around Marble insufficiency.
* Corrected vertical splitter positions for first start in options dialog and profile widget.
* Fixed issue where distance to destination was not correct in some cases.

* Corrected closed airport logic for MSFS. Now fully relying on closed airport flag for MSFS. This
  can result in closed airports having open runways and open airports having all runways open. #876
* Fixed issue where all airports were recognized as add-on with MSFS update 9.
* Fixed issues for updating airports by disabling a corner case from FSX and P3D which apparently
  does not apply to MSFS. Before a feature was not updated if the new airport did not contain new
  features like aprons or taxiways. Example LICC add-on.
* Fix for window icon notification prevents hiding toolbar on windows with `raise windows` enabled.
* Fixed issue when downloading NAT tracks containing PBCS TRACKS AS FOLLOWS/V W X/END OF PBCS OTS
* Now dropping all artificial waypoints created only for procedure or airway resolution from
  nav_search table.
* Fixed detection of MSFS Navigraph update due to name change.
* Fixed issues with anti-meridian detection when point is on meridian. Added anti-meridian split to
  line and line string classes.

===============================================================================

# Version 2.6.17

This release adapts *Little Navmap* to the latest MSFS changes that cause crashes when loading the
scenery library, as well as other fixes and improvements that also affect X-Plane.

## Changes from 2.6.16 to 2.6.17

### MSFS

* Fixed crashes when loading scenery library of MSFS SU6. #799
* Corrected MSFS airport detection. Now ignoring airport closed flag which removes many
  POI wrongly detected as airports.
* Reduced warnings for unknown BGL records to avoid flooding the log with messages and
  crashing when reading scenery.

### Map

* Limited minimum detail level to -2 to avoid confusion about missing map features when user
  selects a too low value. Now resetting details to default on update.
* Fixed issue where runway offset markings were not visible on unknown runway surfaces like when
  using scenery library mode `Use Navigraph for all Features`.
* Corrected drawing for logbook entries where departure or destination airport could not be found
  in the scenery library database.

### Options

* Changed IVAO weather URL to use HTTPS (secure connection). The URL is now reset to the new
  default on first startup.
* Fixed issue where AI and user aircraft tooltip settings were not restored in options.

### Flight Plan

* Corrected flight plan calculation using radio navaids. Selected navaids were too close in some
  cases. Example: `PAYA MDO ODK CDB ELF DUT PADK` where CDB and ELF are too close resulting in
  zig-zag routing.
* Added heading for departure parking position to LNMPLN flight plan format.
* Adjusted cost factor for flight plan calculation to avoid direct calculation (no airways at all)
  on the last two ticks of the slider. Default value for slider after installation is not centered.
* Fixed issues where departure position type (runway, parking, helipad or airport) was not saved in
  LNMPLN after changing start position to a runway or assigning departure airport. Departure position
  type now set correctly to `runway` after assigning a runway automatically.

### Logbook Search

* Fixed broken search for departure and destination airport in logbook.
* Disabled not working airport filters in logbook search context menu (`Filter by ...` in context
  menu). These will be enabled again in a later version.
* X-Plane: Fixed several issues where an airport using official ids (ICAO, FAA, IATA or local) was
  not found in logbook context menu, logbook edit dialog and information display for log entries.

### Other and User Interface

* Fixed issue where an internal cache gave wrong results which caused random wrong airport
  assignments when working with flight plans or after switching scenery library databases.
* Removed slow down in internal airport queries when searching by official codes. This caused short
  freezes when clicking on an airport for information in some cases.
* Fixed several issues where airports were wrongly identified as X-Plane airports. Corrected
  display of airport ids.
* Fixed issue where a X-Plane was still wrongly detected while using scenery library
  mode `Use Navigraph for all Features`.
* X-Plane: Adjusted display options for official airport codes. IATA is now used before internal
  ident in all cases. Route description now shows IATA code as well if available.
* Adjustments to flight plan and aircraft centering when getting close to ground while flying.
  Now avoiding too close zoom.
* Added Pilot Nav to airport link list.
* Removed `Work offline` option in file menu since it is of limited use and causes too many
  problems if users check this inadvertently.
* Fixed bug with wrong airspace assignment for class F and G when reading OpenAir files. #797
* Better coordinate parsing. Removing separators `|`, `;`, `_` and `:` for latitude and longitude now.
* Fixed several typos in user interface and more small user interface improvements.

### Build and Development

* Now using Qt libraries 5.15.2.
* Changed build to use OpenSSL library provided by the Qt installer on Windows.
* Updated flight plan schema file (https://www.littlenavmap.org/schema/lnmpln.xsd) and LNMPLN file
  format documentation in the user manual.

===============================================================================

# Version 2.6.16

This version fixes flight plan issues with X-Plane as well as flight plan export and printing issues.

## Changes from 2.6.15 to 2.6.16

### X-Plane flight plan export and loading #741

* Now falling back to DEP/DES keywords in X-Plane FMS flight plan files. These keywords denote
  departure or destination as a waypoint or a not identifiable airport opposed to ADEP/ADES. This
  avoids loading issues in X-Plane FMS and third party tools. Flight plans should be loadable in
  X-Plane FMS and GPS in any case. The conditions for this case are below:
   - Airport ident is longer than four characters. Example: White Lake (`XC0004`).
   - Airport has ICAO and this does not match internal id. Example: Torres with official ICAO id `SSTE`
     using internal ident of `SBTR`.
   - Airport has no ICAO but FAA code which does not match the internal id. Example: Red Lion with
     FAA code `JY73` using internal ident of `N73`.
   - Airport has neither of above but a local code which does not match internal. Example: Edmonton
     Cooking Lake having local code of `CEZ3` and internal X-Plane ident `EZ3`.
* Now truncating all X-Plane airport idents to six characters. Also the ones used in intermediate
  waypoints.
* Enabled loading of X-Plane FMS plans with truncated airport ids.

### General

* Added airport elevation to tab `Runways` and airport transition altitude in tab `Weather` in information window.
* Fixed issues with flight plan and waypoint remarks being truncated when saving plan as HTML,
  printing plan or copying plan as CSV (`Ctrl+C` in table).
* Fixed issues when copying CSV text to clipboard in flight plan table and search result tables (`Ctrl+C` in table).
  Wrong columns were copied into the CSV text if columns in the table were reordered.
* Added missing flight plan remarks field to HTML export and print.
* Table columns which are shrinked to minimum width are now excluded from export to HTML and CSV.
* Fixed issue where the wrong flight plan columns were printed or exported to HTML or columns were missing.
  This happened if the user rearranged the flight plan table columns by moving the headers around.
* Small corrections to options dialog text, aircraft labels on the map (`TCAS` vs `XPDR`) and airport
  labels on the map.
* More tolerance for finding airports when loading flight plans. Trying all available internal and
  official ids (ICAO, FAA, IATA and local) now.
* Now also showing ILS frequency for final approach in flight plan table for circling as well as
  IGS, LDA, LOC and SDF approaches if navaid is present.

### Web interface

Fixes provided by [u-an-i](https://github.com/u-an-i).

* Fixed JavaScript errors on desktop due to pointermove after generalising touch zoom.
* Now giving user commands always priority if server does not respond.
* Adjusted fast map refresh to not produce images too large at for slow connections.

===============================================================================

# Version 2.6.15

This version contains bug fixes, small user interface improvements, support for MSFS scenery
library changes and a new airport ident search for X-Plane.

## Important Notes

* All simulators: Reload the scenery library to get the changes. Also update *Little Navmap* on
  remote/networked computers before copying a new scenery library database. Older *Little Navmap*
  versions will crash with the new databases.
* MSFS: Avoid the scenery library mode `Do not use Navigraph Database` if you have the Navigraph
  update for MSFS installed. You will see errors in procedures. Instead directly update the scenery
  database of *Little Navmap* using the Navigraph FMS Data Manager.
* The manual is not updated for the webserver / web user interface changes. Scroll by clicking or
  tapping and zoom by using the mouse wheel or the two-finger pinch gesture.
* The table column order and width for the search results is reset to default for the search result
  table in tab `Airports`.
* The status bar can be hidden in some cases. Show it again by selecting `Window` -> `Show Statusbar`.
* The window layout might be different after updating in some cases. Reset it to default using
  `Window` -> `Reset Window Layout to Default` or load a saved window layout.

## Changes from 2.6.14 to 2.6.15

* Updated English and German manual for airport ident changes in search and information display.
  * [Ident in Airport Search](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/SEARCH.html#airport-search-ident)
  * [Override in Airport Search](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/SEARCH.html#airport-search-override)
  * [Ident in Information and Tooltips](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/INFO.html#airport-ident-info)
  * [Ident in Flight Plan Route Description](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/ROUTEDESCR.html#routedescr-airport-ident)
  * [Allow Window moving](https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/MENUS.html#allow-window-moving)

### General

* Changed weather download process to minimize user interface freezes during wind aloft or METAR
  downloads with slow internet connections. #737
* Correcting VATSIM weather address which was taken over wrongly from old versions in some cases.
  The wrong address caused quickly repeating downloads.
* Now allowing to set departure airport as alternate in the map context menu. The menu item was
  wrongly disabled before.
* Added estimated flight time to top of descent and destination to profile header.
* Menu `Weather` -> `Airport Weather` now allows to disable the weather source which also disables
  all file accesses. The airport weather menu item and toolbar button will disabled if this is
  selected.
* Added function to disable the moving of dock windows by click and drag on the title bar. Uncheck
  `Allow Window moving` in menu `Window` to avoid accidental movement of dock windows which might
  mess up the window layout. You can still resize the dock windows at the border.
* Fixed issue where flight plan calculation window header text was not updated on flight plan
  changes.
* Fixed crash when decoding procedures. Example: Sumburgh (EGPB), approach ILS 27, transition D064L
  for P3D scenery.
* Fixed crash that occured when moving flight plan legs in empty or one leg plan with the keyboard.
  Now updating context menu items in flight plan table accordingly.
* Showing status bar again which might be hidden after recent updates.

### MSFS

* Adapted MSFS scenery library loader to new scenery file structures in MSFS introduced in version
  1.18.9. This is needed to avoid missing procedures. #735
* Several fixes in MSFS flight plan export. Approach transition waypoints are now removed. Removing
  airway for STAR entry waypoints. SID and STAR transitions can be used now. Keep in mind that some
  information will be lost when reloading MSFS PLN files. Several problems with MSFS flight plan
  import remain.
* Localizer approaches were not recognized when loading MSFS PLN files into *Little Navmap*. Fixed now.
* Corrected export for circling approaches and localizer backcourse approaches in MSFS PLN which
  can now be loaded.

### X-Plane

* Added ICAO, FAA, IATA and local airport codes to search result table as well as in information
  and tooltips. This is only used by X-Plane. Move the columns in the search result table out of the
  way by clicking and dragging the column header or shrink them to minimum if you're not an X-Plane
  user. Note that Navigraph additionally provides IATA codes  while FSX, P3D, and MSFS do not provide
  any additional official codes at all. #706
* Enabled search for the additional airport codes in ident field in airports tab. This means that
  *Little Navmap* matches all internal, ICAO, FAA, IATA or local idents to the search input.
* X-Plane internal idents (`X...`, five or more characters) are now hidden throughout the whole
  user interface except in information and tooltips if an airport has one or more official idents
  assigned. The internal ids might show up  occasionally, e.g. in the flight plan table when
  switching simulators.
* The flight plan route description now uses and outputs one of the official codes for airports if
  available.
* Fixed issues with X-Plane flight plan export where airports have an internal ident different from
  official ICAO and FAA codes.
* Fixed missing display for X-Plane airport flatten attribute.
* Fixed potential crash in search functions for airport.
* Resetting table layout for airport search since columns have changed. #707
* Added columns `faa` and `local` to airport table and removed column `xpident` in database schema.
  Database minor version updated to 20.

===============================================================================

# Version 2.6.14

This version contains bug fixes, small user interface improvements and support for the new
IVAO interface which allows update rates of 15 seconds for online flying.

## Important Notes

* MSFS: Avoid the scenery library mode `Do not use Navigraph Database` if you have the Navigraph
  update for MSFS installed. You will see errors in procedures. Instead directly update the scenery
  database of *Little Navmap* using the Navigraph FMS Data Manager.
* The manual is not updated for the webserver / web user interface changes. Scroll by clicking or
  tapping and zoom by using the mouse wheel or the two-finger pinch gesture.
* The table column order and width for the search results is reset to default for the tabs `Online
  Clients` and `Online Servers`.

## Changes from 2.6.13 to 2.6.14

### Flight Plan

* Fixed issue where waypoints being part of a missed approach were removed when saving a flight
  plan. #728
* Now disabling `Add Alternate` in map context menu for empty flight plan to avoid crash when
  selecting without plan.
* Enabled information display on right click or double click in flight plan table for navaids which
  are part of a procedure. Menu item was wrongly disabled before. #727
* Fixed problem where flight plan could be internally corrupted after saving. This caused a wrong
  warning about invalid destination airports when exporting plans and other issues like disappearing
  flight plan legs.
* Fixed issue where Garmin Base Camp could not load GPX files. Added missing attributes and default
  namespace in XML according to specification.
* Now avoiding ICAO region when exporting MSFS flight plans since it is not reliable for airports
  and the sim garbles the flight plan when loading. Example: Direct EDMG to LHSK.
* Reworked resolving of departure parking, helipad or runway positions from flight plan. Now
  omitting positions which are too far away from saved position for all simulators now. Fixed
  issue where helipad starting position was not loaded correctly in some cases.
* Saving and loading departure type (runway, parking, helipad, etc.) to LNMPLN now.
* Reorganized and cleaned up text in tab `Fuel Report`.

### Logbook

* Now omitting flight plan when saving a logbook entry instead of saving an invalid plan with missing
  waypoints. This happens if no flight plan was set while flying. Note that you still might see an
  exception if you try to save a flight plan from older log entries from flights without a plan.
* Now ignoring invalid or missing flight plans when saving GPX files from logbook entry. Previously
  showed an exception `Invalid LNMPLN flight plan file ".". No waypoints found.`.
* Adjustments for flying user aircraft detection to avoid creating log entries for low passes. #693

### Procedures

* Now correcting final procedure legs where last altitude restriction is wrongly below airport
  elevation. This can happen due to errors in scenery libraries or runway threshold elevation being
  below general airport elevation. *Little Navmap* refused to build the elevation profile if this
  happened. #711
* Fixed issue where a far away VOR was selected instead of a closer ILS with the same ident when
  resolving fixes for procedures. Example: LJMB SID PETO5D RWY 32 showed a 800 NM leg towards a
  remote VOR.
* Corrected display issue in flight plan table where DME terminated procedure legs showed the wrong
  navaid and the wrong distance. Example: EGPH I06 via TLA showed `D322O+5` instead of
  `TLA+20`.

### User Interface

* Added `Toggle Flight Simulator Connection` function with keyboard shortcut `Ctrl+Shift+A` in
  tools menu. This allows to quickly connect to the simulator.
* Added previously missing keyboard shortcuts for functions `View` -> `Show Aircraft` (`Ctrl+Alt+B`)
  and `View` -> `Show Aircraft Trail` (`Ctrl+Alt+T`).
* Added keyboard shortcuts for map themes: `Ctrl+Alt+1` to `Ctrl+Alt+6` for default themes.
* Fixed issue where coordinates for online aircraft map link were not updated in information panel.
  Clicking on the link `Map` showed the wrong aircraft position as a result. #722
* VOR now shows `Calibrated declination` and `Magnetic declination` in information window where the
  latter one is the environment value.
* Added flown distance and takeoff time to progress tab. This is also available without flight plan.

### Scenery Library

* Fixed issue where empty folders like `OneStore` in the wrong place confused detection of MSFS.
  Now also checking for file `.../fs-base/layout.json` in required path.
* Now logging empty, invalid or inaccessible XML and JSON files while scanning for MSFS or P3D scenery
  instead of throwing an exception. #720
* Now computing ARINC approach id (e.g. `I27C`) for all approaches from FSX, P3D and MSFS to allow
  better procedure detection when loading flight plans across different simulator databases.

### Other

* Added support for IVAO JSON 2 format in whazzup parser. Removed unneeded attributes for online
  airspaces and clients. Resetting online client, center and server search result table layout for
  database schema changes. Update rate is now 15 seconds for IVAO instead of two minutes. #722
* Several updates to the internal webserver / web user interface by [u-an-i](https://github.com/u-an-i).
* X-Plane and *Little Xpconnect*: Now using more datarefs from flightmodel which are not affected by
  failures. #693
* Updated Qt libraries to 5.12.11.

===============================================================================

# Version 2.6.13

This version contains mostly bug fixes, adaption to MSFS scenery library changes, support for the new
X-Plane TCAS scheme and a reworked web user interface.

Version 2.6.12.beta was an unofficial beta release.

## Important Notes

* You have to update/reinstall *Little Navconnect* and *Little Xpconnect* if you use these since
  the data protocol has changed. This version is compatible with *Little Navconnect* 2.6.11
  and *Little Xpconnect* 1.0.24 or newer.
* Aircraft label settings are reset back to default. Adjust these in the options dialog on page
  `Map Display 2`.
* All MSFS scenery library related changes need at least MSFS version 1.16.2 .
* MSFS users need to reload the scenery library to new features like SID and STAR.
* Do not use the scenery library mode `Do not use Navigraph Database` if you have the Navigraph
  udpate installed. You will see errors in procedures. Instead update the scenery database of *Little
  Navmap* using the Navigraph FMS Data Manager.

## Changes from 2.6.11 to 2.6.13

### Flight Plans

* Corrected loading and saving of GPX tracks. Now also saving timestamps and considering
  disconnected trail segments. A flight where the aircraft was moved or warped during flight results
  in a straight line connecting the two segments. Changing aircraft, restarting the simulator or
  *Little Navmap* results in disconnected trail segments.
* Fixed issue causing error messages on flight plan elevation profile calculation if destination
  airport is below sea level and an approach procedure is used.
* Flight cruise altitude was set wrongly after calculating route with metric altitude units.
* Now omitting visual reporting points (like `VP123`) and other obscure numbered waypoints from
  route calculation. Also ignoring half degree points like `H5711` in north atlantic now. Simplified
  and optimized loading of routing network.
* Fixed issue where a flight plan calculation resulted in not optimal routes. This happened when a
  nearby navaid connected to the airway system could not be found.

### Flight Plan Export

* Enabled departure parking position for MSFS flight plan export and import. Enabled check for
  parking position for MSFS export which shows a warning if starting on a runway.
  You can also set a fuel pad as starting position but note that runways and helipads as starting
  positions will be ignored by MSFS.
* More relaxed user waypoint naming conventions for MSFS. Now allowing more special characters.
* Corrected Aerosoft CRJ flight plan export as far as possible. Now exporting a list of waypoints
  instead of airway routes for MSFS CRJ to minimize issues when loading plan in aircraft.
  Adapted changed keywords in `.flp` file and compressing airway segments now. #632
* Added export of modified PLN format for Integrated Simavionics / ISG devices and gauges.
* Export option for MSFS PMS50 GTN750 Garmin added. This export saves the flight plan using a fixed
  filename `fpl.pln`.
* Now always adding procedure entry and exit waypoints for flight plan export formats not
  supporting procedures like FSX/P3D PLN. User can an additional waypoint in the simulator if needed.
* Corrected default flight plan pattern to use departure and destination ident if flight plan
  pattern is empty. Used departure airport ident wrongly before.
* Changes to allow updates for new export formats.
* Now clearing invalid procedures (red error message below flight plan table) before saving LNMPLN.
  Reloading a saved LNMPLN clears any error messages now.

### Procedures and Scenery Library

* Now fully recognizing SID and STAR from MSFS scenery library. Many thanks to
  [icykoneko](https://github.com/icykoneko) for implementing this. #649
* Adapted loading of approach procedures and some airport structures to new MSFS changes since
  1.16.2. This fixes the issue of empty and not selectable approaches in the procedure tab.
* Constant turn radius legs in procedures are now correctly depicted for MSFS.
* Fixed issue where some navaids did not get airport ident assigned if in different BGL file.
* Other improvements for procedure drawing.
* Added speed limit for MSFS procedure legs.
* Now checking all MSFS procedures before saving in the database. A warning will be logged and the
  procedure will be omitted if not valid.
* Now omitting closed dummy airport structures having no runways and no start positions which are
  used by MSFS as POIs.
* Fixed issue where an error was shown when loading `Library.xml` files from add-on aircraft.
* `Library.xml` files are now considered when excluding folders from loading.
* Removed exception for invalid files in X-Plane CIFP path. Now simply writing a warning to the log
  file.

### Map

* Fixed issue where tooltips and click regions for route preview were wrongly active when showing
  more than on logbook entry highlighted.
* Added new airspace types MCTR, TRSA and GCA where GCAis for unknown and general types. #607
* Function `Center map on aircraft and next flight plan waypoint` now uses defined box for aircraft
  and waypoint to avoid aircraft or next waypoint leaving screen space. More improvements to aircraft
  centering to avoid permanent updates or hanging view.
* Corrected flight plan editing on map which could cause various issues if editing near a missed
  approach which is hidden on the map.
* Removed wrongly drawn procedure point underlay (like overfly indication) from intercept point for
  legs.
* Now updating online centers (transceivers) in VATSIM network every five minutes. Fixes issue
  where user had to restart LNM to update VATSIM centers.

### Logbook

* Logbook entry now uses a separate aircraft trail which does not include previously flown segments
  from other flights.
* Corrected storing of local real time in logbook. Now uses a time format with timezone (not shown
  in logbook search result table).
* Avoiding crash if previously created logbook entry cannot be found on landing.

## User Interface and General

* Completely reworked web user interface. Now with mouse wheel zoom, a mode to follow the user
  aircraft and more. Big thanks to [u-an-i](https://github.com/u-an-i) for implementing this!

* Now using new X-Plane TCAS AI and traffic scheme based on `sim/cockpit2/tcas/targets` datarefs.
  Note that X-Plane provides only limited information about AI or multiplayer aircraft. Only
  transponder code, position, groundspeed, vertical speed and heading are available. #525
* Fetching transponder code for all simulators now.
* Added transponder code to user and AI aircraft. Now showing in tooltips, information and map.
* Added transponder code option to aircraft labels. Note that aircraft label settings are now reset
  back to default.
* Added properties to transferred simulator aircraft data to avoid future incompatibilities when
  adding new values.
* Increased data version to 11 to force incompatibility. This requires to update/install *Little
  Navconnect* and *Little Xpconnect* as well.
* Added links in flight plan table header to quickly get information and jump to departure,
  departure parking and destination on map.
* Added clickable airport link to procedure search header to get information and jump to airport on
  the map.
* Corrected issue where airport files were not found in related documents folder when using
  translated file and folder names. Adapted all translations to this change.
* Added new userpoint icons based on [Bushtalk Radio](https://bushtalkradio.com/) categories.
* *Little Xpconnect*: Offloaded loading of aircraft files and scanning for keys to separate thread
  to avoid blocking main thread on startup. This could have caused stutters when starting X-Plane.
* Chinese translation revised. Thanks to [Tong Hui](https://github.com/tonghuix) and
  [yudongx](https://github.com/yudongx) for their effort.
* Small updates to user manual regarding MSFS limitations.

===============================================================================

# Version 2.6.12.beta

Unofficial beta release.

===============================================================================

# Version 2.6.11

This is a bugfix release which addresses the winds aloft download issues.

## Known Issues

Read the linked chapter below to minimize issues when loading flight plans into MSFS:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/SCENERY.html#load-scenery-library-dialog-msfs-apt-navdata .

See user manual for general known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

See user manual for limitations and issues around Microsoft Flight Simulator 2020:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems-msfs .

## Changes from 2.6.10 to 2.6.11

### Weather

* Fixed `Error downloading or reading wind data` issue. Adapted URL for winds aloft download to
  NOAA changes and added `atmos` as directory. #623
* Now suppressing wind and other downloads with log warning message if URLs are empty. #623
* New decompression methods to speed up weather and track downloads.
* Now showing airport weather symbols on higher zoom levels. Avoiding simple line on wind barb
  which can be confused with low wind.

### Flight Plans

* Corrected approach identifier in FLP flight plan export and loading for Aerosoft aircraft. Now
  using ARINC identifier for approaches and ignoring transitions of type `VECTOR`. Adapted changed
  keywords in file for CRJ. Problems still appear when loading flight plans into the aircraft. This
  will be fixed in one of the next updates.
* Added extra entry for Aerosoft MSFS CRJ in multi export to avoid loading issues because of a
  too long file name.
* Added patch by Slawek Mikula to support loading of Aviamaps flight plans. #616
* Exporting online network flight plan files from menu now correctly remembers last used folder for
  each format.

### Other

* Adjustments to drawing. ILS, online aircraft and AI aircraft are now shown at higher zoom levels.
* Added support for new VATSIM JSON version 3 data feed. Better update rate for online networks is now
  one minute for VATSIM and PilotEdge and two minutes for IVAO. Allowing centers and clients (VATSIM
  prefile) without coordinates now throughout program. Keep in mind that the real center boundaries are
  not depicted yet. #606
* MSFS: Now ignoring invalid content types like `Unknown` in MSFS `manifest.json` file which are
  often set wrongly by add-on developers. This kept add-on airports from showing up.
* Fixed issue where userdata CSV backup files could not be loaded and had to be manually
  corrected before import.
* Updates for detection of military airports and name capitalization.
* More small user interface corrections.

===============================================================================

# Version 2.6.10

This is a bugfix release which addresses a crash that can occur when loading flight plans.

## Known Issues

Read the linked chapter below to minimize issues when loading flight plans into MSFS:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/SCENERY.html#load-scenery-library-dialog-msfs-apt-navdata .

See user manual for general known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

See user manual for limitations and issues around Microsoft Flight Simulator 2020:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems-msfs .

## Changes from 2.6.9 to 2.6.10

* Fixed crash that occurs when showing the dialog `The flight plan had no valid start position` on
  startup. This kept the user from starting *Little Navmap*.
* Removed wrong warning dialog about start position when loading MSFS flight plans. MSFS cannot
  load start positions like gates from a flight plan file.
* Fixed missing time, fuel and altitude values for departure and destination legs in flight plan
  table.
* Corrected message in progress tab which gave the wrong impression that program is already
  connected when using a network connection.
* Fixed issue where minimum zoom was wrongly set in the elevation profile in some cases. As a
  result the user could not zoom in to the minimum of around 4 NM and was stuck at much higher levels.
* Changed keyboard shortcut for `Create Approach` in context menus to `Alt+Shift+R` to avoid
  overlap  with `Calculate Flight Plan`.
* Added new sub menu `Track Sources` in menu `Flight Plan` which allows to enable or disable the
  different track systems to load. Note that AUSOTS is disabled per default since there are no flex
  tracks available for almost one year and the service is unreliable causing download errors.
* More small user interface and map display improvements.

===============================================================================

# Version 2.6.9

This is a bugfix release which addresses an unrecoverable crash on startup when downloading tracks.

## Notes

Read the linked chapter below to minimize issues when loading flight plans into MSFS:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/SCENERY.html#load-scenery-library-dialog-msfs-apt-navdata .

## Known Issues

See user manual for general known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

See user manual for limitations and issues around Microsoft Flight Simulator 2020:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems-msfs .

## Changes from 2.6.8 to 2.6.9

* Fixed unrecoverable error when downloading PACOTS tracks.
* Improved error handling for unreadable track information. Program now logs an error message
  instead of crashing.
* Fixed error when reading procedures with invalid or unknown approach types from FSX, P3D and MSFS.
  Now logging error instead.

===============================================================================

# Version 2.6.8

## Notes

Read the linked chapter below to minimize issues when loading flight plans into MSFS:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/SCENERY.html#load-scenery-library-dialog-msfs-apt-navdata .

## Known Issues

See user manual for general known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

See user manual for limitations and issues around Microsoft Flight Simulator 2020:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems-msfs .

## Changes from 2.6.7 to 2.6.8

### Help and Manuals

* Revised German user manual for spelling and grammar errors.
* Small additions and corrections to English manual.

### General

* Reverted change that was needed for work around a MSFS crash which occured when connecting. Now
  fetching destination and departure for AI aircraft again.
* Fixed unrecoverable crash on startup which can occur with Mercator projection zoomed far out.
* Resolved crashes when showing information for VOR and NDB having no type like `High` or
  `Terminal`.
* Added error handling for missing layout file on startup if `Load window layout from last used
  file` in `Options` on page `Startup and Updates` is checked. Removing or renaming the layout file
  resulted in an unrecoverable crash on startup.
* Fixed procedure display issues for turn bow after circular legs.
  Example: LGSR VOR-B transition BINKI.
* Fixed issue where weather from FSX and P3D was not transferred across networked connections.
* Logbook details (route preview and trail) on the map are now only shown if one entry is selected
  in the logbook search result table. Selecting more than one entry shows only the direct connection
  lines if enabled. This fixes performance issues when selecting many logbook entries.
* Added warning dialog when user switches to offline mode.
* Fixed issues with disappearing flight plan and measurement lines. Lines might still disappear
  near the poles for long flight plan legs depending on zoom factor.
* Navaid resolution when loading flight plans or switching scenery databases is now more tolerant
  for wrong ICAO regions. Navaids were marked red with an error in the flight plan table before if
  the region did not match.
* Fixed issue resulting in degraded drawing performance for airport diagrams. This was most visible
  on large airports.
* Various drawing and user interface corrections.

### Flight Plan

* Fixed issue where waypoints inserted for procedure endpoints received wrong altitude when saving
  or exporting flight plans right after calculation. This causes error messages when loading the
  resulting LNMPLN files. #608
* Now extracting ICAO airport idents for waypoints, NDB and VOR for MSFS export. PLN element
  `ICAOAirport` was missing before and caused crashes when loading flight plans in MSFS. #614
* Split up export options for JARDesign and Rotate aircraft to allow export for both separately.
* Corrections to X-Plane FMS export. Using DEP and DES keywords now instead of truncating ident.
  This allows to reload the plan in *Little Navmap*.
* Fixed regression where circle-to-land approaches could not be loaded by X-Plane due to missing
  destination runway.
* Fixed flight plan export for FSX and MSFS which used the wrong coordinates for destination
  element `DestinationLLA` in flight plan. This confused third party programs.
* Corrected wrong departure position for saved LNMPLN and FSX/P3D PLN flight plans. Now uses
  position from parking, helipad or runway/start for PLN `DepartureLLA` and LNMPLN `Start` element.
  #613
* Fixed issue where LNMPLN flight plan procedures were replaced with waypoints inadvertently if
  enabled in export options menu. This happened when saving LNMPLN plans with multiexport.
* Removed extra space to fix flight plan export for iFly (`.FLTPLAN`).
* Other small corrections for flight plan export.

===============================================================================

# Version 2.6.7

## Known Issues

* No SID and STAR yet from MSFS scenery library. This will come with a future update.
* MSFS multiplayer traffic is not shown in *Little Navmap*.

See user manual for further known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

## Changes from 2.6.6 to 2.6.7

### Help

* Updated German online and included PDF manual as well as legend for changes in version 2.6.
  https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/de
* Corrections to English online and PDF manual as well as map legend.

### MSFS

* **Added workaround for the simulator crashes that were introduced with the MSFS 1.12.13.0 update.**
  This was possible due to a hint in the official forum. The workaround disables the display of departure and
  destination for AI.

### User Interface

* Corrected issue where status bar was hidden on first start or after first installation.
  Now forcing status bar to be visible again when updating from any older version to 2.6.7.
* Flight plan calculation window changed to appear near cursor on first show to avoid random
  placement off screen.
* Added recovery if main window gets off screen after changing monitors. Puts window back on top
  left of main screen if it is not visible.
* Fix for Windows removing file extensions when these are hidden in Windows Explorer. This prevented
  saving of map images.
* Winds aloft now scanning for the latest dataset to avoid outdated reports. Note that reports
  might still be outdated at times which happens if no newer one is available.

### Map and Elevation Profile

* Fixed cut off altitude labels on the elevation profile left area.
* Measurement lines now use the declination at the end to calculate magnetic great circle course at
  end of line. The start course is still calculated based on start declination or attached
  navaid declination.
* Fixed issue where wrong `Too many objects` message was shown and map performance degraded with
  tracks enabled.
* Fixed several issues when centering route or flight plan legs with very long flight plans.
* Fixed issues when painting aircraft trail around the anti-meridian.
* Now painting full aircraft trail even when jumping long distances.
* Adjustments and optimizations for taxiway label drawing. Map shows more labels now.
* Markers are now fetched from the simulator database in default scenery mode just like the ILS.
  Previously markers from add-on sceneries were not visible.
* Fixed issues where marker tooltips appeared after hiding ILS and markers.
* Fixed zooming functions with keyboard input in map where normal zooming was not possible on US
  and other keyboard layouts.
* Disabled home key which zoomed the map all way out when hit accidentally.
* Fixed crash when disabling all labels for measurement lines.
  This caused the program to crash on startup which was hard to recover.

### Procedures

* Fixed issue where intercept procedure legs were not calculated correctly.
  Examples: LGKO SID 32 KOPA3A and LILJ SID DOL1W.
* Small improvements in procedure drawing for turn legs to avoid too large course
  discrepancies between label and line caused by drawing turn.
* Corrected drawing for several procedure leg types and labels in elevation profile.

### Scenery Library

* Now also including MSFS scenery with content type `CORE` which kept *Little Navmap* from loading
  some add-on airports.
* Now skipping file `maintenance.bgl` from Navigraph update in MSFS scenery library which caused
  warnings when loading.
* Airport names now loaded from base scenery with Navigraph update in MSFS. Were missing previously.
* Now omitting scenery library entries which are marked with `active="false"` in `Content.xml`.
  This lets *Little Navmap* to recognize changes made by scenery management tools now.

### Flight Plan and Export

* Now always adapting departure and destination airport names to the names taken from
  the selected scenery library. This also affects the proposed files names when saving or exporting
  flight plans. Behavior before was confusing since it kept an airport name from a previously used
  simulator scenery database.
* Flight plan calculation now correctly omits waypoints which are part of a procedure.
  These should be avoided for en-route navigation and are excluded now from
  calculation except for airway waypoints.
* Folder names are now remembered correctly for MSFS and FSX/P3D manual flight plan export instead
  of using an arbitrary place depending on scenery library selection.
* Now setting voice type to `Full` as a default for vPilot export since other values produce
  error messages.
* Applied workaround for XML files with wrong encoding in header. This
  helps to read wrongly decoded ForeFlight flight plans which are saved in UTF-16 while having a
  UTF-8 indication in the file header.
* Fix for GPX export to allow saving of files and trails without flight plan.
  An empty flight plan does not disable the export menu item now and allows to save only the trail as GPX.
* Fixed issue with X-Plane FMS plans where long airport idents like `XRP0001` cannot be loaded by
  the simulator. Idents are now truncated to six characters.
* Exported FLP flight plans `Aerosoft Airbus and others` and `Aerosoft CRJ` now get a suffix
  `01.flp` to avoid import problems in the aircraft. Note that the number is static and is not counted up.

===============================================================================

# Version 2.6.6

## Important

* The data exchange protocol has changed. You have to update *Little Navconnect* (if using
  remote/network connections) and *Little Xpconnect* (if using X-Plane) too. Both are included in
  the *Little Navmap* download package.
* Reload the scenery library database to see fixes and improvements.
* *Little Navmap* asks to create a recommended folder structure for files on first start after updating to 2.6 versions.
  Let the program create the paths if you like to use them and move your files accordingly.
  Note that this is purely optional. All Files of *Little Navmap* can be stored in any place.

## Known Issues

See user manual for known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

## Changes from 2.6.5.rc1 to 2.6.6

* Fixed issues where flight plan related ILS had no tooltip and could not be clicked.
* Solved update problems with elevation profile when creating new and empty flight plan.
* Corrected wrong or missing error message for flight plans starting with a procedure instead of an airport.
* Corrected display for transparent runways so that polygons below are visible.
* Replacing more obscure minute signs like apostrophes now before reading coordinate in user interface.
* Excluding Navigraph manifest file now to avoid error messages with package "navigraph-maintenance"
  when reading MSFS scenery data.
* Made yellow addon highlight rings smaller.
* Fixed issue where procedure labels along the line disappeared while flying.
* Added Dutch draft translation. Thanks to Eddy Crequie for his work.

===============================================================================
# Version 2.6.5.rc1

## Important

* Update to the latest beta Navigraph navdata update for MSFS if you use it.
* Reload the scenery library.

## Known Issues

See user manual for known problems:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/APPENDIX.html#problems .

## Changes from 2.6.4.beta to 2.6.5.rc1

### Help

* All help buttons and links are functional now in the program.
* English online manual is now complete. Available for download in PDF, EPUB and MOBI format:
  https://albar965.github.io/pages/26/littlenavmapmanuals.html

#### New Chapters

* Flight Plan Route Calculation: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/ROUTECALC.html
* Flight Plan Multiexport: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/ROUTEEXPORTALL.html
* Tracks: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/TRACKS.html
* Edit Flight Plan Position: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/EDITFPPOSITION.html
* Edit Flight Plan Remarks: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/EDITFPREMARKS.html
* Window Layout: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/LAYOUT.html
* Network Setup: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/NETWORK.html
* Start: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/START.html
* Directories: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/FOLDERS.html

#### Updated Chapters

* Flight Plan Formats: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/FLIGHTPLANFMT.html
* Options: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/OPTIONS.html
* Installation: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/INSTALLATION.html
* Menus and Toolbars https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/MENUS.html
* Introduction https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/INTRO.html
* Map Display: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/MAPDISPLAY.html
* Legend: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/LEGEND.html
* Elevation Profile https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/PROFILE.html
* Logbook https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/LOGBOOK.html
* Connecting to a Flight Simulator https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/CONNECT.html
* Tutorial - Building a VFR Flight Plan: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/TUTORIALVFR.html
* Tutorial - Building an IFR Flight Plan with Approach Procedures: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/TUTORIALIFR.html
* Tutorial - Creating an Aircraft Performance Profile: https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/TUTORIALPERF.html

### Flight Plan and Export

* Fixed issue where airways were not selected in flight plan calculation after a SID exit point
  resulting in not optimal flight plans.
* Corrected wrong display of distance in leg ident (e.g. `TAU+4`) in flight plan which showed too
  small numbers in some cases.
* Added missing `All files` filter in all flight plan file save dialogs.

### Logbook

* Now excluding flights with wrong simulator time (negative duration) from logbook statistics.
  This can happen if a simulator reports wrong UTC time or a user changes the simulator time during
  flight. Correct these manually if you see this.
* Added the missing total flight time numbers in logbook statistics dialog. Rearranged logbook
  statistics and put more important tables on top.
* Changed ordinate order in GPX file export to fix Google Maps import issues.

### Procedures

* Corrected selection of SID and STAR with multiple runways in procedure search when right clicking
  on leg.
* Added keyboard shortcut `Return` for `Show procedure`.
* Now denying to add procedures which are completely broken due to missing navaids.
  This is needed to avoid crashes.
* Solved issue where warning dialog appeared twice after adding procedure.
* Fixed inaccessible keyboard shortcuts in procedure search.

### Map

* Fixed slowdown and freezes in map when showing only add-on airports forced with high detail levels.
* Adjusted MORA number display for dark maps like CartoDark for better visibility.
* Fixed several issues where elevation profile was not updated after merging performance or
  changing the performance profile.
* Fixed display and flight plan issues with SID UNIT7K and others at LIMJ.
* Now always drawing approach ILS and airport diagram from flight plan even if these features are disabled in map.
  Allows to hide all map features and show only the important flight plan related ones.
* Corrected rendering order if airport diagram is active when changing detail level. Airspaces are
  now always disabled at the same zoom distance independent of detail level to keep them from disappearing
  at higher zoom levels.
* Fixed issue where ghost tooltips could appear for airspaces when changing detail level.
* Limited localizer width to 20 degree to avoid excessive values from FSX and MSFS distorting ILS
  display.
* Fixed issue with missing or wrong longest runway surface for airports read from MSFS.

### User Interface

* Corrected main window title which showed wrong AIRAC cycle for scenery libraries which do not
  support one (FSX, P3D and MSFS).
* Now omitting thousands group separator in range ring radius list in options since it can cause problems with
  regional settings using space as a separator. Sorting range ring radii after saving now. #590.

### Weather

* Fixed issue where VATSIM weather was only downloaded and updated once after start.
* Now correcting VATSIM weather URL from http to https on startup to avoid outdated METARs from the
  wrong address.

===============================================================================

# Version 2.6.4.beta

## Important

* _Little Navmap_ might ask again to create the recommended folder structure for files.
  This can happen once after updating translations since the folder names depend on the selected language.
  Let the program create the paths if you like to use them and move your files accordingly.
* Update to the latest beta Navigraph navdata update for MSFS if you use it.
* Reload the scenery library.
* The manual was not updated yet. Neither the English nor the translated
  version. Help buttons and links are functional but point to placeholder pages.

## Known Issues

### MSFS

* _Little Navmap_ cannot read SID and STAR from MSFS. Documentation about MSFS format changes are
  needed in SDK.
* MSFS multiplayer and real-time AI cannot be displayed yet. These do not appear in the SimConnect
  interface.
* Simulator weather cannot be shown for MSFS since SimConnect weather functions are deprecated and
  do not deliver data. Needs update or documentation in MSFS SDK. Use NOAA weather which gives you
  the most up-to-date weather reports.
* MSFS seems to have clear concept of scenery order (`Content.xml` seems unreliable)
  and there is no information in the SDK about this. Add-ons are loaded by alphabetical order by
  _Little Navmap_. To put an add-on to the end of the loading list add a `z_` to the folder name,
  for example.
* Flight plan loading in MSFS is flawed and does not produce any error messages if it fails. Quite
  often MSFS cannot load its own plans correctly.
* Country names are missing in MSFS translation tables and are not available in _Little Navmap_,
  therefore.
* Add-ons using the `.fsarchive` encrypted format are not supported. _Little Navmap_ will show only
  the stock airport instead of the add-on if a package is locked down like this.
* Some aircraft mods do not report correct fuel flow to work around simulator limitations. This
  cannot be fixed in _Little Navmap_.
* Some airports files like `LEMG.bgl` cannot be read due to unknown format. _Little Navmap_ reports
  `Error: readInt for file "...OMITTED.../LEMG.bgl" failed. Reason 1`.
  Exclude the airport file from reading in options on page `Scenery Library Database` or simply
  ignore the message. The stock LEMG and all other airports are not affected by this.

### Other

* Dock window layout in _Little Navmap_ can change when resizing or maximizing window and back.
  Qt limitation.
* Window is restored in normal state when changing from a maximized window to fullscreen and back.
  This is a Qt limitation.
* The flight plan calculation might pop up shortly or the main window might flicker when starting the
  program. This can be ignored.
* The height of the elevation profile window cannot be reduced in some cases. Reset to default window
  layout which fixes this. Rearrange or move the elevation profile window to another position which
  usually solves this. Save the layout once you have a working one. This is a limitation in the used Qt library.
* Zooming with touchpad or magic mouse does not work properly on macOS. Use the navigation overlay
  or one of the other options on page `Map Navigation` in `Options` if you think it is unusable. This
  is a limitation in the used Qt library.

## Changes from 2.6.3.beta to 2.6.4.beta

* Added region codes again to MSFS flight plan export. Missing region codes resulted in empty
  waypoints when loading into MSFS.
* Corrected runway surface for longest runway of airports which was not determined correctly for
  add-on airports while reading scenery library from MSFS.
* Calculation for selected flight plan legs corrected. Showed
  `Cannot calculate flight plan between selected legs.` for a correct selection between procedures.
* All context menus now allow correct selection for departure or arrival procedures for round trips
  where departure is equal to destination.
* Fix for missing preferences menu on macOS which happens for some translations.
* Now excluding all alternate airports more than 1000 NM from destination from parsing in route
  description. Problem was `KYIP METRO2 DUNKS J70 PMM KBIV` read PMM as far alternate airport
  instead of VOR.
* Removed runway smoothness indication for all simulators except X-Plane.
* Moved menu `Airspace Sources` from view menu to `Scenery Library` -> `Airspace Libraries`.
* Removed `Scenery Library` -> `Show Database Files` menu item since it is a duplicate of
  `Tools` -> `Files and Directories` -> `Show Database Files` which is doing the same.
* Saving the LNMPLN flight plan format with multiexport now avoids showing save as dialog
  when clicking save.
* Added missing fixes (like the inaccurate scalebar) from 2.6.0.beta for map overlays to Linux versions.

===============================================================================

# Version 2.6.3.beta

## Important

* _Little Navmap_ might ask again to create the recommended folder structure for files.
  This can happen once after updating translations since the folder names depend on the selected language.
  Let the program create the paths if you like to use them and move your files accordingly.
* Update to the latest beta Navigraph navdata update for MSFS if you use it.
* Reload the scenery library.
* The manual was not updated yet. Neither the English nor the translated
  version. Help buttons and links are functional but point to placeholder pages.
* X-Plane users: Update _Little Xpconnect_ to see time related bug fixes.

## Known Issues

### MSFS

* _Little Navmap_ cannot read SID and STAR from MSFS. Documentation about MSFS format changes are
  needed in SDK.
* MSFS multiplayer and real-time AI cannot be displayed yet. These do not appear in the SimConnect
  interface.
* Simulator weather cannot be shown for MSFS since SimConnect weather functions are deprecated and
  do not deliver data. Needs update or documentation in MSFS SDK. Use NOAA weather which gives you
  the most up-to-date weather reports.
* MSFS seems to have clear concept of scenery order (`Content.xml` seems unreliable)
  and there is no information in the SDK about this. Add-ons are loaded by alphabetical order by
  _Little Navmap_. To put an add-on to the end of the loading list add a `z_` to the folder name,
  for example.
* Flight plan loading in MSFS is flawed and does not produce any error messages if it fails. Quite
  often MSFS cannot load its own plans correctly.
* Country names are missing in MSFS translation tables and are not available in _Little Navmap_,
  therefore.
* Add-ons using the `.fsarchive` encrypted format are not supported. _Little Navmap_ will show only
  the stock airport instead of the add-on if a package is locked down like this.
* Some aircraft mods do not report correct fuel flow to work around simulator limitations. This
  cannot be fixed in _Little Navmap_.
* Some airports files like `LEMG.bgl` cannot be read due to unknown format. _Little Navmap_ reports
  `Error: readInt for file
  "C:/Users/USER/AppData/Local/Packages/Microsoft.FlightSimulator_8wekyb3d8bbwe/LocalCache/Packages/Official/OneStore/asobo-airport-lemg-malaga/scenery/LEMG.bgl" failed. Reason 1`. Exclude the airport
  file from reading in options on page `Scenery Library Database` or simply ignore the message. The
  stock LEMG and all other airports are not affected by this.

### Other

* Dock window layout in _Little Navmap_ can change when resizing or maximizing window and back.
  Qt limitation.
* Window is restored in normal state when changing from a maximized window to fullscreen and back.
  This is a Qt limitation.
* The flight plan calculation might pop up shortly or the main window might flicker when starting the
  program. This can be ignored.
* The height of the elevation profile window cannot be reduced in some cases. Reset to default window
  layout which fixes this. Rearrange or move the elevation profile window to another position which
  usually solves this. Save the layout once you have a working one. This is a limitation in the used Qt library.
* Zooming with touchpad or magic mouse does not work properly on macOS. Use the navigation overlay
  or one of the other options on page `Map Navigation` in `Options` if you think it is unusable. This
  is a limitation in the used Qt library.

## Changes

### Translations

* French, German and Italian user interface translation completed.
  Thanks to Patrick for adding the French translation!
* Updated Chinese translation. Thanks to John Liu for providing a first draft!
* Other translations are work in progress.

Note that you can change the user interface language in the options dialog on page `User interface`.

### User Interface

* Added new splash screen image by Günter Steiner.
* Fixed freezing on startup on macOS Big Sur.
* Fixed several problems with dialogs hidden behind main window when using `Keep in Foreground`.
* Added support for coordinate parsing from Wikipedia which uses special characters to minute and
  second symbols. Coordinates like `40°41′21″N 74°2′40″W` (note ″ and ′ instead of " and ') can now
  be directly pasted into _Little Navmap_ dialogs.
* Corrected parsing of coordinate format longitude/latitude (reversed order compared to usual format).
  Now swapping coordinates in this format only if no designators N, S, E and W are given. See options
  dialog on page `Units` and tooltip on coordinate format box.
* Added `Manual Wind` menu item to weather menu which is a clone of the checkbox in the fuel report.

### Flight Plan

* Corrected wrong calculation of time to next waypoint where time was not affected by wind.
* Fixed missing aircraft information when elevation profile and performance data cannot be
  calculated.
* Now checking for path validity more often in multiexport dialog to catch path changes done
  outside _Little Navmap_.
* Auto renumbering all user flight plan positions (green rectangle) that match default pattern
  prefixed with `WP` like `WP1`, `WP2` or `WP99` now. Note that positions are already renumbered when
  loading a plan.
* Waypoint names and positions for user created approaches now correct when exporting plan.
* Problem with wrong active leg sequencing in some procedures solved.
* Fixed procedure query for airports which have a different ident in sim and navdata. Procedures
  were not shown before. Example: Vanderhoof which is AU4 in some simulators vs. CAU4 in Navigraph
  where procedures are loaded from Navigraph database.
* Fixed crash when loading LNMPLN flight plans with an empty waypoint list and added error message.
* PLN files for FSX, P3D and MSFS now have altitude set for all waypoints.
* Removed ICAO region code from MSFS export to improve loading in simulator.

### Map

* Fixed problem where procedure legs like arcs could disappear when zooming.
* Improved drawing of procedures with curves and arcs when following in elevation profile.
* Reduced size of VOR and NDB symbols in lower zoom levels on map.
* Flight plan details reduced on map display.
* Tooltips, map click and menus now working on add-on airports if all other airports are off.
  Before some menu items like `Set as destination` where disabled although airport was visible.
* Corrected display for manual wind. Map and tooltips now show wind based on manual setting instead
  of a probably enabled online wind source.
* Enabled `Set as Destination` and `Set as Departure` in map context menu again to allow round
  trips where destination is equal to departure.

### Elevation Profile

* Fixed wrong display of mouse hover position and wrong waypoint position in elevation profile for
  some procedures. Example: Norwich (EGSH), via NWI1 and NDB FN27 (N27) to runway 27.
* Removed green elevation ramp in profile for legs longer than 2000 NM when using online elevation
  data. Now filling long legs with zero elevation if maximum length for online data is exceeded.
* PAPI slope for approaches now shown again on elevation profile.
* Tooltip in elevation profile not showing up in front of other windows anymore.
* Set minimum size for elevation profile to avoid corrupted display.
* Fixed issue with missing update in tooltip data after flight plan altitude change.
* Several crashes in elevation profile and context menu fixed.
* More improvements in profile.

### Other

* Adjusted detection of MSFS Navigraph navdata update to avoid all airports being detected as add-on.
* Fixed parsing of the incomplete METAR date which gives only day of month. The error could result
  in reports having the wrong date one month back.
* Fixed issue where METAR reports might not be updated in index which could result in old reports
  shown.
* Now imitating MSFS if an scenery update like the Navigraph navdata update tries to reuse the
  ident of an airport for a new one. Example: Boyd Field (54XS) in MSFS which actually Bar C Ranch
  Airport (54XS) in real life at another location. 54XS is shown in the old and wrong location by
  MSFS while the Navigraph update assigns the ident to the new and correct position.
* Fixed issue where military airports were not recognized in add-ons.
* Limited logging for online network connections to avoid log flooding with high frequency
  connections.
* Fixed issues where the wrong UTC time might be sent by _Little Xpconnect_ X-Plane in some cases.
* Made display of head- and tailwind consistent. Arrow down `▼` now indicates headwind and
  arrow up `▲` indicates tailwind in all parts of the program.

===============================================================================

# Version 2.6.2.beta

## Important

* All multiexport options now reset back to default due to internal format changes.

## Important for MSFS Users

* Remove the MSFS Community folder from the ignore list in _Little Navmap_, `Options`, page
  `Scenery Library Database` if you added it with Little Navmap 2.6.0.beta.
  The exclusion  to avoid the crash is not needed anymore.
* Update to the latest beta Navigraph navdata update for MSFS if you use it.
* Reload the scenery library if you use MSFS.

## Known Issues

### MSFS

* Little Navmap cannot read SID and STAR from MSFS. Documentation about MSFS format changes are
  needed in SDK.
* MSFS multiplayer and real-time AI cannot be displayed.
* Simulator weather cannot be shown for MSFS since SimConnect weather functions are deprecated and
  do not deliver data. Needs update or documentation in MSFS SDK. Use NOAA weather which gives you
  the most up-to-date weather reports.
* MSFS has no clear concept of scenery order as far as I can see (`Content.xml` seems unreliable)
  and there is no information in the SDK. Add-ons are loaded by alphabetical order by Little Navmap.
  To put an add-on to the end of the loading list add a `z_` to the folder name, for example.
* Flight plan loading in MSFS is flawed and does not produce any error messages if it fails. Quite
  often MSFS cannot load its own plans correctly.
* Country names are missing in MSFS translation tables and are not available in Little Navmap, therefore.
* Add-ons using the `.fsarchive` encrypted format are not supported and most likely never will.

### Other

* Dock window layout in Little Navmap can change when resizing or maximizing window and back.
  Qt limitation.
* Window is restored in normal state when changing from a maximized window to fullscreen and back.
  This is a Qt limitation.
* The window layout might not be restored precisely on startup in some cases. This is a limitation
  in the used Qt library.
* The flight plan calculation might pop up shortly when starting the program. Simply ignore this.
* The height of the elevation profile window cannot be reduced in some cases. Reset to default window
  layout which fixes this. Rearrange or move the elevation profile window to another position which
  usually solves this. Save the layout once you
  have a working one. This is a limitation in the used Qt library.
* Zooming with touchpad or magic mouse does not work properly on macOS. Use the navigation overlay
  or one of the other options on page `Map Navigation` in `Options` if you think it is unusable. This
  is a limitation in the used Qt library.
* Program hangs on macOS Big Sur beta. Investigating.

## Changes

### Translations

* Italian user interface translation completed. Thanks to Flavio for his work!
* German program translation completed.
* Other translations are work in progress.

Note that you can change the user interface language in the options dialog on page `User interface`.

### Scenery Library

* Now checking for all paths `Community`, `fs-base` and `fs-base-nav` before recognizing a MSFS
  installation as valid. This should help to avoid detection issues with remains from
  previous or other installations.
* Airports in folders prefixed with `asobo-airports-` in `Official\Steam` or `Official\OneStore`
  are now flagged as add-ons.
* Fixed issue where program could appear frozen while counting files before loading scenery.
* Fixed detection for military airports in MSFS and extended detection with international phrases
  like `Militärflugplatz`.
* Now capitalizing all airport names for FSX, P3D and MSFS to fix wrong designators like `Afb`.
* Added checking for database file modifications outside application now. Showing a warning dialog
  if changes are detected. This should make clear that Little Navmap has to be closed before
  updating databases.

### Map Display

* Changed `force add-on` airport display functionality completely. Now keeping add-ons airports
  visible on map independent of zoom level if this option is selected in the toolbar or the
  menu `View` ->  `Airports` -> `Force Show Add-on Airports`. Add-on airports are now shown
  highlighted with a yellow ring per default.
  Add-on highlighting can be disabled in options dialog on page `Map Display`.
  The colors can be adjusted in the configuration file `little_navmap_mapstyle.ini`.
* Changed display when increasing or decreasing detail level on map. Now also scaling icons, texts
  and other map object features. Detail level can now be used to show airport diagram earlier.
* Flight plan waypoints are now shown with higher detail level which results in more text and
  larger symbols. Flight plan display is now also affected by detail level changes.
* Resetting label options for flight plan line (options dialog on page `Map Display 2` tree element
  `Flight Plan`) on first start to distance and magnetic course since course was switched off in
  some cases.
* Increased map details for certain zoom factors. Certain navaids are now shown earlier as
  small triangles (waypoint), rectangles (VOR) or points (NDB) symbols depending on zoom.
* Fixed issue where context menu was all disabled if shown by menu key and mouse not over map.
* Fixed handling of map overflow when showing the maximum number of objects on the map. User now
  gets a warning `Too Many Objects` in the status bar if a result exceeds the limit. This is needed
  to avoid program freeze situations. This fixes the half filled map without warning message.
* Added missing shared library file back to fix the broken offline map themes.
  The hotfix is not needed anymore.
* Fixed issue where waypoints were queried from the database with tracks not loaded. This slowed
  down map rendering significantly.
* Fixed issue where context menu item to select parking was disabled on departure airport.
* Added option to enable or disable AI and user aircraft background text fill. AI/multiplayer and
  user aircraft label colors are now configurable in `little_navmap_mapstyle.ini`.
* Fixed issue where ghost tooltips were displayed for missed approaches.
* Added option to show indicated altitude at user aircraft label on map. This is now the default
  altitude shown in the label.
  This can be changed in options on page `Map Display 2` in the tree on the right at `User Aircraft`.
* The elevation profile now uses indicated altitude for aircraft position to avoid discrepancies in
  display when flying at flight levels.
* The map is now also centered and updated with disabled aircraft display. The active leg (magenta line)
  is now correctly updated on the map and elevation profile in this case.
* Other display improvements.

### Weather

* Fixed issue with NOAA weather downloads where a missing internet connection or wrong web address
  flooded the log and caused the program to crash. Now applying a grace period of three minutes after
  an error which blocks new downloads for METAR requests. Online weather is updated every ten minutes.

### Flight Plan

* Added option to extract flight plan for selected plan range and save it into a new file.
  Select a range of flight plan legs not touching alternates or procedures.
  Then right click into the table and choose `Save selected Range as Flight Plan`.
  This will not replace the current plan but add the saved file to the recent files list.
* Fixed crash while calculating elevation profile with cruise altitude below
  destination airport elevation.
* Corrected wrong distance calculation for an approach where a course intercept leg follows an
  initial fix. Example EGPB LOC FF09 via D244L.

### Export

* Export paths now remain unchanged when switching simulator after first initialization.
  Paths can still be adapted to the currently selected simulator by using reset.
* Now ignoring MSFS path for FSX and P3D aircraft. Best guess for export paths improved.
* Added descriptions with more details in tooltip for multiexport dialog.
* Added native LNMPLN flight plan format to multiexport.
  Note that using this option will clear the change flag (the `*` in the window title plus further
  question dialogs asking to save file).
  It will also set the current filename to the exported file name.
  Furthermore, it will add the filename to the recent files list.
  This way the LNMPLN export option behaves exactly as if the user called `Save` or `Save as`.
* Now stopping export and showing warning dialog if one or more paths are invalid instead of silently
  ignoring the error.
* Removed Garmin export option for waypoints from options dialog. Added new entries in multiexport
  dialog instead.
* X-Plane FMS export file name now using a dash in file name for better readability.
* Changed default F1 GTN export path to `F1TGTN`.
* Small improvements and several fixes in multiexport configuration dialog and context menu. Fixed
  missing update (not switching to bold font) of table when checking for export.
* Airac cycle was not correctly applied in some cases and resulted in using the current month
  and warnings in X-Plane.

### User Interface

* Changed default window layout to one where dock windows `Search` and `Simulator Aircraft` are
  merged into a tabbed view. This avoids the frozen (not resizable) elevation profile window.
  Look for the tabs `Search` and `Simulator Aircraft` on the lower right side of the main window.
* Removed wrong rounding to nearest 0.025 MHz for COM frequencies.
* Added source indicator for COM frequencies in information window. Either `Navigraph` or
  `Simulator` depending on scenery library selection.
* Now showing add-on and closed airports throughout the whole program in italic underline and
  strikeout respectively.
* Route description dialog now properly updates result list in macOS when using interface
  style `macintosh`.
* Fixed issue where fuel report remained active but was not updated due to failed top of descent
  calculation. Now clearing window and showing orange warning message if this is the case.
* Now showing an excerpt of the waypoint remarks in the next waypoint section of the progress
  display.
* Added calculated altitude for next waypoint to aircraft progress display.
* Added link to download section to the help menu.
* Now showing ice and condition column in progress only if not equal to none.
* Further user interface improvements and fixes.

===============================================================================

# Version 2.6.1.beta

## Important

## Important for MSFS Users

* Remove the MSFS Community folder from the ignore list in _Little Navmap_, `Options`, page `Scenery Library Database`
  if you added it. The exclusion to avoid the crash is not needed anymore.
* Update to the latest beta Navigraph navdata update for MSFS if you use it.
* Reload the scenery library if you use MSFS.

## Known Issues

### MSFS

* Little Navmap cannot read SID and STAR from MSFS. Documentation about MSFS format changes are
  needed in SDK.
* MSFS multiplayer and real-time AI cannot be displayed. Needs SDK updates or more documentation.
* Simulator weather cannot be shown for MSFS since SimConnect weather functions are deprecated and
  do not deliver data. Needs update or documentation in MSFS SDK. Use NOAA weather which gives you
  the most up-to-date weather reports.
* MSFS has no clear concept of scenery order as far as I can see (`Content.xml` seems unreliable)
  and there is no information in the SDK. Add-ons are loaded by alphabetical order by Little Navmap.
  To put an add-on to the end of the loading list add a `z_` to the folder name, for example.
* Flight plan loading in MSFS is flawed and does not produce any error messages if it fails. Quite
  often MSFS cannot load its own plans correctly.
* Country names are missing in MSFS translation tables and are not available in Little Navmap, therefore.
* Add-ons using the `.fsarchive` encrypted format are not supported and most likely never will.

### Other

* Dock window layout in Little Navmap can change when resizing or maximizing window and back.
  Qt limitation.
* Window is restored in normal state when changing from a maximized window to fullscreen and back.
  This is a Qt limitation.
* The window layout might not be restored precisely on startup in some cases. This is a limitation
  in the used Qt library.
* The height of the elevation profile window cannot be reduced in some cases. Rearrange or move the
  elevation profile window to another position which usually solves this. Save the layout once you
  have a working one. This is a limitation in the used Qt library.
* Zooming with touchpad or magic mouse does not work properly on macOS. Use the navigation overlay
  or one of the other options on page `Map Navigation` in `Options` if you think it is unusable. This
  is a limitation in the used Qt library.
* Program hangs on macOS Big Sur. Investigating.

### Going back to stable Little Navmap 2.4.5 after trying the beta

The scenery databases of the new beta versions are not compatible with Little Navmap 2.4.5. Delete
the databases files from the settings folder of Little Navmap if you see crashes and exceptions
containing messages like `no such column`. You can find information  about the folder and the files
here in the documentation:
https://www.littlenavmap.org/manuals/littlenavmap/release/2.6/en/FILES.html#databases

You can safely delete the following files since they can be created again by reloading the scenery library:

`little_navmap_fsx.sqlite`, `little_navmap_fsxse.sqlite`, `little_navmap_p3dv2.sqlite`,
`little_navmap_p3dv3.sqlite`, `little_navmap_p3dv4.sqlite`, `little_navmap_msfs.sqlite` and
`little_navmap_xp11.sqlite`

## Changes

### MSFS

* Fixed issue with `NOT NULL constraint failed:tmp_waypoint.ident Unable to fetch...` caused by
  incomplete waypoints emitted by MSFS BGL compiler. Navaids with empty names are now ignored and
  printed into the log with BGL file name. Do not forget to remove the community folder from
  exclusion list in Little Navmap.
* AI aircraft names are now correctly shown instead of the user aircraft name for all AI.
* Fix for update issues where wrong aircraft positions are emitted while user is in MSFS menu.
  These caused Little Navmap jumping back to the old position and wrong progress updates. Now
  omitting wrong positions with an invalid state like no groundspeed and position 0/0.
* Exporting MSFS flightplan now reverts type to `Direct` if using VFR to avoid MSFS changing plan
  to IFR.
* MSFS exported flight plans now have special characters like umlauts or accents replaced or
  removed. Note that MSFS cannot load flightplans that have special characters in the filename or
  path.
* Localizer heading for MSFS now saved correctly in scenery database.
* Fixed issues where the default instead of changed simulator paths were used in some dialog windows.
* Changed default MSFS Steam flight plan path to base folder `Microsoft Flight Simulator`
  (`LocalState` on MS installations).
* Also looking in `...\Official\OneStore` and `...\Official\Steam` folders for purchased add-ons now.
  These are added with add-on flag to the database and are shown italic and underlined on the map.
* Updating administrative names like city in airports now. This also corrects missing city and
  airport names for the Navigraph navdata update.
* Adapted to Navigraph navdata update 12 for MSFS. Little Navmap only reads required features which
  are: Airports, COM and ILS. Everything else is ignored and not needed since it can be updated with
  a more complete dataset by Navigraph directly for Little Navmap.
* Corrected ILS course for Navigraph update in simulator. Slight variations like for EDDM remain.

### Other

* Added option to restore window layout from last loaded file on startup. This is the file on top
  of the `Recent Window Layouts` menu. See options dialog on page `Startup`.
* Improved handling of dock window layout. Now applying dock state after window shown. This might
  cause a small visible layout change after loading but solves issues when restoring the layout.
* Fixed issue where layout of maximized windows was not restored properly.
* Fix for blinking aircraft when updating weather over SimConnect. This affected FSX, P3D and MSFS.
* Better sensitivity and handling for zooming when using touchpad (better, yet limited on macOS).
* Compass rose settings are now saved again from `Options` on page `Map Display 2`.
* Fixed issue where magnetic declination was not created correctly for locale which do not have a
  dot as decimal separator. Declination was 20 degrees off near VORDME STN
  in X-Plane, for example. #564
* Updated to world magnetic model 2020. This will be used to calculate X-Plane declination when
  loading the scenery database or as a fallback if the file `magdec.bgl` is not available.
* Changed drawing of online airspaces for better visibility. Add center circle.
* Fixed issue with long route legs causing garbled elevation display when using online elevation.
* Removed unused Marble OsmPlugin, Pn2 and Pnt Plugins.
* Added error message when trying to load missing KML file.
* Corrected route calculation to allow calculation of selected between last leg of a SID and
  first leg of an arrival procedure.
* Fixed issue where procedures disappeared with low detail settings.
* Clean up of user interface in flight plan calculation dock window to avoid window resizes due
  to error messages.
* Fixed error `Bind name "flightplan" does not exist` when importing logfiles from CSV or X-Plane.
* Display of time to next waypoint and fuel at next waypoint in progress tab corrected.
* Added new columns for distance flown and more to logbook search table.
* Fixed issue where NOAA weather was not updated despite showing download message.

===============================================================================

Version 2.6.0.beta

Highlights:

* MSFS support. Little Navmap detects MSFS installation paths, can read the scenery library,
  follows user aircraft and can save/load flight plans also with procedures.
  See `MSFS Limitations` below for known issues.
  Star airports in MSFS get a five star rating in Little Navmap.
* Oceanic tracks: NAT, PACOTS and AUSOTS. Visible on map and can be used in flight planning as well
  as for automatic plan calculation. See `Flight Plan` -> `Download Tracks`.
* Multi-export: Export more than one flight plan format at once with just one click. Formats and
  paths are configurable. See `File` -> `Multi Export Flight Plan Options`.
* Improvements to logbook: A log entry now gets track and flight plan attached which can be saved
  or shown in preview.
* Improved flight plan calculation. Can now calculate across regions which are void of airways. Can
  use oceanic tracks, avoid RNAV airways and more options. `Flight Plan` -> `Calculate Flight Plan`.
* Little Navmap now uses its own flight plan format which allows removing most of the
  warning dialogs. Flight plan saving and loading logic has changed completely.
* User can add remarks or comments on flight plan and flight plan waypoints. See tab `Flight Plan
  Remarks` in `Flight Planning` dock window. Right click on flight plan waypoint in plan table or map
  and select `Edit Flight Plan Position Remarks`.
* Program suggests to create a recommended folder structure on first startup. Click
  `Do not show this dialog again` and press `Cancel` if you do not like this.
* Better map context menu with sub-menus for easier selection of actions if more than one map
  object is below clicked position.
* Replaced title bar information for mouse hover in elevation profile with tooltip window
  showing more information.
* User can now select font for user interface and map display. Options dialog on pages `User
  Interface` and `Map`.
  See https://b612-font.com for an open source font used in aviation.
* Free user interface language selection (if translation available). Change this in the dialog
  `Options` on page `User Interface`
* Fullscreen mode maximizes map on one click or key press of `Shift+F11`. See `Window` ->
  `Fullscreen Map`.
* Save and load window layouts for dock windows. This also saves toolbar positions and the main
  window size. See menu `Window`. Layouts are saved separately for both normal and fullscreen mode.
* Optionally focus and raise dock windows or main window on mouse hover. Change this in `Options`
  on page `User Interface`.
* Option to disallow docking windows from snapping back to main window when moving around. Can be
  toggled in menu `Window` -> `Show all floating Windows`.
* Many changes in user interface for more usability. Better error reporting for flight plan
  and other issues.
* Added new map display options. Text size and line width for airways, labels for measurement
  lines, airport diagram features and more. See dialog `Options` on pages `Map Display` and `Map
  Display 2`.
* Now reading and showing X-Plane frigate and carrier as AI.
* Many drawing issues fixed like disappearing lines near the date line, problems with procedures
  and symbols popping out at the map window border.
* Tear off toolbar button menus, e.g. for userpoints. Click the dashed line to move the drop down
  menu to its own window.
* SimConnect library is included now. A FSX SP2 SimConnect installation is not required. #544

Important:

* The data exchange protocol has changed. You have to update Little Navconnect (if using
  remote/network connections) and Little Xpconnect (if using X-Plane) too.
* Reload the scenery library database to see fixes and improvements.

Limitations:

* Translations are not updated yet. The user interface might be a mix of your local language and
  English.
  Feel free to send me an email or ask in the Avsim forum if you like to contribute a translation
  of the program or the manual.
* The online and offline manuals are not updated yet. Neither the English nor the translated
  versions. Help buttons and links are functional but point to placeholder pages.
  Ask in the Avsim forum if you have questions:
  https://www.avsim.com/forums/forum/780-little-navmap-little-navconnect-little-logbook-support-forum/

MSFS Limitations:

* No airport weather or any other weather information since the weather functions in SimConnect are
  deprecated and can even cause crashes. Weather functionality will be added again once supported by
  MSFS.
* MSFS cannot load transitions and inserts these automatically depending on plan.
* No TACAN (all shown as DME) and no VORTAC (all shown as VORDME).
* Airways in MSFS are lacking maximum altitude restrictions, one-way restrictions
  and RNAV attribute. This can result in invalid plans calculated by MSFS.
* Distinct airways with same name can appear as a single connected airway
  opposed to real world in Little Navmap due to MSFS format limitations.
* Flight plans for MSFS cannot be saved with a parking spot like ramp or
  gate selected. Select these in the simulator after loading the plan.
  Use the dropdown list in MSFS to select a parking position. Selecting a parking position as departure
  will erase the flight plan.

Notes:

* Some features like RNAV airways and the new UIR/FIR regions are only available with Navigraph
  databases from cycle 2008.
* Little Navmap will reset some settings like range rings, window layout, search options, order of
  table columns on first start using the new version.
* Range ring radii in options dialog are reset back to default values.
* The flight plan short and long format options were dropped. Go to `Options` on page `Flight Plan`
  and adjust the file pattern to your needs.
* Little Navmap will ask to create a recommended folder structure for your files in documents
  folder. Skip this step (`Do not show again`) if you do not like this.
* macOS is supported up from macOS Sierra 10.12 inclusive. Older versions cannot be supported anymore.

Changes:

Flight Plan:

* Introduced the new default LNMPLN flight plan format for saving and loading. Completely changed
  open/save/save-as logic. All other formats are now only exported and not saved. Removed most of the
  confusing warning dialogs when exporting to other formats. Little Navmap can still open and export
  the same flight plan formats as the old version. No limitations were introduced in this regard.
* Now showing message below flight plan table if procedures, waypoints or airways could not be
  found. Details for message can be shown by clicking on message.
* Added remarks tab to flight planning window which is saved with the new flight plan format.
  Adding change indication `*` to flight plan remarks tab only if it has text. #442
* Added region, name and comment fields for user defined flight plan points (green rectangles)
  which can be saved in LNMPLN format. Right click on user defined flight plan position in the map or
  flight plan table to edit. #429
* New option to add comments for waypoints and other navaids in flight plan. Limited to departure,
  destination and en-route points. Not available for alternate and procedure waypoints. Right click
  on waypoint in flight plan table or map to edit.
* Added columns for wind forecast and calculated altitude to flight plan table.
* Added button for column settings to flight plan window.
* Fixed issues when loading flight plans with ICAO ids that are different to X-Plane ids. For
  example ICAO `CAT4` versus X-Plane `AT4`.
* Removed route type (VOR, Direct, etc).
* Automatic changing of departure position when switching simulator does not alter
  changed status (`*` in title) now. This helps to avoid flight plan changed warnings dialogs
  when changing the simulator database.
* Now showing correct approach related ILS frequency for runways with more than one ILS. For
  example `EDDF 25R/07L`.
* Flight plan table header now shows tooltips.
* Preventing crashes when setting cruise altitude to zero now.
* Fixed crash when adding procedure after user defined flight plan waypoints.
* Fixed problem where flight plan legs inside procedures could be moved.
* Disappearing airports fixed when editing flight plan with drag and drop (rubberband).

Flight Plan Export, Save and Print:

* Added flight plan multi-export with configuration dialog in menu `File`. Removed now redundant
  menu items for export.
* Removed short and long flight plan name option and replaced it by a more flexible pattern based
  approach. User can now define own default flight plan name. See dialog `Options` on page `Flight
  Plan`.
* Improved style and text display for flight plan table in HTML export, web server and printing.
* Added cruise altitude and distance to top of climb as well as top of descent to flight plan table
  print as well as HTML export. #482
* Attempt to fix issues for X-IvAp, IvAp and vPilot export.
* Added flight plan export format for Aerosoft CRJ. #184
* Added support for reading Garmin FPL files (XML format).
* Added option to export flight plan without airways using only waypoints. #463

Route Description:

* Fixed issue where a SID was wrongly identified as a waypoint. Example: `SGES COSTA COSTA A311 VAS
  A556 VIR W11 PAZ A304 JUL V11 ILMOX ILMO3B SPZO`. Where `COSTA` is the name of the SID as well as
  the name of the exit waypoint.
* Clean up and improvements in route description code to be able to parse tracks. Can read route
  strings without destination and departure airports now for parsing snippets. Can now optionally
  match user coordinates to waypoints. #82
* Fixed several issues when reading and writing route descriptions with airways at procedure
  entry/exit.
* More bug fixes in reading and writing route descriptions and cleanup in drop-down menu button.

Fuel Report and Aircraft Performance:

* Changed aircraft performance file saving to new XML format. Old INI format is automatically
  detected and can still be loaded. LNMPERF can be saved into old format by selecting another file
  filter in save dialog if needed. #523
* Issue in performance tab fixed which was not updated after connecting to simulator.

Flight Plan Calculation:

* Flight plan calculation was completely reworked and can now optionally skip regions void of
  airways by inserting waypoints into plan.
* Added floating dock window for flight plan calculation and options. Removed now useless toolbar
  buttons and menu items. #466
* New options to use oceanic tracks and avoid RNAV airways when calculating flight plans.
* Added progress dialog with cancel option for flight plan calculation. #466
* Fixed issues where airway was erased in flight plan at procedure entry or exit. Now adding extra
  waypoint in export formats at procedure entry or exit if an attached airway is used. Overlapping
  departure waypoints are now correctly removed when adding a SID. #478
* Flight plan can now be calculated between or at procedure entry and exit points without the need to
  add dummy waypoints. #478
* Removed option to force algorithm using the closest radio navaids near start and destination
  before waypoints. Add these manually if needed.

Oceanic Tracks:

* Added loading and display of NAT, PACOTS and AUSOTS tracks on map, in information display and for
  tooltips. Added new toolbar button for track display. See menu `Flight Plan` and `View`.
* Flight plan calculation can now use tracks.
* Added download on startup as well as manual download for tracks. #82

Elevation Profile:

* Added tooltip replacing the header text for mouse hover in the elevation profile. Added
  calculated altitude, course and heading (based on wind) to display text in profile tooltip.
* More display improvements.

Options:

* New shortcut `Ctrl+Shift+,` for options.
* Options dialog now adds scrollbars on pages to avoid window growing too large.
* Added option to fill and raise procedure search tab when clicking on airport. Page `Map` ->
  `Update Procedures on airport click`.
* Added option to enable or disable loading of aircraft performance file on page `Startup` in
  dialog `Options`.
* Moved airport display options to tree view on right side of page `Map Display 2`. Added options
  to show runways, taxiways, aprons, parking and boundary separately for airports.
* Added customization options for airway line thickness, airway text size and airway text
  background. Page `Map Display`. #486
* Added options to disable user and AI aircraft click and tooltip on page `Map`.
* Added option to select map font in options dialog on page `Map Display`. Uses bold system font
  per default. #373
* Added option to clear flight plan table selection and highlights while flying on page `Simulator
  Aircraft`.
* New display option to show true airspeed for user and AI aircraft on tree on the right side of
  page `Map Display 2`.
* Split page `Weather` into two new pages `Weather` and `Weather Files`. #521
* Tooltips can now be disabled for the whole program except for the map where separate options for
  disabling exist. See options on page `Display and Text`.
* Fixed issues with online connections when using high update rates.

Procedures:

* Added fix for DME arc legs where last fix before arc does not match distance. Example: `LTBS
  WESTB LCRA` #205
* Fixed issue where intercept position of track to fix legs with an initial fix in between was not
  calculated correctly. #205
* Display issue for course to fix procedure legs after initial fix solved. #205
* Fixed issue with wrong intercept legs after circular (DME Arc or constant turn radius) legs in
  procedures. #205
* Problems with manually terminated procedure leg types fixed. Example: `CYDC PIGLU3 CYLW`. Fixed
  crashes, display issues and wrong distance calculation.
* Increased detail level for procedure drawing to avoid circular legs, holds or turns collapsing
  into lines too early. #483
* Fixed disappearing holds and/or procedure turns when scrolling map. For example at KSMN, approach
  VORDME-B IRWAV (VDMB) via LKT. #205
* Many more fixes and improvements when loading and displaying procedures.

Weather:

* Added download of full VATSIM weather file which results in faster updates. The program can now
  show nearest VATSIM weather station for an airport.
* Changed VATSIM METAR URL to encrypted HTTPS/SSL.
* Improvements to METAR reading and weather display.

User Interface:

* Added saving and loading of window layouts to menu `Window` including recent file list. Layout files
  can also be loaded by dropping the files into the main window. Saved state covers window size,
  position, maximized, full screen, dock windows, tool bars and status bar for both normal main
  window as well as maximized main window. #451
* Added an option to window menu to forbid dock windows snapping back into main window.
* Added options to raise dock windows and/or main window on mouse over.
* Tooltips for whole program are now always shown even if window is inactive.
* Added startup dialog asking to create recommended folder structure in documents folder. This also
  sets the default path for all file dialogs where applicable.
* Added menu items to open log file, configuration file and database folder. See `Tools` -> `Files
  and Folders`.
* New option to keep main window in foreground before other applications.
  Menu `Window` -> `Keep in Foreground`.
* Made instructions for installing the GLOBE data more clear in user interface.
* Added toolbar for simulator connection, load scenery library and options.
* All toolbutton (toolbar and route string) drop down menus can now be teared off by clicking on
  the dashed line. This allows clicking menu items repeatedly without the need to reopen the menu
  again.
* Tooltips in file histories now show full file path.
* Added handling for HTTPS/SSL errors in encrypted connections like they happen for self signed
  certificates. Now showing a dialog on SSL errors which allows to cancel downloading or to ignore
  the error.
* Added options to select GUI and map font separately in options dialog. Removed old options to
  change font in configuration file.
  Note that any custom font like https://b612-font.com has to be installed using operating
  system functions before. #373
* Added log of background messages like weather downloads on the left side of the status bar
  tooltip. Tooltip with messages can be shown on click. Shows number of messages if no other status
  bar message is shown.
* Moved option to show top of climb and top of descent into `View` menu and to elevation profile
  context menu.
* Added free language selection in options dialog. Shows all available translations in combo box.
* Now overriding locale/region settings after setting language. This fixes an issue where setting
  region formats like number and date to English also changed the language. #492
* Added `Remove all Ranges, Measurements, Patterns and Holdings` option to reset all function.
* Fixed issues where shortcuts in flight plan menu could be triggered inadvertently even if
  disabled.
* Disabled splitter styling for Linux to avoid messing up user interface themes.
* Removed rhumb measurement lines and all other rhumb distance/course options in flight plan legs
  and flight plan table. Removed rhumb course and distance display settings in options dialog.

Scenery Database:

* MSFS: Full support to load airports, airways and navaids. SID and STAR cannot be loaded, though.
* Changed progress dialog when loading scenery to avoid dialog growing larger than screen size.
  Added `Counting files` to describe initial freeze in scenery loading dialog.
* Now using airport ICAO ids throughout the whole program instead of the X-Plane internal ids. The
  X-Plane internal id is still shown in information window if it differs from ICAO id.
* Fixed issues with user home folders containing special characters. This caused issues when
  detecting flight simulators. Path to `Scenery.cfg` was wrongly requested for X-Plane in this case.
* Fixed issue where loading of X-Plane on a blank system without `x-plane_install_11.txt` failed
  which can happen if XP was copied manually to the system without starting it. Path to `Scenery.cfg`
  was wrongly requested in this case.

Simulator Connection:

* Reorganized connect dialog user interface. Now using a tab for each simulator.
* Added frigate and carrier as boat AI for X-Plane. Added fetch AI ships option for X-Plane. #531
* SimConnect is now included. Enabled loading of a local copy of `SimConnect.dll` if present.
  WinSxS and manifest is only used as fallback. #544
* Showing a warning message in connect dialog if FSX SP2 SimConnect cannot be loaded.

Information and Aircraft Progress:

* Moved all airport information tabs to a separate airport tab. This should make more clear which
  tabs are updated when clicking on an airport or navaid.
* Corrected waypoint from/to display in progress display for next waypoint. Now indicating from/to
  for certain procedure legs like `Fix to altitude`. Omitting duplicate waypoint display for manual
  legs in elevation profile. #205
* Replaced wrong `Crab angle` label with `Heading` in aircraft progress. This still shows the same
  wind corrected heading value.
* Now showing fuel and estimated time of arrival for next waypoint.
* Added runway smoothness and airport flatten flags from X-Plane to information display.
* Showing new X-Plane icing options in user aircraft tab:
  AOA, inlet, prop, static and window ice given in percent of the maximum in case of multiple sources.

Online Networks and AI:

* New option to set maximum AI range around the user aircraft in connection dialog for FSX, P3D and
  MSFS.

Map:

* Completely reorganized the map context menu. Now showing sub-menus for all objects nearby the
  right-click position if a menu action can be applied to more than one object. #270
* Now showing more hints why menu items are disabled, like `no procedure`, `hidden on map` or `is
  destination`.
* Added hints for mouse click modifiers like `Ctrl+Click` to map context menu. #270
* Procedures can now be deleted from the map context menu by right clicking on a procedure waypoint.
* Mouse `Ctrl+Wheel` can now be used to quickly increase and decrease details in map.
* Added distance to last flight plan leg to airport and navaid tooltip. This helps when building
  plans manually.
* Compass rose can now be detached from the user aircraft independent of connection status.
  Detached compass rose remains in screen center. Change this in menu `View` -> `Attach Compass Rose
  to Aircraft`.
* Range rings now allow distance rings smaller than one unit. See `Options` -> `Map`. Allowed
  values are 0.01 to 4000 NM, km or miles.
* Added tooltip for range ring center with distances.
* Font can be changed for map display. This affects the map and the elevation profile. Font is set
  to a bold variant of the system font on first start of the new Little Navmap version. #373
* Inaccurate map scale overlay corrected. Scale now uses natural range steps opposed to values
  like 32, 48, 96 before. Scale saves options now. #328
* Now showing five to one degree grid on map if enabled with visible latitude and longitude labels.
* Fixed problem with inadvertent zooming when moving the mouse above the navigation overlay on the
  bottom right while scrolling.
* Fixed several line drawing issues around the anti-meridian in Mercator mode. Related to #515.
  This also solves issues with ghost tooltips for airways and ghost airspace tooltips in the Pacific
  Ocean. Range circles now drawing correctly.
* Increased VOR and NDB symbol sizes at lowest zoom levels.
* Fixed issues where wrong waypoints were shown in tooltip and other selections over procedure
  points.
* Now showing warning if zooming to a position near the poles in Mercator projection. #515
* Disabled loading status (`Waiting for update`, now `Loading`) in statusbar for custom maps since
  it is unusable there. Status `Loading` is removed after a timeout since some maps do not provide
  meaningful values.
* Changed map settings for AI aircraft. Now visible for higher zoom levels.
* Many more improvements and fixes in map display and map handling.

Logbook:

* Flight plan, aircraft performance and GPX format files for trail and flight plan preview are now
  attached to a logbook entry. Files are attached upon takeoff and landing and can be opened, loaded
  and saved from the context menu in the search table or the logbook entry edit dialog. Export to and
  import from CSV covers these attachments too.
* Direct connection, flight plan with waypoints and trail are shown when clicking on one or more
  logbook entries in the search table. All three options can be enabled or disabled.
* Added separate airport search field to logbook search window which filters by both departure and
  destination. Departure and destination search fields were moved to additional search options line.
  #455
* Added more airport related menu items to logbook context menu: `Show Information`, `Show on Map`,
  `Set as destination`, `Set as Departure` and ` Add as alternate`. Right click on departure or
  destination airport name or ICAO field in the search table to enable these menu items. #432
* Option for CSV header in logbook export added. Added header detection on CSV import.

Airspaces:

* Added new `FIR` and `UIR` boundary types instead of the merged type `Center`. New program remains
  backward compatible with old databases and new databases can still be used with the old program
  (versions <= 2.4.5). New boundaries need Navigraph databases newer or equal to cycle 2008.
* Moved class F and G airspaces to ICAO dropdown button in toolbar.
* Fixed display issues of large airspaces and ghost tooltips, especially near the anti-meridian and
  for airspaces extending to the poles.

Userpoints:

* New userpoints can now be created as a copy when right clicking on the map. This means that all
  fields are taken from a present userpoint on the map if you right click on it and select `Add
  Userpoint`.
* Corrected default types for userpoint when creating a userpoint based on navaid. Now setting
  types `VOR`, `NDB` and others correctly.
* Added display of magnetic declination in userpoint edit dialog and userpoint infofmation.
* Changed userdata export headers for more readability. Added header option for CSV export in
  userdata. Added recognition of header on import.
* Renamed all occurrences of `Userdata` in the user interface to `Userpoints` for more consistency.

===============================================================================

Version 2.4.5

P3D v5: #512
* Added P3D v5 for simulator detection.
* Adapted loading of BGL files to P3D v5 structure changes and added new records as well as new COM
  and other types.
* Enabled loading of add-on packages from `%USERPROFILE%\Documents\Prepar3D v5 Add-ons`.

Fixed crashes and other errors:
* Fixed crash to desktop when adding an approach after a list of user defined waypoints. #500
* Fixed error reporting in wind download and decoding. Program does not crash to desktop if wind
  download has errors. #480
* Now limiting weather display to the 10 most important/biggest airports if connected via network
  or SimConnect to P3D/FSX. This helps to minimize map stutters when scrolling or zooming. #497
  Disable display of airport weather symbols if this still appears:
  - Menu `Weather` -> `Airport Weather Source`: Select anything but `Simulator`.
  - Or menu `View`: Disable `Show Airport Weather`.
* Fixed crash when entering an invalid ICAO in web interface for airport information. #491
* Fixed wrong handling of `Options/RenderOpt` setting in `little_navmap.ini`.
* Corrected encoding when exporting flightplan as HTML page.

User Interface:
* Fixed spelling and typos in user interface.
* Small UI changes in connection dialog for more clarity.
* Added word wrap to avoid dialogs growing too large in user interface.
* Better display on mobile devices for webserver.
* Updated German legend.

Build:
* Added option to include common `../build_options.pro` file with defines for qmake.
  File is included automatically if it exists.

related from atools version 3.4.6
* Fixed error reporting in wind download and decoding. #480
* Added option to include common `../build_options.pro` file with defines for qmake.
* Chinese translation by John Liu.

===============================================================================

Version 2.4.4

* Fixed airport file links to use both English and translated path names.
  https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/INFO.html#tabs-in-information-dock-window
* Fixed issue in fuel report where average wind and average groundspeed were calculated incorrectly.
* Fixed magnetic course calculation when flying outbound from a VOR.
  https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/FLIGHTPLAN.html#magnetic-declination
* Corrected help URL for reset all for new flight.
* Added help button to reset and restart dialog.
* Now using correct ICAO ident in web page links in airport information.
* Finished German translation.
* Fixed typos in German and English texts.
* Fixed issue where scenery entries were read despite being disabled in add-ons.cfg for P3D.
* Discovery paths from add-ons.cfg are now read for P3D.

===============================================================================

Version 2.4.3.rc2

* Finished German translation.
* Fixed many typos in German and English texts and adapted all translation files to changes.
* Fixed magnetic course calculation when flying outbound from a VOR.
* Corrected help URL for `reset all for new flight` dialog.
* Added help button to `reset and restart` dialog.
* Now using correct ICAO ident in web page links in airport information instead of X-Plane internal ids.

===============================================================================

Version 2.4.3.rc1

**Please reload the scenery library.**
**Map theme is reset back to OpenStreetMap.**

Help:
* All help buttons and links are functional now in the program.
* English online manual is now complete. PDF and other formats are available for download:
  https://albar965.github.io/pages/24/littlenavmapmanuals.html
* PDF Manuals for French, Italian and German are included in download archive but still based on version 2.2.
* Sources for the manuals are committed to Github and can be found on branch `release/2.4`.

Help - New Chapters:
* Dock Windows: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/DOCKWINDOWS.html
* Tabs: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/TABS.html
* Holding: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/HOLD.html
* Image Export: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/IMAGEEXPORT.html
* User Defined Approach: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/CUSTOMPROCEDURE.html
* Reset all for a new Flight: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/RESET.html
* Aircraft Performance Merge: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/AIRCRAFTPERFMERGE.html
* Logbook: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/LOGBOOK.html
* Winds aloft: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/WEATHER.html#wind
* OpenAir Airspaces: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/SCENERY.html#load-scenery-library-openair-airspaces
* Web Server: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/WEBSERVER.html
* Tutorial - Creating an Aircraft Performance Profile: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/TUTORIALPERF.html
* Keyboard Shortcuts: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/SHORTCUTS.html

Help - Updated Chapters:
* Menus and Toolbars. Updated for new functions: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/MENUS.html
* Overview. Updated images and added image for help: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/QUICKOVERVIEW.html
* Legend. Updated for new features: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/LEGEND.html
* Flight Plan Tab. Wind and alternates: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/FLIGHTPLAN.html
* Flight Plan Route Description. Updated for alternates: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/ROUTEDESCR.html
* Edit Aircraft Performance. Updated for wind and changed report: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/AIRCRAFTPERFEDIT.html
* Aircraft Performance Collection. Permanent collection: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/AIRCRAFTPERFCOLL.html
* Aircraft Performance. New performance features: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/AIRCRAFTPERF.html
* Information Dock Window. Logbook, userpoint tabs and airport file links. Nearest and preferred runways: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/INFO.html
* Options Dialog: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/OPTIONS.html
* All Tutorials: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/TUTORIALS.html

Fuel Report and Aircraft Performance:
* Fixed several issues with fuel conversion: Metric units now shown correctly in fuel report and
  merge dialog.
* Fuel flow, amount and estimated range now shown correctly if aircraft performance is based on
  fuel volume instead of weight.
* Estimated range in fuel report now considers reserve as in performance edit dialog. Numbers were
  different before.
* Merging collected values into current performance now set changed state of performance file
  correctly to avoid data loss.

Flight Plan:
* X-Plane FMS flight plans now get correct ICAO ID for destination if available. Destination could
  receive an empty id before which resulted in an invalid FMS flight plan.
* Fixed issue where procedure information was lost when loading flight plan into a database which
  does not contain procedures or after switching databases.
* Fixed crash when loading flight plan with invalid waypoint while being connected to simulator.
* Fixed crash that happens with invalid flight plans when switching databases in connected state.
  The active leg is now reset when switching to avoid crashes.
* Removed wrong warning of airway altitude violations where upper limit is 0.
* User set cruise altitude remains unchanged now after victor or jet calculation when east/west rule
  adjustment is off.
* Cruise altitude is now adjusted to next valid value for east/west rule based on the current value
  entered in the user interface. Was always set to lowest allowed value. Now also lowering or raising
  cruise altitude if not valid for used airways when using jet or victor calculation.
* Fixed issues which cruise altitude correction when using metric units.

Elevation Profile:
* Fixed problem where aircraft trail was not recorded in elevation profile when window was closed
  or program was hidden/minimized.
* Fixed issue where flight plan and elevation profile was built incorrectly if waypoints were not
  valid in plan.

Options:
* Restore defaults in options dialog can now be reverted by pressing cancel.
* Resetting map theme back to OpenStreetMap to avoid wrong selection of disabled OpenMapSurfer theme.
* Other small user interface fixes.

Procedures:
* Fixed display issue for procedure leg names like `XAROL+5`. Was using wrong distance value before.
* Fixed issue where navaids were hidden on the map if part of a missed procedure in the flight plan.
* Fixed display problem when deleting transitions from a flight plan resulting in invalid approach.

Apple macOS:
* Now showing correct application name and correct application menus on macOS.
* Fixed wrong color button appearance in options dialog on macOS..

related from atools version 3.4.3.rc1
See CHANGELOG.txt in atools project for more technical details. Relevant comments were added to list above.

===============================================================================

Version 2.4.2.beta

* Fixed crash when reading GRIB winds aloft or WMM (magentic declination) data on Windows if
  user's home path contains special characters like umlauts or accents.
* Fuel flow and amount is now displayed correctly in current performance tab if fuel unit is
  changed to volume in edit dialog. Was too high before.
* Removed merge options for aircraft type and model in performance merge dialog which resulted in
  unwanted changes. Now limited to copy and ignore.
* Added real ICAO code to airport to avoid issues with X-Plane's artificial airport ids. Now finds
  procedures for e.g. `AT4` where ICAO is actually `CAT4`. Reload the scenery library to see this fix.
* X-Plane FMS flight plan is now adjusted for real ICAO airport idents when using procedures to
  avoid problems loading plan.
* Fixed display problem when deleting transitions from a flight plan.
* Added IATA and ICAO codes to airport information display.
* Adjusted window texts in night style to better see disabled checkboxes like in weather
  tab in options dialog.
* Solved problem where ILS tooltips and click regions appeared in the wrong places on the map.
* Now ignoring first zero value when interpolating fuel for aircraft performance.
* Updated French and Italian translations. Now complete. Thanks to Flavio, Patrick and Valerio!
* Resetting route description dialog options to default.

related from atools version 3.4.2.beta
See CHANGELOG.txt in atools project for more technical details. Relevant comments were added to list above.

===============================================================================

Version 2.4.1.beta

Program:
* Now using an OpenSSL library version 1.1.1 which does not require Microsoft Visual C++ Redistributables.
  No need to install any redistributables at all for Little Navmap on a freshly installed Windows 10.
* Fixed issues with OpenSSL on Linux. The libraries are now included in the archive again.
* Now providing two builds for Linux. One based on Ubuntu 18.04 and one based on Ubuntu 16.04. This allows to use
  Little Navmap on older Linux distributions too.
* Updated to latest Qt 5.12.5 library due to bugfixes.

Flight Plan:
* Fixed issue where flight plans exported for Reality XP had departure wrongly set to destination.
* Fixed small issue where flight plan legs were activated when editing plan with aircraft on ground.
* Showing minimum and maximum altitude for airways in flight plan table now.
* Airway now shown as red text if either direction, minimum or maximum altitude is violated.
* Tooltips on red text in flight plan table now show information for airway restriction
  violations or invalid waypoints.

Route Description:
* Added missing alternate airport parsing functionality to route description dialog.
  - Route description can now read and write more than one alternate airport to and from the string.
  - Added option to drop down menu button to output alternate airports to string.
  - Added option to route description dialog drop down menu button that allows to read trailing airports
    either as alternate airports or simply add the airports as waypoints.
* Better error, warning and information messages now.

Logbook:
* Adding route description string to logbook entries now.
* Cleanup in logbook entry information display.

Aircraft Performance:
* Better error checking before calculating elevation profile to fix crashes with invalid destination or departure.
* Fix for flooding log with warnings about invalid arguments when displaying fuel and weight.
* Potential fix for display of wrong fuel flow values.
* Changed aircraft performance to detect cruise phase if aircraft is above cruise altitude.

Profile Display:
* Keeping aircraft on bottom of elevation profile when climbing and on top of profile if descending.
* Now keeping aircraft in elevation profile more at the left side to avoid manual scrolling.
* Aircraft label could be hidden in elevation profile display.

Map:
* Corrected `View` -> `Reset Display Settings` function and added missing display features to
  reset (weather, airspace sources, user features and more).
* Fixed several issues where airspace buttons were disabled and/or not updated properly after changing source.
* Fixed double drawing of waypoints and navaids which are part of a flight plan.
* Fix for right-click into touch areas on Windows which triggered a wrong scroll event.
* Corrected display priorities from map context menu. Logbook is now prioritized before userpoint
  before airport for all actions.

Weather:
* Moved wind and airport weather source from menu `View` to new menu `Weather` since these functions also
  affect flight planning and not just the map display.
* Wind speed and direction fields are now hidden in flight planning tab if no manual wind is used.
  This allows to shrink the flight planning dock window to a smaller size.
* Added tooltip for flight plan waypoint yellow wind barbs.
* Added 5000 ft wind layer to wind menu and toolbar button.
* Lowered wind drawing threshold for flight plan. Wind barbs are now suppressed for flight plan legs below 4000 ft.

Options:
* Changed defaults in options dialog to more sensible values. This will affect only new users of after selecting
  `Reset all Settings and Restart` in the tools menu.
* Fixed several issues with `Restore Defaults` function in options dialog where values were not reset at all
  or reset to the wrong defaults.
* Fixed issues in options dialog where webserver settings were not used or reverted back to old values.
* Fixed issue where the webserver was always started after exiting options dialog.

User Interface
* Added `Reset all Settings and Restart` function in tools menu which replaces the need to delete the settings
  folder in case of issues. This will create a backup of the `little_navmap.ini` and erase all contents afterwards.
* Stacks of tabbed dock windows are now completely closed if one of the docks in the stack is closed by
  using the shortcut, menu or toolbar. Closed stacks are reopened completely if one of the dock windows
  is reopened or activated.
* Stacked dock windows are now correctly raised on shortcut or other activation. Before the stack of dock
  windows was raised only while the dock window was still hidden.
* Fixed issue where splitter handles (in elevation profile and route description dialog) were too large.
* Style `macintosh` is now usable again on smaller screens for macOS. Tabs took up too much space previously and
  prevented dock windows from shrinking.
  Default style is now `macintosh` again after a new installation on macOS.
* Attempt to fix options dialog which appeared without content in some cases.
* More small fixes for more clarity and consistency in user interface.

Little Xpconnect / X-Plane:
* Fixed issue in macOS build where plugin failed to initialize in X-Plane.

related from atools version 3.4.1.beta
See CHANGELOG.txt in atools project for more technical details. Relevant comments were added to list above.

===============================================================================

Version 2.4.0.beta

Limitations:
* Translations are not updated yet. The user interface will be a mix of your local language and
  English.
* The online and offline manuals are not updated yet. Neither the English nor the translated
  versions. Help buttons and links are functional but point to empty placeholder pages.

Installation:
* You might have to install the Microsoft Visual C++ 2015 Redistributable on a fresh installation of
  Windows 10. Most will have this already installed since it is needed by many programs.
  You can get the Redistributable from the following download links:
  **►  Microsoft Visual C++ 2015-2019 Redistributable Package 14.22.27821.0:**
     64 bit: https://www.littlenavmap.org/downloads/Windows%20Redistributable%20Packages/vc_redist.x64_2015-2019.exe)
     32 bit: https://www.littlenavmap.org/downloads/Windows%20Redistributable%20Packages/vc_redist.x86_2015-2019.exe)
  **Install both 32 bit and 64 bit versions if needed.**<br/>
  **You can safely skip the installation if you get an error about a newer version already installed.**
* Reloading the scenery library is recommended.
* Reinstall the _Little Xpconnect_ X-Plane plugin to see bug fixes.

Help:
* Draft manuals can be accessed here: https://www.littlenavmap.org/manuals/littlenavmap/release/2.4/en/
* List of closed issues: https://github.com//milestone/7?closed=1
* Included map legend updated.

User Interface:
* Tabs can now be closed and moved in information display, aircraft progress, flight plan and
  search. #437 and #345
  - A drop down menu in a button at the right top corner and a context menu on the tab bar allow to
    close, open and lock tabs.
  - Tab states and positions are saved between sessions.
  - Tabs are opened and/or raised on demand on info click or menu selection.
  - Reset window layout also resets tab layout and reopens all closed.
* Now raising windows and/or tabs optionally on actions like e.g. `Set Destination`. Also after
  loading, importing or creating a new flight plan, aircraft performance file or others.
  This should help to avoid confusion when creating new or modifying documents.
  This behavior can be disabled in `Options` -> `User Interface` -> `Raise related windows ...`.
* Moved map theme and projection into separate toolbar. This helps to avoid toolbar overflow on the
  right for the map toolbar.
* Changed default layout to use a bigger window which is also used after `Reset Window Layout`.
* Added menu item to save all options and window layout. Menu `Tools` -> `Save Options and State`. #420
* Now saving full program state after changing options or style.
* Renamed dock window `Flight Plan` to `Flight Planning` and tab `Aircraft Performance` to
  `Fuel Report`.
* Changed user interface style to `Fusion` as default on macOS since the cumbersome default style
  needs too much space for tabs.
* Fixed issue where table cells where initially not resized and appeared too large despite
  selecting a small font.
* Added display of SSL version into about dialog for easier problem diagnosis.
* Fixed issues where update notification dialog could not be closed.

Options:
* Replaced tabs in options dialog with list including icons and tooltips for better overview.
* Added option for high DPI high resolution display support.
  Dialog `Options` -> `User Interface` -> `Enable high DPI ...`.
* Added option to disable proposed filename when doing `Save as` or `Export` and file already
  exists. Dialog `Options` -> `User Interface` -> `Propose new name ...`. #433
* Added option to add true heading/course to all values in display in smaller font. This affects
  all information, progress and tooltip displays.
  Can be selected in `Options` -> `Units` -> `Show true course ...`.  Useful for flying in areas
  with high or unreliable magnetic declination.
* Added option to ignore radio navaid declination when calculating magnetic flight plan leg course.
  This is helpful if you use mostly GPS for flying and do not care about radials of VOR which might
  have an  outdated calibration. Dialog `Options` -> `Flight Plan` -> `Ignore Declination ...`.
* Other fuel units (kg/liter vs. lb/gal) can now be displayed in small font besides selected fuel
  unit. This affects the fuel plan and aircraft progress tabs. See dialog `Options` -> `Units` ->
  `Show other fuel  units too`. #401
* Added new coordinate formats for display and reading: Plain latitude/longitude or
  longitude/latitude numbers with sign. Can be selected in `Options` -> `Units` -> `Coordinates`. Not
  that this also affects the order  (lat/lon vs. lon/lat) when reading coordinates in dialogs if
  selected.
* Added options to change MORA grid transparency and text size.
  Dialog `Options` -> `Map Display 2`. #343
* Added separate size option for airport weather icons.
* Added text display options for flight plan legs. Now one can select distance, and
  true/magnetic/rhumb/great circle indicators. Labels indicating type will be shown and values will
  be merged if equal. `Options` -> `Map Display 2` -> `Flight Plan` in tree. #365

Scenery Database:
* Added recursive import of OpenAir airspaces for user database from folder. #236 and #426
  - New folder setting in options dialog for default airspace base folder and file extensions.
    See dialog `Options` -> `Cache and Files`.
  - Load airspaces from folder in `Scenery Library` -> `Load Airspaces ...`.
  - Added switches in menu for airspace source databases and added separate user airspace database.
    User can now choose between any combination of simulator, Navigraph, user or online airspaces.
    Menu `View`  -> `Airspace Source`.
  - Removed online airspace button and function to copy airspaces from P3D to X-Plane.
  - Removed option to read airspaces from `Documents/Little Navmap` in X-Plane compiler.
  - Made airspace databases independent of navdata switch.
* Added better error message about missing `scenery_packs.ini` for X-Plane.
* Added geomagnetic model calculation for X-Plane compilation based on current year and month. #300
  - Resulting table is written into database when compiling scenery library.
  - Showing error dialog about missing declination data. Falling back to world magnetic model if
    database is empty now.
* Added support for the new `gui_label` 3D attribute in X-Plane 11.35 and higher. This gives a more
  precise detection of 3D airports now which will be consistent with the X-Plane airport selection
  and can be used to hide `Empty Airports`. #424 and #410
* Fixed display for transparent aprons in X-Plane.
* Fixed issue where FSX was wrongly selected on initial startup on Linux or macOS.
* Potential fix on macOS folder resolution problems that appear when using case sensitive file
  systems. #392
* Added support for X-Plane 8.33 kHz frequency spacing. #409
* Fixed crash that appears when using fsAerodata cycle 1905r1 or later. #413

Information and Aircraft Progress:
* Added ILS map tooltip, `Show information` in map context menu and information display. #386
  - Click on ILS shows information in `Navaid` tab.
  - Zoom to ILS on double click in map or selecting `Map` link in information display.
  - Added offset localizer hint to ILS information if runway heading does not match ILS heading.
  - Displaying ILS source for clarification in information panel. Either `Navigraph` or `Simulator`.
* Added preferred runways depending on wind conditions to tooltip, airport information tab and
  as detailed table including runway surface and length to weather tab. #187
* Aircraft progress tab now shows red warning text for icing and insufficient fuel.
* Progress tab now shows orange warnings if fuel and time have to be estimated because of
  invalid aircraft performance or an invalid flight plan. Shows also orange warning text if fuel is
  below reserve at destination (needs valid aircraft performance).
* Now showing orange warning text if no active flight plan leg can be found if aircraft is too far
  from plan.
* Tab `Aircraft` on window `Simulator Aircraft` shows gross weight as red warning text if heavier
  than max weight.
* Now displaying more fuel values and weights in alternative units as small text in information
  window and progress window. See above in `Options`. #401
* Added new tab to show nearest map objects around selected airport: One list with airports having
  procedures and one list with radio navaids. #344
* Added highlighting of whole airway strings from information window similar to airspaces. #348
  - Highlighted airways as well as highlighted airspaces have tooltips now.
  - Thickness of highlighted lines (airspace boundaries, airways, etc.) and text size can now now
    adjusted with option settings (`Options` -> `Map Display 2` -> `Range rings, ...`).
* Added links to FlightAware, SkyVector, X-Plane Gateway and OpenNav web pages in airport
  information which link to the airport information on the respective pages.
* Fuel and time prediction in aircraft progress tab is now based on aircraft performance (if
  available and valid) and therefore more accurate. Will fall back to an estimate based on current
  speed and fuel consumption if aircraft performance is not valid.
* Added message in weather information tab if all sources are disabled.

Flight Plan:
* Added support for alternate airports to map display, flight plan, printing, web server, drag and
  drop editing, all flight plan move, delete, edit and append functions as well as all relevant context menus.
  Fuel calculation considers farthest alternate in fuel calculation now. #230
* Added reset all function to quickly set up program for a new flight.
  Menu `File` -> `Reset all for a new Flight`.
* Added dialog to show or hide columns in flight plan table. See context menu of flight plan table.
  Context menu item `Select visible Columns`.
* Added columns for true rhumb and true great circle course to flight plan table.
* Better messages about missing and invalid flight plan. Now adding tooltip to empty flight plan
  table space and header label with hints if plan is empty. Same for procedure search. This should
  help new users.
* Now clearly describing which flight plan legs violate altitude restrictions in tooltip of error
  message. #347
* Added warning if cruise altitude could not be detected when loading X-Plane FMS plan.
* Edit flight plan position now allows to use shortcut `Return` for editing of user defined flight
  plan waypoints.
* Added missing region information (where available) for airports in flight plan table.
* Improved route description parser. Now using VOR if a VOR and NDB with the same name are close by
  (for example `LOWI VIC FAL PRU TEA LIRN`).
* Fixed crashes after dropping several flight plans into the main window for loading.

Flight Plan Export:
* Added separate export menu item for X-IvAp since format differs slightly from IvAp. #395
  Fixed more issues with IVAP export. Alternate airports are now prefilled in online format export.
* Added TFDi Design 717 flight plan export format. #399
* Now omitting final DCT for flight factor aircraft export to `corte.in`.
  Should fix loading of flight plans without STAR. #394
* Fixed Maddog X export to use correct file extension `mdr`.
* Fixed missing `=` in cruise altitude for BBS Airbus export. #396
* Made loading of X-Plane FMS flight plans more tolerant for wrong `DIRECT` instead of `DRCT`
  which comes from incorrect SimBrief plans.
* Fixed issue where flight plan was saved in wrong format when exporting to clean PLN.
* Added flight plan table export to HTML page. #4
* Fixed issue when saving flight plans from airports with empty names which could crash Prepar3D.

Weather:
* Added NOAA and X-Plane high altitude winds (Prepar3D does neither provide a documented format nor
  an interface). #283 This shows the NOAA wind aloft forecast which is updated four times a day and
  is used as a source by most weather programs and simulators.
  - Display of wind barbs for selected altitude, flight plan altitude and/or at flight plan
    waypoints. Toolbar button with drop down menu or menu `View` -> `Wind Levels` allow to select
    wind display.
  - Tooltip on map shows wind for several layers when hovering over a wind barb. Setting for
    wind barbs tooltip on `Options` -> `Map Display`.
  - Hovering over the elevation profile shows wind at position in the header line of the elevation
    profile.
  - Fuel planning now considers high altitude winds. The manual cruise wind selection is still
    available and can be used to override the downloaded winds.
  - Top of climb and top of descent and now adjusted for head- and tailwind.
  - See menu `View` -> `Wind Levels` and `Wind Source`, dialog `Options` -> `Map` -> `Tooltips` and
    `Options` -> `Weather` -> `Files and web addresses for wind reports`.
  - Download and processing can be disabled in menu if not needed.
* Added display of gusts as red lines in wind barbs for airport weather.
* Fixed several METAR parsing issues related to no data like `///`. #441
* Now ignoring ASX weather files written for X-Plane and fixed excessive logging about missing
  file. #422
* Full NOAA METAR file is now downloaded to avoid time consuming single web requests for airports.
  Weather display is now faster on map for NOAA METARs.  Changed NOAA download URL in dialog
  `Options`. #359
* Added option to change X-Plane `METAR.rwx` path to allow custom file, e.g. for remote setups
  across a share.
* Added error dialog if weather downloads fail.

Online Networks:
* Added two options to fetch online center boundary from user airspaces. Now optionally looking
  up geometry for online centers either by airspace name or filename. Falling back to circle shape
  if not present. See dialog `Options` -> `Map Display Online` -> `Online Center Boundary Lookup ...`.
* Disabled wrong rounding of frequencies for online centers. Now displaying as given.
* Replacing `A7` in online ATIS text now with line breaks.
* Changed AI and online network aircraft icon colors for better visibility. This is also reflected
  in the toolbar buttons. The aircraft icons can still be overloaded by the user.
* Enabled PilotEdge network. #388
* Fixed issue with negative heading display for online aircraft.

Map:
* Added option to display holding on map similar to traffic pattern. Holding can be customized
  before adding to map. See map, search and flight plan context menu item
  `Add Holding at position`. #326
* Added menu items and drop down button to hide or show user features like range rings, holdings,
  measurement lines and traffic patterns.
  - See menu `View` -> `User Features`.
  - Context menu items for range rings, measurement lines, holds and patterns are now disabled with
    a remark in the menu text when respective user feature is hidden on the map. You have to enable
    the respective user feature before you can add one on the map.
  - Special shortcut clicks on the map like e.g. `Shift+Left Mouse button` for range rings enable
    display of the respective user features silently if hidden.
* Traffic patterns and holdings have tooltips now.
* Added warning dialog before deleting all user features. Warning dialog can be disabled.
* Added small direction arrows for one-way airways which are shown in overview.
* Updated traffic pattern dialog with better table view instead of the simple combo box. Double
  click in pattern dialog now confirms dialog and adds pattern to the map.
* Now disabling all tooltips while doing drag and drop operations: Flight plan changes,
  dragging measurement lines and userpoint movement. #337
* Increased maximum number of map objects from 4000 to 8000.
* Disabled OpenMapSurfer since map is not publicly available at the given URL anymore, needs an
  API key and has download limitations now.
* Added required OpenStreetMap copyright message to map which replaces the Marble plugin which
  often gets into the way stealing mouse clicks.
* Added dialog to image export for files, AviTab and clipboard that allows to choose an arbitrary
  image resolution. This allows to export high resolution and highly detailed maps. A download timer
  allows to wait for online map updates to avoid blurry maps. #377 and #384

Map Navigation:
* Added `Click to center map` navigation mode where mouse wheel zooms to center position. Also added
  new `Map Areas` navigation mode using click/touch zones on the map screen. The latter mode is
  helpful for touchscreen navigation. Both navigation options can be selected on new tab
  `Map Navigation` in the options dialog. `Map Areas` still allows the classic navigation if clicking
  outside the active zones. #380 and #411
* Navigation aids like symbols, center cross and navigation areas for the above mentioned navigation
  modes can be enabled in `Options` -> `Map Display 2` -> `Navigation Aids` in tree.

Procedures:
* Added custom, user defined final approaches made of final leg altitude and distance to threshold
  which allows to see the approach path including ground, VASI and/or ILS slope in the elevation
  profile. The custom approaches consist of an initial fix and a runway fix. #307
* Now removing all flight plan waypoints that overlap with procedure points when adding a new
  procedure for an already calculated flight plan.
* Fixed many procedure decoding and drawing issues: #406, #408, #379, #336 and #370
  - Fixed procedure drawing for course/heading to radial termination legs.
  - Fixed procedure issues with track from fix to DME distance legs and similar.
  - Removed unnecessary intercept instructions at course reversal procedures.
  - Fixes for display of manual procedure legs. Now connecting manual legs to next leg or airport
    using a dotted line.
  - Now also drawing vector legs as dashed line.
  - Fixed display of SID that start with an initial fix. Now using vectors leg. Example: ENSG EVNA1F
  - Fixed issue where first course to fix procedure leg was missing intercept point.
  - Fixed procedure decoding which wrongly used the final endpoint fix altitude as a restriction.
* Fixed several issues with runways from simulator database having no `0` prefix.

Userpoints:
* Moved user point information out of information tab `Navaids` and added separate information tab
  for user defined waypoints.
* Custom userpoint icons now allow SVG, PNG, JPG and GIF image formats.
* Added new default userpoint types VOR, VORDME, VORTAC, DME, TACAN, NDB and lighthouse.
* Fixed crash and missing updates in information window when deleting userpoints.

Aircraft Performance #367, #340 and #339.
* Removed manual option to collect performance and introduced background collection which is running
  permanently now. Tab `Current Performance` in window `Flight Planning`.
* New dialog for merging current performance at any time with collected aircraft performance or
  another performance file. See menu `Aircraft` -> `Merge Collected ...` and
  menu `Aircraft` -> `Open Aircraft Performance and merge ...`
* Added new tab `Current Performance` showing collected values.
* Renamed tab `Aircraft Performance` to `Fuel Report`.
* Function `New Aircraft Performance` shows edit dialog now to avoid confusion.
* Aircraft performance dialog now allows to switch between US and metric units independent of
  program settings.
* Added alternate speed, alternate fuel flow, minimum runway length, runway type and usable fuel to
  aircraft performance.
* Tab `Fuel Report` shows a warning if usable fuel (new field) is not given.
* Changed aircraft performance editing dialog and split page in three tabs.
* Added aircraft state, required runway parameters and alternate fuel units to fuel report.
* Improved aircraft performance display without flight plan. Now showing basic information about
  aircraft like estimated range.
* Aircraft performance now uses cruise altitude from flight plan tab to detect if aircraft is in
  cruise state even if no flight plan is loaded.
* Fuel calculation now considers fuel to farthest alternate and falls back to cruise fuel flow and
  speed if values for alternate are not given.
* Added more error and warning messages if performance settings have errors or missing values.
* Now showing a warning if aircraft type does not match performance type.
* Top of climb and top of descent are now calculated considering the manual or real (NOAA or X-Plane)
  wind situation.
* Fix for invalid `Cannot Comply with Altitude Restriction` message. #417

Search:
* All keyboard shortcuts can now be used in search tabs from input fields or buttons. For example:
  Enter an airport ICAO in the search field and press `Ctrl+M` to show the airport on top of the list
  on the map.
* Fixed issues in procedure search where runway selection did not show up when opening context menu
  above a leg.
* Keyboard shortcuts now working everywhere in procedure search.
* `Show in search` in map context menu now selects found items in search result table.
* Fixed issue where map objects were centered unexpectedly when follow mode was enabled for a
  search tab.
* Now showing warning dialog when enabling distance search and search center is not set.

Webserver: #163
* Added internal web server which can be started in menu `Tools`. This shows a web page which has
  simple use cases for map display, aircraft progress and airport information with automatic refresh.
  The page can be accessed from any computer, tablet or smartphone in the local network (you need to
  adjust you router settings to access it from the internet).
* Simple stateless protocol added to fetch map images and more. See directory `web/test.html` or
  `http://localhost:8965/test.html` when running the webserver for examples.
* Allowing HTTPS/SSL connections to internal web server. An example private and public key for
  encrypted server connections is included.
* Added configuration for web server in option dialog on page `Web Server`.

Logbook: #346
* Split logbook completely off from userpoints and added new format for entries.
  - New main menu `Logbook`.
  - Added own search tab including edit, delete and create facilities similar to userpoints.
  - Bulk edit for logbook entries available similar to userpoints.
  - Selected logbook entries are highlighted on the map showing great circle line connection
    between departure and destination. Highlights have own tooltip.
  - Added separate logbook entry tab in information window.
  - CSV export and import as well as X-Plane logbook import (Prepar3D logbook format is not
    open and therefore unusable).
  - Legacy logbook entries from the Little Navmap userpoint database can be converted to new
    logbook entries. Entries are shown in search after import including detailed error report.
* Added dialog for logbook statistics with overview, various group queries as well as export
  as CSV and formatted clipboard.
* Detection for takeoff or landing runway for logbook entries is now more error tolerant.

Build and Deployment for Developers: #387
* Updated for Qt 5.12.4. Changed OpenSSL to 1.1.1.
* Linux compilation now uses system OpenSSL again and is based on Ubuntu 18.04.
* Added build for Travis CI. Thanks to Jannik for all his work!
* Complete update of project files to allow configuration with environment variables. Removed all
  hardcoded paths.
* Added documentation about environment variables to configure build and updated build instructions
  in `BUILD.txt` and `littlenavmap.pro` files.
* Added template for Linux desktop file. Explained usage of Linux desktop file in `README.txt`. #378

Little Xpconnect / X-Plane:
* Added new X-Plane turboprop definitions used since 11.30 to better recognize aircraft and fuel type.
* Now using tail number from aircraft `.acf` file only if the tail number from the dataref is not set.
  This helps to get the right tail number if add-on aircraft inject this manually using a script.

related from atools version 3.4.0.beta
See CHANGELOG.txt in atools project for more technical details. Relevant comments were added to list above.

===============================================================================

Version 2.2.4

* Changed default email, manual and help link URLs from Gitbook to https://www.littlenavmap.org #238
  Manuals in all formats and languages can be found here: https://albar965.github.io/manuals.html
* Moved hardcoded help URLs into configuration file `urls.cfg` which can be overloaded in settings directory. #238

* Changed default weather URLs (except IVAO) to use HTTPS/SSL.
* Added migration code to convert NOAA weather URL to use SSL/HTTPS if user left URL unchanged.

* Enabled IVAO support based on mirror on (https://www.littlenavmap.org) #244.

* Now pre-filling flight plan type (VFR and IFR) in online network export. #176 and #317
* Removed `RestoreDefaults` button from online network export since it has limited use.
* Now hiding the scalebar when saving map images. Scale bar is now only included when printing.
* Changed AI/multiplayer aircraft on ground to appear earlier when zooming in.
* Relaxed maximum distance requirements for waypoints in route string parser. Airports are now always used
  independent of distance to previous waypoint. #376

* Fixed display and conversion issues in aircraft performance when using metric units.
* Wrong vertical descent speed, descent speed and descent rule of thumb now displayed correctly.

* Fixed route description parser to ignore runway designations attached to airport like USSS/08R ... ZMUB1200/33.
* Route description parser can now read long SID and STAR names like ENVA UTUNA1A vs. ENVA UTUN1A.

* Changed Level-D default export path to correct location. #206
* Changed default export folder for aircraft flight plan formats to simulator base folder.

* Fixed issue where leg `From fix to DME distance` in procedures was calculated incorrectly.
  Case: EDVK Via LUXUX and ILS ABLIB (I09) to runway 09.
* Fixed drawing issue with intercept procedure legs.

* Now reading environment variable `LNM_RENDERER` for potential fixes on crashes or graphic problems.
  To use desktop OpenGL renderer set it to `desktop`. Use Angle to DirectX adapter for rendering: `angle`.
  To use the software renderer set it to `software`.
* Added `[Options]` `PixmapCache` allowing to change pixmap cache size as a potential fix for disappearing icons.
* Added preliminary options for manual application font configuration in settings. #373. Example:
  [Options]
  GuiFontFamily=FONTNAME
  GuiFontFile=TTFFILE
  GuiFontPixelSize=12

* Added shortcuts to switch between styles Fusion (Shift+F2) and Night (Shift+F3).
* Shortcuts (Window -> Shortcuts) are now enabled on all windows.
* Changed lengthy prefix for custom map themes to `*`.
* Limited text length when loading database to avoid growing the progress dialog.
* Added automatic numbering of performance files on save as.
* Small fix to avoid wrong time display.
* Small reordering in context menus for consistency.

related from atools version 3.2.4

* Fixed issue with wrong waypoint numbering in FlightGear export causing the simulator to crash.
  This happens only when using SID and/or STAR. #361
* Now disabling aircraft performance collection when sim is paused or replaying.

related from Little Xpconnect version 1.0.14

* Now linking Xpconnect statically to Qt to avoid plugin conflicts with libaries in Linux.

===============================================================================

Version 2.2.4.rc1

* Added saving and loading of FlightGear XML flight plans (.fgfp) also covering SID and STAR. #361
* MDX flight plan export for Leonardo Maddog X added. #232
* Added RTE flight plan export for QualityWings aircraft. #335
* Export for AivlaSoft EFB (.efbr version 1 - no SID and STAR). #226
* Added saving of PNG or JPG map images for AviTab (https://github.com/fpw/avitab) to file menu.
  Includes JSON calibration file. #310
* Added flight plan export for online networks including dialog for additional data. #317 (vPilot) and #176 (IVAP)
* Added FPL flight plan export for FeelThere aircraft. #206
* New flight plan export for Level-D (.rte). #206

* Added function key shortcuts in menu `Window` -> `Shortcuts` to have quick access to search, flight plan, map and more. #364
* Adapted flight plan file type detection to new formats and improved it for drag and drop of flight plans.
  Files are now accepted for drop independent of file extension.
* Now automatically suggesting a numbered filename if file already exists when exporting or using `Save as`.
* Reorganized export flight plan menu items for better overview.

* Added links to well known directory `Documents/Little Navmap Files/ICAO` for airport information.
  Links to all included files are shown if the path exists for an airport with the given ICAO ident.
  The path is locale sensitive, e.g. in German `Dokumente/Little Navmap Dateien/ICAO`. This depends on
  completeness of the translation. Try both variants (`Files` vs. your system language) if in doubt.
  Clicking on a link opens the file in the default editor or viewer of the system.

* Changed taxiway color for better visibility against light backgrounds.
* Added taxiway colors and pens to `little_navmap_mapstyle.ini` to allow configuration.
* Logbook userpoint icon now displayed using an offset from airport icon to avoid covering airport.
  Hotspot of logbook userpoint is now top left of the symbol. #366
* Fixed issue where MORA data was displayed only with Navigraph data enabled.
  Now always shown independent of selection. #331
* Now disabling text in MORA display if it gets too small to avoid garbled up display.
* Fixed display issue with empty procedure leg before initial fix after altitude terminated legs.
* Fixed drawing issue with intercept legs in procedures.

* Fixed issue where selecting a parking position as departure resulted in zero altitude in flight plan.
* Airports with open helipads and closed runways are now considered open.
* Now considering helipads for rating calculation for airports.
* Now displaying simulator type in information window for online network clients.

* Fixed wrong test in options dialog for online `status.txt` file. Now looking for the correct values to verify the file.
* Default folder is now the simulator base path when selecting exclusions in the options dialog.
* Fixed issue where date display used 12 hour time without AM/PM indicator in several places.
  Now always using 24 hour time in these cases.
* Moved all context menus a few pixels off the cursor to avoid accidental selection on touchpads or some mice.
* Fixed issues with missing weather updates when switching airport weather.
* Options/Language override in settings file now fixed for online help and legend loading.
* Limited text length when loading database to avoid growing the progress dialog.

related from Little Xpconnect version 1.0.13

* Fixed issue with AI detection where aircraft remained on map moving along with the user aircraft
  after deleting AI in simulator.
* Now linking Xpconnect statically to Qt to avoid plugin conflicts with libaries in Linux.

related from atools version 3.2.4.rc1

* Fixed issue with error messages when loading OpenAIR files with missing airspace class.
  Now omitting only the invalid airspaces.
* Made METAR parser more tolerant for invalid temperature values not separated by /.
* Fixed issue in whazzup parser which could result in invalid dates on systems with AM/PM data locale setting.
* Avoiding access to invalid empty paths when detecting simulators to
* Now looking for registry keys in a case insensitive manner to avoid problems where FSX or P3D could not be found.

===============================================================================

Version 2.2.3

* Fixed crash when reading unexpected value in `activeflightplanwx.txt` of Active Sky.
* Fixed crash when doing `Show all` after `Select all` in search result table while using a spatial query.
* Problem solved where altitude restrictions in procedures caused an invalid `cannot comply to altitude restrictions` error.
* Fixed several display issues in profile (e.g. LPPR ADNOV I17 at CI17).
* Fixed drawing issues with overlapping procedure leg points having different altitude restrictions (e.g. LPPR ADNOV I17 at CI17).
* Fixed issue where flight plan airports or navaids were not detected when airport display is off.
* Elevation profile showed wrong values for altitude on rightmost position in some cases.
* X-Plane scenery_packs.ini now read case insensitive to avoid errors.
* Little Xpconnect: Acf file of user aircraft is now read for more attributes like e.g. identifying helicopters.
* X-Plane scenery_packs.ini now read case insensitive.
* Disabled display of flight plan position in information window since it needs too many updates to function correctly.
* Full French and Spanish translated PDF manual included and online help is now complete.
* Updated French legend.

===============================================================================

Version 2.2.2

* Fixed wrong display of airspace/airway information when selecting `show information` in map context menu.
* Now showing all airspaces below cursorr when selecting `Show information for airspace(s)`.
* Fixed issues with airspace selection and tooltip when map window is unfloatable.
* Fixed display issues on procedure labels: Wrong runway label at departure and redundant restriction at IF legs before others.
* Missing status messages added for copy map to clipboard and save map as image.
* Fixed issue where navaids were collapsed to points when using measurement lines.
* Fixed airway waypoints not recognized when general waypoint display is off.
* Small display issue with airway waypoints solved where names of unrelated waypoints were shown in some zoom levels.
* Added verbose logging option for weather updates.
* Now showing ILS frequency for all approaches ILS, LOC, LOCB, LDA and IGS.
* Fixed redundant legs in SID if first leg is IF and RW too.
* Updated German program translation and map legend.
* Replaced OpenMapSurfer hillshading with the one used for OpenStreetMap since server is offline.
* Enabled weather support for ActiveSky XP.

===============================================================================

Version 2.2.2.rc2

* Added option to disable map window undocking in options dialog on tab `Map`.
  Allowing to undock the map window (option checked - default) can cause issues
  when resizing dock windows or the main window.
  Uncheck this option if you see strange or annoying resizing behavior when changing dock window or main
  window sizes. In some cases the dock window might also freeze, i.e. docks cannot be resized. Uncheck this option
  if you see one of these issues.

* Better URL test for weather and online URLs now also considering files.
* Improved check for valid whazzup file. Now looking for sections `!GENERAL` and `!CLIENTS`.
* Fixed issue with missing runway in X-Plane FMS files having circle-to-land approaches.
  X-Plane can now load these type of approaches without error message.
* Fixed wrong heading display for online aircraft in information display in some cases.
* Now centering destination and aircraft also for single airport plans (if flying a pattern).
* Fixed crash and/or freeze when saving flight plans with one leg or if TOC/TOD could not be calculated.
* Sped up zoom for maps `Plain` and `Simple`. More accurate display for zoom distance at lower levels.
* Fixed issue with ActiveSky showing old weather from stale `activeflightplanwx.txt` flight plan files.
  Now always using the latest from either `activeflightplanwx.txt` or `current_wx_snapshot.txt`.
* Fixed issue with wrong course display in traffic pattern in some cases.
* Com frequencies are now forced into 25 kHz raster on display.
* More minor GUI adjustements and fixes.

related from atools version 3.2.2.rc2

* Fixed rounding error for COM frequencies in DFD compiler.
* Fixed warning message `q_startOperation was called more than once` in log file
  by skipping if already downloading weather files.

===============================================================================

Version 2.2.2.rc1

Help:
* Updated manual is online. Updated PDF is included in the download.
* All help buttons and menus are now working.
* Updated included legend with weather, MORA and modifier mouse click description.
* New online manual chapters and/or changes:
  - Major update and enhancements in elevation profile:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//PROFILE.html
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//LEGEND.html#elevation-profile-legend
  - Aircraft performance:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//AIRCRAFTPERF.html
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//AIRCRAFTPERFEDIT.html
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//FLIGHTPLAN.html#flight-plan-table-columns
  - Airport Weather:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//WEATHER.html#airport-weather
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//MENUS.html#show-airport-weather
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//LEGEND.html#airport-weather
  - Sun shading:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//SUNSHADOW.html
  - New settings, crab angle and next wayppoint in compass rose:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//COMPASSROSE.html
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//LEGEND.html#compass-rose
  - Airport traffic pattern:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//TRAFFICPATTERN.html
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//MAPDISPLAY.html#show-traffic-pattern
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//LEGEND.html#airport-traffic-pattern
  - MORA Grid:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//MENUS.html#show-mora-grid
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//LEGEND.html#mora-grid
  - Mouse clicks with modifiers in map:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//MAPDISPLAY.html#mouse-clicks-modifiers
  - Switch user interface styles on the fly:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//MENUS.html#window-styles
  - Options for map display and simulator aircraft:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//OPTIONS.html#blurred-map
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//OPTIONS.html#simulator-aircraft-allow-scroll-zoom
  - Scenery loading can now exclude files and use X-Plane `scenery_packs.ini`:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//SCENERY.html#load-scenery-library-dialog-options
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//OPTIONS.html#scenery-library-database_exclude
  - Improvements to printing:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//PRINT.html#printing-the-flight-plan
  - New airport related menu items in procedure search:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//SEARCHPROCS.html#show-information
  - Insert flight plan into current plan:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//FLIGHTPLAN.html#insert-flight-plan
  - Sunrise and sunset for airport in information:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//INFO.html#airport
  - Bearing and distance of user aircraft to airport or navaid in information:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//INFO.html#general
  - Show more less data in aircraft progress:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//INFO.html#progress
  - Better highlighting for airspaces from information window:
    https://www.littlenavmap.org/manuals/littlenavmap/release/2.2/en//INFO.html#airspaces

Elevation Profile:
* Fixed several issues with aircraft movement and trail in elevation profile.
  Profile trail now depends on active leg and is now saved seperate from aircraft trail on map.
* Aircraft direction now turned if reversal relative to active leg detected.
* Aircraft now removed from profile if missed approach flown.
* Added new menu item in elevation profile to clean its aircraft trail.
* VASI glideslope in elevation profile now also shown for destinations where airport and procedure runway
  do not match because of renamed runways.
* Fixed issue where ILS and localizers were not recognized for renamed runways and inconsistent data.

Information:
* Fixed issues with file links for `BGL` and `apt.dat` files which did not work on Windows
  if base path had a trailing backslash.
* Fixed issue where airways were not displayed when selecting `Show information` on the map.

Flight Plan:
* ILS frequency in flight plan table now also shown for destinations where airport and procedure runway do not match.
* Traveling time in flight plan table header now updated correctly on altitude change. Time is now omitted if invalid.
* Moved FMS 3 format to export sub-menu since it is less important.
* Flight plan table now displays localizer frequencies.
* Fixed issue in route description generator which omitted SID and STAR in some cases.

Online Networks:
* Fixed online network aircraft heading on map display for VATSIM and IVAO.
* Removed display of true heading in information window and tooltips. Now always calculating magnetic.

Map:
* Changed map context menu to show only the mentioned item in `Show information` and nothing else.
* Removed `and more` indication in context menu since it is not used any more.
* Attempt to fix several zoom issues like zooming all way out and permanent map update when
  centering aircraft and active flight plan leg.
* Added workaround for issues when zooming to map objects. Now determining the best zoom distance until all is visible.
* Made `Too many objects` and `Offline` warning messages more clear.
* Now drawing weather symbols above flight plan.
* Sun shading is now reset to real time when disconnecting simulator.
* Fixed issue of map jumping to the wrong place when zooming around the anti-meridian.
* Fixed drawing issues with the aircraft trail in Mercator projection.
* Improved zooming when using a touchpad.
* Added `Shift+Wheel` for zooming in small steps.
* Now drawing flight text for procedures in the right order to avoid overlaying text.
* Military parking is now draw in the right color.
* Fixed issue where OpenTopoMap constantly showed waiting for data.

User Interface:
* Added `Copy Map Image to Clipboard` function in file menu.
* Now appending date and time suffix to map screenshot name to avoid overwriting for `Save Map as Image`.
* Disabled restoring of full screen mode on macOS since Qt freezes dock windows.
  If that happens double click the title bar of any dock window to float it. Double click again
  to dock it back and you can resize all docks again.
* Maximized window state is now correctly saved and restored.
* `Reset window layout` now also changes window size and centers window to avoid messed up layouts.
  Changed default layout to avoid locked elevation profile size.
* Updated icons that were barely visible in night mode.
* Added `clear all highlights` to toolbar and removed clear aircraft trail button.
* Fixed issue where tooltips reappeared after leaving the map.
* Updated French translation by Patrick.

related from atools version 3.2.2.rc1

* Small improvements to file system watcher to improve reliability when reading weather files.
* Updated French translation.

===============================================================================

Version 2.2.1.beta

Aircraft Performance:
* Now always showing both volume and weight in aircraft performance report on tab `Aircraft`.
  **Avgas is the default fuel type. Change you present performance configurations to the correct fuel type to ensure
    proper weight volume conversion.**
* Aircraft performance edit dialog now has a fuel type (Avgas and Jetfuel) setting and converts fuel between
  weight and volume in input boxes when changing.
* Flight plan table now shows both fuel weight and volume in separate columns.
* Performance collection now always uses weight and detects fuel type automatically from simulator.
  You can change from weight to volume in the edit dialog which will also do the conversion for you.
* Now showing red error messages on top of fuel report indicating invalid or missing values.
* Small text changes for performance report to make more clear that it is not updated during flight and
  used for fuel planning only.

Online Networks:
* Fixed regression when reading whazzup files. This resulted in occasional crashes and wrong aircraft headings.
* Limited excessive logging when reading whazzup files for online networks and added debug option for error
  reports when reading whazzup.
* Now omitting invalid QNH values from online center or client.

Simulator Aircraft and Flight Plan:
* Flight plan active leg sequencing is now suppressed if aircraft distance to nearest route leg is more than 50 NM.
* Centering of active flight plan leg and aircraft (if enabled in options) falls back to simple aircraft centering
  if distance to flight plan is larger than 50 NM.
  This helps to avoid situations where the program zoomed too far out.
* Changed jump-back-to-aircraft logic to avoid weird behavior (zooming far out and others).
  **When aircraft is on ground or `&Center map on aircraft and next flight plan waypoint` is not selected:
    Start looking around on the map by moving first (mouse drag or cursor keys) and not by
    zooming (mouse wheel or plus and minus keys) to avoid aircraft centering for the time given in options.
    Zooming without movement (drag or cursor keys) keeps the zoom distance.**

Elevation Profile:
* Fixed several issues with elevation profile and altitude restrictions as well as TOC and TOD calculation.
* Now forcing all legs after FAF and FACF to minimum altitude to avoid arriving above ILS glideslope or above VASI.
* Added display of `GS` indicator for certain altitude restrictions.
* Fixed issue with circle-to-land approaches having a lower MAP altitude restriction than runway elevation + 50 ft.
  This resulted in a `cannot comply to alt restrictions` message.
* Made zoom sliders in profile less sensitive to mouse wheel by lowering page size.
* Display of `Above Ground Altitude` now follows climb and descent slope instead of using cruise altitude.

Procedures:
* Now adding last leg `Circle to Land` only if approach has no runway assigned.
  This avoids classifiying too many approaches as circle-to-land.
* Adding new leg type `Straight In` for the last segment between MAP and runway now.
* Fixed drawing issues with missed approaches where first leg is of type `Intercept`.
  Missed approach now correctly starts at MAP in these cases.
* The Maltese cross is now applied to either FAF or FACF depending on ILS GS intercept altitude.
* Fixed regression where the last leg to runway was omitted for all approaches.
* Omitting altitude restriction now for waypoints on ILS GS.
* Added workaround for 3-letter airport idents in procedures which were not recognized and showed an error in the
  procedure search (red procedure leg).
* Drawing problems with the turn to the first missed leg solved.
* Fixed issue with manual procedure legs before initial fix.
  This corrupted flight plans, altitude and distance calculation. Added new leg type `Vectors` for this.
* Now loading procedures partially from a flight plan if some could not be found.
* Better error report on procedure loading issues. No showing the procedure names which cannot be found in the database.
* Fixed lost procedure information after switching scenery databases.

Map:
* Crab angle in compass rose now based on course to next waypoint instead of leg course. This is now consistent with
  the indicator showing course to the next waypoint of active flight plan leg.
* Now hiding details for airport patterns on higher zoom distances.
* Fixed wrong zooming that appeared when centering a flight plan which crossed the anti-meridian (date line).

User Interface:
* Crab angle in aircraft progress now based on course to next waypoint instead of leg course.
* Moved options `Use a short name `ICAO_ICAO.pln` when saving FSX or P3D flight plans instead of the long name`,
 `Avoid overwriting Flight Plan with not matching departure and destination` and
 `Center flight plan on map after loading` to flight plan tab in options.
* User data type search is now properly reloaded for userpoints if the option for reloading saves is disabled.
  Always reloaded with `Airport` userpoint type before.
* Disabled tooltip effects (fading, sliding, etc.) since these do not work well with tooltip updates for weather.
* Now raising all floating windows on startup to avoid hidden and/or inaccessible windows.
* Changed `Show map window` menu item to `Show all floating Windows` which raises all floating docks windows.
* Fixed issue where main window title was not updated after `save as`.
* Added workaround to restore elevation profile window height on startup.
* Modified all question message boxes with destructive actions to have default `No` also on windows.
* Now pre-filling altitude and turn direction in airport pattern dialog if available (FSX and P3D only).
* Added `Copy to Clipboard` button to update dialog.
* Changed download button in update dialog to make clear that download is started in browser.
* Update dialog now remains open after clicking download to give user a chance to read or copy text.
* Updated Italian translations from Flavio.
* Added French translation by Patrick.

Help:
* Updated included map legend for new features.

related from atools version 3.2.1.beta

* Added saving of altitudes for X-Plane FMS formats.
* Fixed issue when creating bounding rectangle from radius covering one of the poles which broke distance
  search with large radius values.
* Fixed issue where short lines were given wrong elevation (first 0) in GLOBE reader resulting in gaps in the
  elevation profile ground.
* Renamed fuel key names in aircraft performance file and added update functions.
* Added option to limit excessive error logging in whazzup reader. Error logging is now off as default.
* Added fuel type to performance class now allowing conversion from weight to volume.
  Performance handler now detects fuel type and uses lbs as default now. #255

===============================================================================

Version 2.2.0.beta

=== Notes ===
* List of closed issues for milestone 2.2: https://github.com//milestone/6?closed=1
* A reload of the scenery library is recommended.
* Some new features like the MORA grid, display of FAF and others need an AIRAC cycle from Navigraph
  later or equal to cycle 1810 or the included AIRAC cycle.
* X-Plane: Replace the Little Xpconnect plugin with the new included one to see the improvements mentioned below
  at `X-Plane / Little Xpconnect`.
* The manual is not updated yet. Therefore, help links do not work.

=== Changes ===
Elevation Profile:
* Added scrolling and zooming ability to elevation profile. Elevation profile now has a context
  menu also including `show on map` and more functions. Added splitter to elevation profile dock
  window which has sliders for zooming vertically and horizontally. These can be hidden by dragging the splitter
  to the right. Zooming can also be done using mouse wheel (Wheel+Shift for vertical zooming). Added keyboard navigation
  using cursor keys and numpad keys for zooming and scrolling. Panning in elevation profile with mouse click and moving
  like in map. Double click zooms to position on map. #34
* Elevation profile now uses same aircraft icon as map. Changed elevation profile to completely
  adhere to map painting settings like line width, text size and symbol size. Profile display now hides flight plan
  if hidden on map. #298
* Adjusted elevation profile to display passed, active and circle-to-land flight plan legs in the
  same colors like the flight plan on the map. Navaid symbols are now on the descending or ascending line. #298
* Added option to display ILS and VASI in elevation profile if an approach is selected. Menu items
  allow to disable these. #299
* Added calculation and display for top of climb to elevation profile display.
* Now showing procedure altitude restrictions in profile display.
* Top of descent is now calculated considering altitude restrictions of approach or STAR. Same for top of climb and SID.
* Removed barely visible highlight on map when hovering cursor above elevation profile. Highlight
  colors can now be customized in `little_navmap_mapstyle.ini`. #34
* Jump back to aircraft functionality added in elevation profile. Uses the same settings as the map. #34
* Giving clear error indication if cruise altitude is too high (i.e. TOC and TOD overlap) or if restrictions are
  violated due to too low cruise altitude.
* Fixed display color of profile labels for night mode. Removed all dark profile colors and pens from
  `little_navmap_mapstyle.ini`. Using OS and style colors now. #34
* Solved problems where aircraft in elevation profile jumped to wrong leg or moved backwards. Aircraft remains
  at destination now if moving past last route leg.
* Aircraft track is now ignored when determining profile altitude to avoid confusion when remaining tracks
  result in wrong profile maximum altitude.

Aircraft Performance: (see main menu -> `Aircraft` and tab `Aircraft` in dock window `Flight plan`)
Note that the new tab in the `Flight plan` dock window is meant for fuel planning and does not
change during flight (except when collecting performance data).
* Added aircraft performance facilities including edit dialog, new, save, save as, load, file history and report.
  Performance files (*.lnmperf) can be dragged into the main window to load. Added main menu
  `Aircraft` and tab on flight plan dock window for loading and saving of performance files.
* Performance and fuel calculation can use an average cruise wind setting where wind is interpolated for
  climb and descent for calculation.
* Removed now useless speed setting from flight plan dock and deleted rule of thumb descent setting in options dialog.
* Added automatic aircraft performance calculation option during flight
  (`Aircraft` -> `Collect Performance for Flight`). #255
* A default performance profile with 3 NM / 1000 ft descent and climb rules and no fuel consumption is default.
* Now showing fuel remaining in flight plan table.
* Added drag and drop of aircraft performance files to main window (`lnmperf`) for loading. #291
* Window title now shows aircraft performance file name and change state. #255
* Added aircraft performance file to userpoint log entry.
* URLs are recognized in aircraft performance description and can be opened there. Local file and directory links
  (e.g. `file:///C:/Projekte/atools` or `file:///home/alex/`) links as well as web URLs are recognized and opened.
* Added setting in options to change text size in performance report.

Printing: (see main menu -> `File` -> `Print Map` and `Print Flight Plan`)
* Added flight plan column selection to print dialog. Added more options for header, fuel, performance and
  others to print dialog.
* Improved printing of flight plan table. Now has proper word wrap, proper column sizes and shows a header
  for each page.
* Added colors for procedures to printed flight plan table as shown in flight plan dock window.
* Now uses printer resolution for printing the map to get sharper images except for map background.
* Hiding all overlays except scale bar when printing map now.

Online Networks:
* Added settings for online center sizes in options dialog. Old settings are now ignored.
  See dialog `Options` on tab `Map Display Online`. #267
* Added estimated arrival time to online client information tab and search table. Invalid times are
  now omitted in display. #303
* Changed lower limit of online updates for custom networks to five seconds.
  Emphasized warning **not to use this for official networks**. See dialog `Options` on tab `Online Flying`.
* Renamed `ACC` to Area Control Center for online centers. #267

Compass Rose:
* Now showing crab angle and added display indicator for next waypoint in compass rose. #284
* Added configuration options for compass rose in tree view in dialog `Options` on tab `Map Display`. #285
* Text size for compass rose, measurement lines and range rings can now be set in dialog `Options` on
  tab `Map Display`.
* Compass rose range rings are now always drawn. Also if not connected to simulator.
* Fixed issue in compass rose where decimal digits were truncated in some cases.

Flight Plan:
* Added drag and drop of flight plans from file manager into main window for loading.
  Accepts single flight plan and all allowed formats for loading (`fms`, `flp`, `pln`) as
  well as aircraft performance files (`lnmperf`). #291
* Added indication for DME distance to waypoint ident in procedure search and flight plan table for
  leg types `track from fix from distance`, `track from fix to dme distance`,
  `heading to dme distance termination` and `course to dme distance`. This minimizes the confusing
  duplicate display of idents in the flight plan table. #265
* Now displaying FAF, IAF, FACF and MAP in the procedure preview, flight plan table and tooltip. #196
* FAF is shown with a maltese cross on the map and in elevation profile. #196
* Changed last `Proceed to Runway` leg to correct `Circle to Land` for CTL approaches. #252
* Added warning dialog for flight plan zero cruise altitude before saving. #263
* Made loading of procedures more tolerant for renamed runways and for ARINC names of procedures.
* Added procedure name to flight plan table instead of the generic names like `SID` or `STAR`.
* Added display of ARINC name (e.g. `Q21` or `I16`) to flight plan header label since some FMC need this value. #306
* Added `Insert Flight Plan` menu item into flight plan table context menu. Added `Append Flight Plan` menu item
  into flight plan table context menu.
* Procedures are now correctly used or removed when inserting and appending flight plans.
* Now selecting and highlighting imported legs after inserting or appending flight plan. #264
* Fixed issue where some column widths were not saved in flight plan table.
* Removed annoying change in flight plan when adapting start position on loading.
* Removing duplicate ILS designators or frequencies from flight plan.
* Disabled export of approach procedures for Flight Factor airbus since required data is unknown.
* Fixed issue for FSX/P3D flight plans missing byte order mark which were not accepted by ASN or ASX.

Map:
* Added mouse click and modifier options for quick access. Doing a second click on the hot spot of a shown feature
  like range rings or measurement lines removes them. #268
  - Shift+Click: Add or remove range rings or navaid range ring.
  - Ctrl+Click: Start rhumb-line measurement or delete measurement line.
  - Alt+Click: Start great circle line measurement or delete measurement line.
  - Ctrl+Shift+Click: Add or edit userpoint.
  - Ctrl+Alt+Click: Insert point into nearest flight plan leg.
  - Shift+Alt+Click: Append point to flight plan.
* Added minimum off route altitude (MORA) data and one degree grid display to map. Data coming from Navigraph.
  See main menu -> `View` -> `Show Minimum Altitude`. #84
* Added extra airport display layer in map that shows runways before airport diagram shows up.
* Information tabs for airspaces and online centers now highlight geometry on map when clicking the
  blue `Map` link in the information window. Above mentioned tabs also have a `Remove Highlights from Map`
  link on top that clears all highlighted airspaces from the map.
* Added new `Remove all Highlights and Selections` menu item to menu `Map`. #308
* Moved `Remove all Ranges, Measurements and Patterns` from all context menus to main Map menu. #308
* Fixed several problems for aircraft and next waypoint centering mode. Updates are now triggered
  by a timer depending on speed and distance to waypoint. Minimum zoom distance is now a function of
  altitude above ground. See dialog `Options` on tab `Simulator Aircraft`: `Allow scrolling ...` and `Jump back ...`.
* Added option to avoid blurred online maps. Enabled per default.
  See dialog `Options` on tab `Map`: `Avoid blurred ...`. Works best with map projection `Mercator`. #254
* Added option for sun shading on map which can use real time, simulator time or user defined time.
  See main menu `View` -> `Show Sun Shading` and `Sun Shading` sub-menu.
  Shading darkness can be adjusted in dialog `Options` on tab `Map Display`: `Sun shading ...`.
* Added dialog to set user defined time and date for sun shading.
  See main menu `View` -> `Sun Shading` -> `Set user defined time`. #60
* Drawing of complex X-Plane airports accelerated. Now from 100 to 500 ms down to less than 1 ms
  for large airports. #245
* Circle-to-land legs and following missed approach legs are now drawn correctly with a dashed line from MAP. #252
* Added center line to ILS feathers and made feathers semi transparent.
* Empty airports menu item is now inserted into the sub-menu. Was missing before.
* Fixed issue where ILS feathers disappeared on close zoom distances.
* Disabled display of ugly ice shelf polygons in OpenTopoMap for good.
* Fixed issue where horizontal or vertical lines were not painted in flight plan.
* Adjustments to drawing. Line widths are now scaled with symbol sizes. Fixed drawing size of TOC,
  TOC and procedure symbols for scaled settings.
* Replaced home view symbol on map with actual icon from toolbar button.
* ILS labels now adhere to the text background color setting for navaids. This allows to select a white background
  for the labels for better visibility.
* Now omitting curves, arcs, holds, procedure turns and other fancy geometry of procedures on high
  zoom factors to avoid a mess up of graphics in spherical projection. Fixed flight plan leg distance
  label turning into weird directions when using spherical projection and at high zoom factors. #287
* Fixed program freezing on large zoom levels. Now excluding procedure drawing on high zoom distances.
* Aircraft icon heading is now more correct at higher zoom levels when using spherical projection. #239
* Now allowing font sizes up to 200 percent instead of 150.

Weather: (see main menu -> `View` -> `Show Airport Weather` and `Airport Weather Source`)
* Added display for weather symbols to map showing lowest cloud coverage (filled or empty circle),
  wind direction, wind speed (barbs) and flight rules according to official color coding:
  LIFR/magenta, IFR/red, MVFR/blue and VFR/green.
* Showing flight rules and icon in information window and tooltip. #6
* Added map weather selection for all supported weather sources in menu view.
  See main menu -> `View` -> `Airport Weather Source`. #6
* Airport weather icons are loaded from FSX/P3D and remote connections too. #6
* Showing flight rules and icon for all sources. Showing selected source for weather in map in the information
  display by adding suffix `- Map` to `Flight Rules` text. #6
* Fixes for problems where ASX and ASN updated weather files were not recognized.
* Fixed issue where variable wind showed wind pointer although no direction given. #6
* Attempt to fix weather loading issues (disappearing report) for X-Plane metar.dat.
  Weather data is now kept if file was deleted.
* More improvements and fixes when reading METARs.

Information and Progress:
* Added sunrise and sunset display (civil twilight) in UTC for airport information display. Time is
  based on simulator date or real date depending on connection status.
  Dock window `Information` on tab `Airport`. #281
* Added distance and bearing (rhumb line) to navaids and airports from the user aircraft in information window
  and tooltip. Disabled when distance is larger than 500 NM. #274
* Added `More` / `Less` link to aircraft progress display to show detailed or brief performance
  information during flight.
* Added crab angle to aircraft progress display to indicate the needed heading to follow a track in cross wind. #284
* Fixed issue where distances to initial fix of transitions where not calculated correctly in
  progress window.
* Now showing restricted airspace designation (like `D-30`) in information and tooltip.
* Showing active time criteria (NOTAM, holidays, etc.) for airspaces now in information window.
  Added multiple code as indicator for duplicate overlapping airspaces. Navigraph data only. #279
* Now displaying related airport information for navaids if available. #289
* Showing more important flight parameters (IAS, indicated altitude, etc.) bold in aircraft progress.
* Fixed several issues where information window content scrolled to top or was updated too often
  when doing background updates from weather or online changes.
* Too long lists of parking airline codes are now blocked and shortened for tooltip display.
* Information and simulator aircraft progress icons are now correctly scaled according to
  selected text size in options dialog. Fixed issue where font size was not reloaded when loading
  information on startup was off.

Airport Traffic Pattern
* Added option to draw airport traffic pattern on the map to all map, flight plan table and airport search
  context menus. `Display Airport Traffic pattern at ...` enabled when right clicking on an airport.
* A configuration dialog is shown when adding a traffic pattern that allows to customize distances,
  colors and other options. #197

Options:
* Moved settings for wind indicator to separate tree branch in options dialog on tab map display.
* Various other changes. See related items in this change log.

Search:
* Added `Show Information for Airport`, `Show Airport on Map` and `Show Airport in Search` items to the context menu in
  the procedure search tab.
* Fixed issue where runway filter was not reset in procedure search when selecting `Show Arrival/Departure Procedures`.
* Fixed issue where procedure highlight reappeared after closing dock and restart.

Userpoints:
* URLs are now recognized in userpoint information display and can be opened there. Local file and directory links
  (e.g. `file:///C:/Projekte/atools` or `file:///home/alex/`) links as well as web URLs are recognized and opened.
* Fixed issue where takeoff or landing airports and runways were not recognized correctly for logbook entries.

User Interface and General:
* GUI style including `Night` can now be changed on the fly from the menu `Window` -> `Style`.
  Removed style from options dialog and moved map darkness for night style to dialog `Options` to tab `Map Display`.
  Fixed all remaining artifacts which appeared after style change. #142
* Now always showing version in main window title. Development versions also show Git revision. #304
* Added warning dialog when using the buggy and limited online elevation data.
* Added information dialog for Navigraph only scenery mode. #262
* Added sub-menus to view menu since it got too big.
* Cleanup in shortcuts. Removed duplicates and added F1 and Shift+F1 for help.
* Added FAQ link help menu.
* Made error messages in dialogs better visible: White text on red background.
* Using extra icon and background color to make splitter in route string dialog better visible. Now
  preventing collapsing of upper part in route string dialog to avoid confusion.
* Made warning about saving X-Plane FMS 11 format less alarming.
* Added menu item to raise (a probably lost) floating map window.
* Changed search path for custom map themes to be based on executable path since macOS gives a
  wrong current directory. #261
* Fixed empty `Show info ...` menu item for X-Plane AI which is lacking all kind of
  information.
* Removed more inconsistencies in map context menu where wrong information was shown
  (i.e. airport instead of AI) in some cases.
* Log file is now rotated if the file size of 10 MB is exceeded. This avoids overwriting on startup and eases
  error reporting. #275
* Updated all translations.
* Updated French manual to Gitbook generated PDF.
* Changed deployment to use local folder `little_navmap_help` in Projects for manuals. Removed PDF
  manuals from Git since commits are getting too large.
* Updated translations to fix translated menu shortcut Ctrl+Up and Ctrl+Down in German translation.
* Added `Copy to Clipboard` to update notification dialog to copy contents as plain and formatted text.
* Fixed several issues around display of procedures.

Scenery Library:
* Files can now be excluded from loading for all simulators in options dialog. List in exclusion
  paths now allow multi selection. See dialog `Options` on tab `Scenery Library Database`: `Add Files ...`. #29
* Check box for reading inactive scenery is now enabled to choose between reading of X-Plane
  `scenery_packs.ini` or full directory structure in scenery loading dialog.
  This helps if using tools to disable scenery.#151
* Now fetching the first X-Plane installation path from x-plane_install_11.txt as base path.
* X-Plane parking positions are now at correct coordinates. #256
* Fixed issues with assignment of stray VASIs to runways in X-Plane.
* Fixed issues with symbolic links in scenery loader. Now using paths as-is instead of converting to canonical
  paths (i.e. resolving the symbolic links). #29

X-Plane / Little Xpconnect:
* Added airplane model and registration. Now using description for title. #271
* Now reading X-Plane `acf` files once to get aircraft name and engine type for a better classification.
  Allows to show helicopter and jet AI symbols in Little Navmap. #271

related from atools version 3.2.0.beta
* Database minor version updated to 13.
* Updated all translations.

See atools/CHANGELOG.txt for more technical details.

===============================================================================

Version 2.0.3

Online Networks:
* Fixed issue where simulator, AI or multiplayer aircraft did not move or were not updated on the map with certain settings.
* Now showing both online client and simulator aircraft tabs if user clicks on own aircraft when using online network.
* Fixed issue where online ATC was not removed from the map when the related center shut down.
* Online network ACC and FIR regions now have a default radius of 100.
* Removed error dialog for online network downloads. Now showing online network errors/status
  in statusbar on the connection status label and tooltip.
* Fixed issue when parsing whazzup with small timeintervals. (atools)
* Now assuming that aircraft is on ground for VATSIM and GS < 30 kts (VATSIM has no on_ground indication). (atools)
* Both online and simulator information is now shown when clicking on shadow AI/multiuser/simulator aircraft.
* Fixed wrong tooltip for online shadow aircraft which appear both in simulator and online network.
  Now showing tooltip for simulator aircraft.

User Interface:
* Rearranged controls in search window to allow smaller dock windows.
* Now showing warning message box if SSL/HTTPs was not initialized due to missing MSVC redist.
* Increased size of status bar field for time to avoid creeping/flickering field in macOS.

Flight Plan:
* Fixed several issues with copy CSV to clipboard from flight plan and search result tables.
* Fixed issue where route type (High/Low Alt) was assigned wrongly after flight plan calculation or loading flight plan.
* Fixes for flight factor flight plan export to corte.in. RNAV approaches should be recognized now.
* Flight plan names for flight factor flight plan export to corte.in are now made unique when saving.
* Fixed issues with export for flight plans for iFly 737 that could crash the simulator. (atools)
* Fixed issue where translated parking names were used in PLN files which resulted in wrong flight plan departure. #243

Map:
* Added departure and destination to label for online network and AI aircraft.
* Disabled SSL for OpenMapSurfer theme due to obscure SSL problems on macOS.
* Now hiding all airspaces at small zoom distance when airport diagram is shown.
* Fixed issue where airspace was not displayed when selecting `show information`.
* Now ignoring null frequencies on airspaces.
* Fixed issues with map context menu where `Show ...` and `Show ... in search` used the wrong map objects,
  i.e. `Show Network Client` showed airport in information window.
* Now using consistent order where online and simulator aircraft are above airports when clicking in the map for all
  show functions.

Misc:
* Fixed issue where program cannot be opened by Linux file managers.
* Fixed translation issues in navserver resulting in confusing messages in Little Navconnect log window. (atools)
* Now showing coordinates in userpoint search result table.
  A `Reset View` from the context menu is required to show the new columns.
* Increased Garmin userdata export ident length. (atools)
* Now disabling less used search options on first startup after initial installation.
* Added option to disable less used type filters in nav search.
* Added coordinates to userpoint search result table.
* Fixed broken links in manual.
* Updated French translation from Patrick.

related from atools version 3.0.3

* Fixed translation issues in navserver resulting in confusing messages in Little Navconnect log window.
* Now logging all warning dialog messages to logfile.
* Fixed issue where aprons from stock airports remained in add-ons.
* Workaround for invalid record length for NDB and waypoints in APX27190.bgl from P3D v4.3 which causes errors
  when reading the scenery library.

Version 2.0.2

>> X-Plane users: Reinstall Xpconnect 1.0.9 for bug fixes regarding inverted magnetic variation. <<

Translations:
* Updated translations: Dutch, Brazilian Portuguese, French, Spanish and German. All complete.
French offline PDF manual is from previous version. Full translation will be provided as an update package.

Help:
* Online manual available on Gitbook: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/
* All help buttons and menu items are working now and point to the updated online manual.
* Updated legend for compass rose and online aircraft.
* New online manual chapters and/or changes:
  - Userpoints: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/USERPOINT.html
  - Userdata menu: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/MENUS.html#userdata-menu
  - Userpoint map context menu items: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/MAPDISPLAY.html#add-userpoint
  - Online Networks: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/ONLINENETWORKS.html
  - Compass Rose: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/COMPASSROSE.html
  - Edit flight plan positions: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/EDITFPPOSITION.html
  - Coordinate formats: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/COORDINATES.html
  - Customize display radius for online centers: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/CUSTOMIZE.html#customize-online-center
  - Customize userpoint icons: https://albar965.gitbooks.io/little-navmap-user-manual/content/v/release/2.0/en/CUSTOMIZE.html#customize-userpoint-icons

Navdata:
* The included Navigraph AIRAC database was updated to cycle 1801. This fixes two problems:
  - Wrong magnetic declination for VOR stations.
  - Procedures of three letter airports were not recognized.

GUI:
* Save button is now always enabled to allow saving PLN file again after P3D changes file.
* Fixed misleading warning in route string parser if airport name as intermediate destination is equal to an airway.
* Fixed tooltip and information display showing facility `Procedures` for all airports.
* Improved handing of information dialog to raise the correct tab when selecting from context menu.

Userpoints:
* Fixed small issues on userpoint CSV export where fields used floating point numbers wrongly.
* Now exporting userdata columns last_edit_timestamp and visible_from to CSV. Columns are optional for import.
* Issue with wrong default type fixed in add dialog if type is empty.
* Corrected wrong display for userpoints all indicated as temporary in edit dialog.
* Fixed non localized date in user point information.

Online:
* Now merging simulator aircraft and online network aircraft with same callsign/registration. These shadow aircraft are now displayed as online network aircraft (orange) and have online network tooltips and information. #45
* Fixed display of shown features in status bar which indicated online airspaces when online networks were off.
* Changed fill color for centers for better visibility.
* Now waiting three minutes for next download to give user a chance to correct.
* Fixed issue where program went into endless error dialog loop when entering a wrong online network address.

Customization:
* Added reset/migration for mapstyle INI file and adding version now to file.
* Added customize folder and icons.zip for icon templates to allow users creating their own icons based on default ones.
* Program will create a backup of `little_navmap_mapstyle.ini` and replace file with new colors (blue airways).
  All customization files are now versioned. Section `[Options]`.

Small changes:
* Userpoints now have the same priority in menus as in map display.
* Fix in userpoint edit dialog tooltip.
* Fixes to wrong status bar and tooltips and misleading context menu items in search.
* Small fix for runway display using wrong width when 0.
* Corrected text for wind pointer which was scaled together with AI aircraft text.
* Fixed issue where user agent got translated request type included (e.g. `Custom`). #45
* Fixed issue where airspace tooltips were shown in high zoom distances with no airspaces displayed.
* Corrected tab order in main window and options dialog.
* Added help button to user waypoint dialog.
* Removed menu items from macOS application menu since automatic adaption from Qt does not work.
* Fixes for missing about dialog on macOS.
* Help system now more flexible and can load legend and help files if present for language.
  Also uses a fuzzy way to find files by ignoring language region like `pt` vs. `pt_BR`.
* Fixed issue where flight plan was saved in the wrong format after undo/redo and using `Save as`.
* FSX/P3D is not hidden in the scenery library menu if the simulator folder from the registry does not exist.
* Now disabling show AI aircraft and ship actions according to fetch settings in connection dialog.

from atools version 3.0.2.rc1

* Updated translations: Brazilian Portuguese, French, Spanish and German. All finished.
* Now exporting all userdata columns to CSV: Added `last_edit_timestamp` and `visible_from`.
  Columns are optional for import. See manual.
* Fixed region field not adjusted in X-Plane userdata export.
* Now using minimum and maximum circle radii for online ATC geometry.

===============================================================================

Version 2.0.1.beta

* Changed OSM, OpenMapSurfer and Hillshading map downloads to use SSL encrypted connections (HTTPS).
  For fallback in case of problems replace the files
  `Little Navmap/data/maps/earth/openstreetmap/openstreetmap.dgml`,
  `Little Navmap/data/maps/earth/openstreetmaproads/openstreetmaproads.dgml` and
  `Little Navmap/data/maps/earth/srtm2/srtm2.dgml` with files from the previous version.
* Fixed SSL loading problems on Linux (first noticed on Ubuntu 18.04).

Online:
* Now removing duplicate user aircraft and multiplayer aircraft from simulator and online network.
  Keeping simulator aircraft for duplicates.
  A valid Registration in the simulator information is needed and matched to the online client callsign to
  find duplicates within 30 NM distance. #45
* Visual range now only shown for online client if >0.
* Online network database schema is now always created from scratch to cover schema changes.
* Change online center/airspaces to ignore visual range which is often wrong.
  Ground is now shows as a 5 NM circle, approach 20 NM and tower 10 NM. Can be changed in configuration file.
* Added facility to override visual range for online airspace circles in configuration file.
  See section `[Online]` in file `little_navmap.ini`.
* Visual range for online clients now uses correct units in search result.
* Online servers remained in search result table after switching networks.

Flight plan export:
* Fixed issues in corte.in export for flight factor aircraft. Last DCT now omitted export and using full names
  for approach ident in (I16L before, now ILS16L).

Translations:
* Added translation for Brazilian Portuguese by Ricardo.
* Updated German translation from Stephan L.
* Updated French translation and manual from Patrick.

Other:
* Now showing navaid ranges for navaids which are parts of procedures
  E.g. `Show navaid range` for a NDB which is part of a procedure.

from atools version 3.0.1.beta
* Weather texts are now shown translated.
* Added separate online control center radius instead of using visible range in online centers. #45

===============================================================================

Version 2.0.0.beta

Flight Plan and Export:
* Export clean PLN flight plan file now remembers its own directory to allow saving to separate folder.
  This is needed since later P3D versions show the misbehaviour of overwriting the PLN file on *loading*.
* Support for loading of FSC flight plan files. Does not load procedures.
* Flight plan export for Blackbox Simulations Airbus. #200
* Export for iFly flight plan file #231
* Added ProSim flight plan export. #204
* Added UFMC export format. #207
* Added export for X-FMC. #208
* Added show in SkyVector to export menu.
* Fixed issues where circle-to-land procedures were not loaded correctly and were incorrectly assigned to a runway.
* Fixed issue where STAR procedures with runway assignment were not loaded correctly.
* Improved loading of malformed flight plans where airports and user defined waypoints are saved as intersections.

Online Networks:
* Added IVAO, VATSIM and custom online networks (#45). IVAO and VATSIM are currently disabled due to missing clearance.
  * Update rate and URL configuration in dialog `Options` on tab `Online Flying`.
  * Display of clients, servers and online centers on map, in information windows, search tabs and context menus.
  * Search highlights and tooltips for centers and client aircraft.
  * CSV export via clipboard for all online information.
  * Added embedded configuration file to enable or disable online networks.
* Online network tabs and menu items are hidden in Little Navmap until online is activated in
  dialog `Options` on tab `Online Flying`.

Weather:
* Removed METAR date for simulator weather since it was wrongly parsed and corresponds to simulator date.
* Added display for NOAA nearest weather stations. Now downloading index page from NOAA to avoid empty requests.
* Added IVAO weather reports including options, URL configuration, URL test and display of nearest station. #132
* Fixed variable wind reported for `///KT` METAR. #224
* Fixed X-Plane weather file not reloaded in some cases.

Userpoints (#3)
* Prepared translation for userpoint types (can be translated but is not active yet).
* Added extra icon for unknown user point types.
* Added metadata display for last edit time and import file to userpoint edit dialog.
* Added option for volatile/temporary userpoints.
* Changed draw order of userpoints. These are now displayed before navaids in tooltip and info as on map.
* Fixed inconsistencies when creating new userpoints. Filename is now erased for new points.
* Made naming in GUI more consistent. `Userpoints` are bookmarks, VRPs, etc. `Positions` are
  user defined positions in a flight plan.
* Added coordinate validation in userpoint import functions.
* Fixed issues with elevation and units in userpoints.
* Added tooltip for userpoint description in search result table.
* New userpoint from map is now filled with actual elevation at clicked position (only for GLOBE data).
* Disabled CSV backup of userpoints and creating backups of file `little_navmap_userdata.sqlite` on startup now.
* Changed database settings to avoid data loss on crash.
* Added manual transactions to userpoint management to avoid locked up application.
* Error reporting on locked user database on startup.

Flight Plan Description:
* Improved route string parsing to check for either nearest navaid or a navaid with matching airway.
* Fixed several issues when parsing route strings. Now takes nearest navaid only if no waypoint/airway match was found.

GUI and Map Display:
* Added ILS frequency in flight plan table for ILS and LOC approach procedures.
* Added `zoom to departure` option in parking question dialog which shows up before saving.
* Added approach procedure suffix to flight plan window label. Made display of suffix consistent across the program.
* Fixed issues with procedure display where restriction texts were not drawn on map in case of intercept legs.
* Improved text display between overlapping procedure legs slightly to avoid text labels hiding each other.
* Tooltips now show exact procedure type.
* Fixed wrong display o procedure suffix and runway in flight plan window top label.
* Added tooltips for all tab headers on main window and shortened some tab labels to save space.
* Fixed issues where estimated gross weight at destination disappeared in progress tab for window `Simulator Aircraft`.
* Now showing real aircraft icons as on the map in tooltips and information tabs instead of the generic icon.
* Now falling back to magnetic heading for aircraft rotation on map if true heading is not available.
  Should solve wrong aircraft heading on some online clients.
* Fixed issues with background color in icons on information, tooltips and tables.
* Follow mode does not trigger now if an element is unselected.

* Updated from Qt 5.9.3 to 5.9.5

from atools version 3.0.0.beta

* Added complete data management and parsing for IVAO, VATSIM and custom `status.txt` and `whazzup.txt` files.
* Fixed issues with X-Plane user_fix.dat export. Now using correct metadata so that X-Plane can read the file.
* Issues with X-Plane and Garmin userpoint import and export fixed.

* Added script by Gérard to clean out fake runways for AI in FSX/P3D.
* Added logging for airport altitude when reading delete records from FSX/P3D.
  Example: `Add-on airport altitude for VQ10 changed from 7703 ft (BGL Scenery/0902/APX72220.bgl) to 8363 ft`
* Improved BGL file and scenery reading to include hidden and system files.
* Fixed issue where approach name and/or suffix were not read correctly in X-Plane and DFD compiler.
* Fixed error with duplicate VOR/NDB waypoints in DFD compiler.
* Now ignoring artificial circle-to-land approaches in DFD compiler.

* Flight plan export for Blackbox Simulations Airbus. #200
* Added loading method for FSC flight plans.
* Export for iFly flight plan file. #231

* Now removing empty journal files from database when closing.
* Database locking improved.
* Added gzip tools.

===============================================================================

Version 1.9.1.develop

Userpoints #3

* Added Userpoints (aka. user defined waypoint or bookmark or POI or whatever) management.
* New main menu `Userdata` which provides various import and export options and more.
* A new search tab `Userpoints` in the `Search Window` for editing and searching with the same functionality as
  the other search tabs.
* New menu entries in map context menu to add, edit, delete or move userpoints.
* Information window and map tooltips can display userpoint information.
* New add/edit dialog for userpoints also allowing bulk edits on more than one selected point.

* Add userpoint dialog remembers input to ease adding more than one similar point.
  Content can be cleared using the reset button.
* Add dialog is context sensitive and prefills airport data if you add a bookmark on an airport for example.
* Coordinates can be edited manually in edit/add dialog. More than 10 coordinate formats are recognized. See tooltip on
  `Latitude and Longitude` field.
* Userpoints can be added to a flight plan and are converted to flight plan user defined waypoints (green square).
* A timestamp of last change is kept for each userpoint which allows to find latest changes.
* Flight plan drag and drop editing allows to add userpoints.

* Import and export for CSV (format from other well known programs), Garmin `user.wpt` and X-Plane `user_fix.dat`.
* Export to a XML file suitable for the FSX/P3D BGL compiler.

* Userpoint database is backed up to CSV on startup.

* Icons and types can be extended by placing SVG files with names like `userdata_MYTYPE.svg`
  in the settings directory. Icons for stock types can be changed by placing an icon with the same name
  like `userdata_Airstrip.svg` in the settings directory.

* Option for automatic creation of userpoint entry of type `Logbook` for each takeoff and landing.
* Logbook entry for landing contains trip information like average speed, fuel consumption and more.
* Skipping logbook creation when simulator is paused or in replay mode.

Flying

* Added option to keep active leg on top of flight plan table. `Options` on tab `Simulator Aircraft`.

* Added new flight plan and aircraft centering mode which keeps active leg and aircraft visible
  on the map when flying. Falls back to center aircraft on ground.
  `Options` on tab `Simulator Aircraft`. #133

* Added `jump back to aircraft` after given time when flying. `Options` on tab `Simulator Aircraft`.
  Allows zooming and scrolling during flight without disabling `Center Aircraft`. #133

* Added option to dim passed legs of flight plan on the map and display them in a different color.
  Labels for passed legs are omitted to unclutter the map. Added color selection for passed flight
  plan legs. `Options` on tab `Map Display`. All #218

* Adjusted label display for nearest five AI to show within 20 nm if vertical difference is not more than
  5000 ft.

* On-ground indication was unreliable for first packets from X-Plane causing first leg already centered
  on ground. #133

Weather

* Weather reports older than six hours are now shown in red in information window on tab `Weather`.

* Fixed error on METAR stations improperly reporting CAVOK 9999.
* Weather report now corrects old dates back to last valid date instead of creating future dates.
* Variable winds are now reported correctly when speed is missing. #212
* Now reporting variable winds together with wind/direction if given. #212
* Fixed report on clouds when altitude was not given. #212
* Mitigated problem with X-Plane METAR.rwx containing duplicate records. #212

Flight Plan

* Added menu options to save waypoints instead of SID/STAR or approaches. This affects all flight
  plan formats. #195

* Coordinates of flight plan user defined waypoints can now be changed in edit dialog. See tooltip on coordinate
  field for recognized coordinate formats.

* Added option to save FSX/P3D flight plans using short names. `Options` on tab `Flight Plan`.

* Now highlighting flight plan segments traveling against one-way airways in red to indicate error.

* Fixed issue when loading Fsbuild created flight plans which are missing the altitude field.
* Fixed problem where SID and STAR transitions could not be loaded from flight plans due to uncertain
  type in P3D scenery databases.
* Fixed errors in ATS route string parser. Now nearest airport or navaid is used for non unique names instead
  of giving preference to (possibly far away) waypoints. #213

Map

* Split Map menu into Map and View since it got too big.

* Added option to disable all airport diagram features except runways for all who like to use the
  OpenStreetMap background. See dialog `Options` on tab `Map Display`.
* Added options to disable label background color for airport, flight plan and navaids. `Options` on tab `Map Display`.
* White airport background can be disabled now. `Options` on tab `Map Display`.

* Added compass rose showing magnetic direction plus option for line thickness (`Options` on tab `Map Display`).
  Compass rose is always visible when enabled. Heading and track lines are displayed as well if an aircraft is shown.
  Rose adjusts to screen size with a maximum of 500 nm radius. Enable in menu `View` -> `Show compass rose`. #141

* Added options to disable map clicks for airports, navaids and airspaces similar to tooltips.
  Dialog `Options` on tab `Map`.

* Added X-Plane 3D airport flag as additional criteria for treating empty airports. This can be used to hide or dim
  all X-Plane airports which are not 3D. `Options` on tab `Map`.

* Tooltips now show exact procedure type.
* Improved text display between overlapping procedure legs to avoid text labels hiding each other.
* Fixed issues with procedure display where restriction texts were not drawn in case of intercept legs.

* Fixed overlays reappearing randomly when switching map theme.

Information and Search

* Added zero fuel weight and total payload to window `Simulator Aircraft` on tab `Aircraft`.
* Added estimated fuel at destination and TOD was well as estimated gross weight at destination to
  window `Simulator Aircraft` on tab `Progress`.

* Added zulu time and day of month to status bar on the right.
* Added display of magnetic declination below cursor to status bar.

* Added override mode for airport ICAO search. All other search options will be ignored if a user
  enters more than two characters in the `ICAO Code` field. Override is indicate in the bottom label below the search
  result table. This helps to quickly find an airport without resetting search options.

* Changed context menu `Show Procedures` to show different texts when airport is destination or
  departure of current flight plan. Show procedures now sets filter to departure or arrival
  procedures depending on selected airport.

* Added follow selection mode to context menus of the flight plan and all search windows. Will center
  selected navaid, airport or procedures on the map using the current zoomlevel when enabled. #129

* Changes for SID and STAR that use multiple or parallel runway assignments indicated by e.g. `All` or `23L/23R`.
  Added sub menu in procedure search for SID/STAR selection if more than one runway can be selected.
  Procedures are now correctly resolved if loading or assigning such cases. This solves problems when saving
  procedures in X-Plane FMC 11 format or other various formats. #179
* Now showing a red warning message on top of the flight plan window if STAR and approach runways do not match. #179

* Increased maximum search radius for airports to 8000.

* Fixed problem where fixes for long (> 200 NM) SID or STAR procedures could not be resolved and showed
  red waypoint errors in the procedure search tree.
* Fixed issue where airway information was not reloaded in information display after startup.

General

* Fixes to translatable texts. About dialog `Contact:` and other texts are now translated.
* Translated windows titles in menu `Window` are now correct and not lower case.
* Now all export menu items are disabled if not flight plan is loaded.
* Extended version comparison for update checking release candidates where 1.1.1.rc2 is
  smaller than stable 1.1.1 for example.

Scenery Database

* Updated magnetic declination file to 2018.

* FSX/P3D only: Now reading FSX/P3D scenery entries pointing to `scenery` instead of the base directory
  which is allowed in P3D. These were silently omitted previously.
* FSX/P3D only: Reading `.../Roaming/.../add-on.cfg` and `.../ProgramData/.../add-on.cfg` now. #211

* X-Plane only: Fixed problem where CIFP files with lower case names were not recognized correctly.
* X-Plane only: Fixed approach lighting system indication for airports in X-Plane compiler.
* X-Plane only: Fixed issue with X-Plane airports that have wrong reference position. Now falling back to center of
  bounding rectangle or center of a single runway.
* X-Plane only: Fixed issues with file or directory exclusion for X-Plane scenery loader which did not work
  properly in some cases.

* X-Plane only: `Custom Scenery/Global Airports/Earth nav data/earth_nav.dat` is now read to get fixed ILS.
  This fixes wrong ILS heading in many places like LOWI.

* Navigraph only: Added transition altitude to airport.
* Navigraph only: Now updating magnetic declination for VOR, DME or TACAN with calculated value where missing.
* Navigraph only: Corrected wrong runway heading for Navigraph compilation. #214

* X-Plane and Navigraph only: SID and STAR common routes are now merged correctly into procedures for
  Navigraph and X-Plane compiler. This results in correct SID/STAR and also removes the `ghost` entries. #193

* X-Plane and Navigraph only: Now removing all unneeded dummy NDB and VOR waypoints that were created for
  airway generation. #201
* Fixes for missing airway segments in DFD compiler. Fixed overly eager de-duplication of waypoints. #201


Version 1.8.5

* Updated from Qt 5.9.1 to 5.9.3
* Updated included Navigraph database with fixed version that now has complete airways.

from atools version 2.8.5
* Fixed errors when compiling the X-Plane database with PRDAT records in CIFP files since AIRAC 1801. #202

Version 1.8.4

Reloading the database is hightly recommended to avoid problems when saving flight plans.

* Added flight plan export for Reality XP GTN and GNS units.
* Added option to save Garmin flight plans with user defined waypoints only to avoid
  locked waypoints on AIRAC cycle mismatch.
* Added search for X-Plane 3D airport flag in rating dropdown list. Needs scenery database reload.
* Added display for new airport region where available. Needs scenery database reload.
* Now displaying runway names for SIDs and STARs with reference to multiple parallel or all runways in procedure search.
  Partial solution for #179. Needs scenery database reload.
* Changed route description text field to monospaced font and changed wrapping for word to any for better readability.
* Added options to disable tooltips for selected map features: airports, navaids or airspaces.
* Helipads can now be selected as a start position on the map.
* Now using correct AIRAC cycle from nav database when writing FMS files. Used simulator version previously which
  could result in X-Plane warnings. Needs scenery database reload
* Added warning dialog when AIRAC cycle is not available when saving flight plans in X-Plane FMS 11 format.
* Departure runway is now correctly assigned according to SID runway when loading from formats
  which do not support departure parking (e.g. FMS or FPL).
* Fixed issues where X-Plane cannot load STAR in FMS 11 flight plans because runway reference is missing.
* Fixed issue where helipad name was not loaded correctly from FSX PLN files in certain cases.
* Fixed Linux build to avoid problems with shared libraries on some platforms.
* Removed unneeded startup script for Linux. Program executable can now be started directly from any directory without
  setting library path.
* macOS compatibility changed since program does not work on 10.9 and below due to Qt requirements.
  Now at least version 10.10 is required. Now showing error dialog if macOS is too old.
  Program now refuses to run on Mavericks or older.
* Fixed warning dialog for Linux and macOS which should show up only on Windows first startup.
* Made program more tolerant for older database files.
* Small adjustment to taxiway labels to show more often.

Updated translation files, French manual and legend.

from atools version 2.8.4
* Fixed problem where translations for second and third languages were loaded for some regions.
* Solved problem where translation files were loaded mixed in some cases.
* Logging library paths now for debugging.
* Added Garmin GNS XML flight plan export.
* Added option to save GNS XML flightplans with user defined waypoints.
* Column `arinc_name` in table `approaches` is now filled for SID and STAR to get runway
  information for multiple or all. Needed for future fixes of #179. Needs scenery database reload
* Added new columns `region` and `is_3d` (X-Plane) in airport table. Adapted all compilers to fill it. Needs scenery database reload
* Database minor version bumped up to 8.
* Made flight plan format detection more tolerant for FMS 11 with missing cycle information.
* Fixed issues where X-Plane cannot load STAR in FMS 11 flight plans because runway reference is missing. #173
* Fixed invalid Majestic Dash FPR flight plan file export on Windows and added error check for invalid file size.
* Fixed problem with wrong directory selection if default directory does not exist for file dialog.
* Number of ALS is now correctly assigned to airports in X-Plane data compiler.
  This resulted in many airports having an ALS indication where none is.
* Updated French translation.

Version 1.8.3

* Comparing AIRAC cycle numbers before overwriting approach now.
* Workaround for invalid course to fix procedure legs with missing distance which resulted in
  distorted procedure display.

Version 1.8.2.beta

* Fixed crashes and freezes with invalid or incomplete procedures.
* Fixed error detection for invalid procedure legs.
* Updated English manual and French translation.

from atools version 2.8.2.beta

* DFD compiler now estimates if holding is given in time or distance for procedure legs.
* DFD compiler now always sets region for fixes where it was missing for procedure legs.
* Solved problem where fix was not set for DME distance and radial terminated procedure legs.
  Now copying recommended fix.

Version 1.8.1.beta

* Fixed problem where no simulator was selected on first startup causing crashes when loading flight plans.
* Fixed handling of missing or inaccessible legend file. Now ignores error and redirects to web-page.
* Now asking before overwriting settings database.
* Added cycle information to X-Plane menu item.
* Menu item is not disabled instead of being hidden if only one simulator is installed. installed.
* Fixed error in simulator menu where a menu item could be deselected resulting in no selection at all.
* Updated links to online manual to point to 1.8 version.
* Changed the building of help URLs and file paths to user the language override setting.
  Program will link to English help now if GUI is forced to English.
* Updated included english PDF manual.
* Updated French translations and added translated offline manual PDF.

Version 1.8.0.beta

* Added sub-menu for third party navdata with three display options.
* Changed main window title bar to indicate usage of navdata (i.e. Navigraph):
  `FSX/N`: simulator and navdata, `(FSX)/N`: navdata only and `FSX`: simulator only.
* Added Navigraph database cycle 1707 to program download archive. Database is prepared and
  used automatically on startup.
* Program can now display mixed data (i.e. `FSX/N`) on map and in information window:
  Complete airports and ILS from simulator data. Navaids, airways, airspaces and procedures
  from third party navdata like Navigraph.
* Additonal third party database is now opened from application directory
  first and can be overloaded in settings database directory by a newer one. Programm checks
  database internal compilation time before copying and creates database indexes on demand.
  Database is copied and prepared on first startup. #127

* Added French legend and updates to translation by Patrick.
* Updated Linux startup script so that it can be used also by the desktop launcher (thanks to Valerio for the tip).
* Now adding all readme and changelog files to macOS deployment.
* Added command line option `-s` or `--settings-directory` that allows to change the `ABarthel` part of the
  settings directory for testing purposes like running more than one version of Little Navmap.

* Added settings in option dialog on tab `User Interface` to force language and
  locale (number format, date format and more) in program to English. #156
* Added options to disable restoring the last search parameters, information window content and
  aircraft trail on startup in options dialog on tab `Startup`.

* Moved most flight export menus to sub-menu.
* Added flight plan export for Majestic Dash. Currently limited to waypoints. #140
* Added export for IXEG 737 flight plan format. #153
* Flight plan export to Flight Factor Airbus added. #139
* Enabled saving of the new X-Plane 11 FMS file format and added warning before saving since the
  format is not usable by X-Plane 11.05.
  FMS 11 is now the default format when saving FMS although it needs at least a 11.10 beta version.
  FMS 3 can still be saved using the export option. #155

* Removed SIDs and STARs in information dock window on procedure tab since this information was not useful.
* Fixed error where ARINC name of procedures was not loaded causing problems when exporting and loading flight plans.
* Information dock window on tab `Runways/Helipads` can now display more than one ILS for a runway end (EDDF 25R/07L).

* Fixed problem in route description parser where an airway as an invalid first entry did not generate a warning message.
* Fixed error in route string parser which did not recognize STARs correctly.
* Fixed error where first en-route waypoint contained an airway reference after calculating with SID in some cases.
  This caused problems when exporting some flight plan formats and in the route string parser.

* Fixed several display issues with large airspaces and airways crossing the anti meridian. These showed up
  mirrored with their tooltips in other parts of the world. Small problems remain (e.g. Melbourne FIR). #127
* Fixed display issues with airports, AI and user aircraft in spherical display which showed up at the upper window
  border in some cases.
* Adapted airspace and COM display to new types. Added caution airspace. #127

* Fixed error where an automatic connect was attempted even when hostname is empty.
* Fixed problem with almost invisible checkbox in night mode.
* Removed unused `what's this` question mark in scenery database error dialog.

from atools version  2.8.0.beta

* Finished DFD to Little Navmap database compiler for Navigraph data. #126
* Added script table and option to store create index scripts in that table for preparation by the client. #126
* Added option to drop indexes after database creation to keep the file small.
* Vacuum and analyze option for database creation now defaults to true to get smaller and better organized files. #126
* FSX/P3D: Added workaround for scenery sort order with add-on.xml files missing layer id.
  Now forcing navaid updates to end of all scenery entries.
* Extended database metadata with optional compiler_version, valid_through and data source columns.
* Increased database minor version to 6.
* Added flight plan export option for Majestic Dash. #140
* Updated French translation files.
* Fixed error with wrong ILS pitch in X-Plane compiler.
* Disabling maximum airway segment length now for data sources that contain a valid airspace geometry
  (X-Plane and DFD - FSX/P3D contain invalid segments).
* Fixed several problems with bounding box and overlap calculations around the anti meridian.
* Better handling of X-Plane OpenAirspace comments and fixed problem where airspace names contain a comment character.

Version 1.6.7

* Fixed problem where procedures were assigned to the wrong runway in search window.
* `No runway` filter is now back in procedure search.
* Fixed problem with gap and wrong distance calculation for SIDs starting with an initial fix.
* Fixed crash after startup when airport procedures changed.
* Added adjustable limitation for maximum points of aircraft track
* Added txt flight plan format usable by JARDesign or Rotate Simulations aircraft.
* Fixed errors in route description generation where a DCT was inserted after SID or before STAR
  statement creating invalid routes.
* Fixed problem where X-Plane basepath was not found as `save as` or `export` default path.
* Fixes for translation support.

from atools version 2.6.8
* Fixed flight plan GPX export to save procedure points and altitude now.
* Fixed exception when compiling new TACAN approach in P3D version 4.1.
* Now populating channel in VORTACs.
* Added new aviation acronyms to capitalization function.
* Adapted weather parser for language translation.
* Fixed error when loading FMS flight plans with invalid altitude values resulted in missing
  flight plan line in elevation profile.

Version 1.6.6

* Attempt to fix zoom distance creep while using moving map.
* Fixed error in airspace copying from older database schemes where bounding rectangle was messed up.
  This resulted in an `too many objects` message in the statusbar.
* Offline map themes Atlas and Simple: Fixed missing lakes in map.
* Fixed problem where airspace showed wrong scenery files after copying. Now disabled.
* Airspace buttons now disabled if no airspaces are loaded.
* `Calculate based on given altitude` is working again. Previously failed with `no route found`.
* Now correctly considering min and maximum altitude ranges when calculating to avoid
  non-overlapping airway altitude min/max ranges.
* Fixed error in flight plan saving logic where cancel did not stop saving.

Version 1.6.5.beta

* Added display of AIRAC cycle to database dialog.
* Changed rating checkbox to combo in airport search.
* Added display of simulator type to connection status in statusbar.
* Added scenery file display for airspaces.
* Fixed potential crash on failing network connection.
* Fixed status bar connection indication remaining in disconnected state sometimes.
* Removed `no SimConnect` header label in connect dialog.
* Fixed `Connect on startup` checkbox state not saved.
* Added download button to update notification dialog.
* Fixed several small text errors.
* Solved problem with gaps between SIDs, STARs and the respective transitions resulting in wrong
  display and distance calculation.
* Fixed problem where STAR was not reloaded after database switch.
* Cleanup of airspace management code to allow addition of more airspaces.
* Now clipping long airport names on map.
* Fixed issue where airspaces were not updated when changing cruise altitude with empty flight plan.
* Removed restrictions on user defined waypoint names. Names are now adjusted according to save flight plan format.
* Added coordinates to CSV export by clipboard.

from atools version 2.6.6.beta
* Added OpenAir airspace format compilation for X-PLane - also reading
  from $HOME/Documents/Little Navmap/X-Plane Airspaces
* Increased database minor version to 3.
* Enabled user defined waypoint names for X-Plane FMS format.
* Fixed user waypoint format for FLP so that it can be reloaded.
* Fixed problem loading FS9 flight plans.
* Added AIRAC cycle to metadata and comment to file table.
* X-Plane 3D airport state now considered when calculating rating.
* Fixed confusing 0 error dialog appearing after loading X-Plane database successfully.
* Now checking X-Plane CIFP filenames before loading.
* Better error handling and reporting of too old files with version < 850 when loading X-Plane scenery.
* Added handler for assertions/crashes showing dialog to avoid crash to desktop.
* Made loading of add-on.xml more robust for files with wrong encoding.
* Fixed problem loading FS9 flight plans.

Version 1.6.4

* Fixed several inconsistencies around context menus and procedure restriction display.
* Move hidden URL to top in update notification dialog.
* Updated PDF manual.

from atools version 2.6.5
* Added workaround for P3D v4 add-on.xml files with inconsistent encoding (BOM / XML PI mismatch)
* Added error reporting and boundary check when reading X-Plane dat files to avoid crash to desktop.
* Added error collection for X-Plane compiler. Now only stops reading the current file on error.

from atools version 2.6.4
* Fixed crashes when reading X-Plane CIFP files with unknown approach type.
* Fixed crash with older apt.dat files where runway name for VASI is missing.
* Added support for all altitude restriction types.
* Warnings now print full filename including path.
* Fixed error where altitude restrictions were not recognized when given as flight levels.
* Enabled support for older apt.dat files with version down to 850.

Version 1.6.3

* Fixed display issue for declination where decimals places were cut off.
* Small improvement in map context menu to indicate missing procedures.

derived from atools:
* Fixed error that caused a few hundred waypoints having invalid declination for X-Plane and FSX/P3D.

Version 1.6.2 (not public)

* Added compatibility flag for Mac OS X 10.8.
* New flight plan metadata for used simulator database.
* Updated PDF manual and legend.
* Removed links in information when printing.
* Fixed blinking magenta line in flight plan table when using FSX/P3D weather.
* Fixed parsing of SID and STAR with names longer than five characters in route string dialog.
* Fixed problem where departure position was not loaded from flight plans when using X-Plane database.
* Changed button text for warning dialogs when saving FLP or FMS for more clarity.
* Now adding navdata source to saved flight plan annotations.
* Added help buttons to save flight plan warning dialogs.
* Added help button to flight plan window.
* Reformatted update notification. Pulled download to top of dialog.

derived from atools:
* Better error handling in X-Plane compiler. Now checking for required files.
* Corrected mapping for runway markings in X-Plane compilation.

Version 1.6.1.beta

* Adapted flight plan calculation, map display and information display to one-way airways and maximum altitude
  restriction (X-Plane).
* Database loading dialog now pops up after erasing incompatible databases.
* Improved weather display for nearest station: Added name, distance and map link to reporting station.
* Rhumb line measurement now shows both magnetic and true course where declination is based on origin.
* Workaround in route string generation for malformed PLN files from PFPX.
* Now all waypoints are added instead if an airway could not be found in the database in route string.
* Invalid waypoints (not found in database) are now added as name instead of coordinates to route string.
* Removed `select nothing` click areas in flight plan and procedure search top level labels. Added push buttons instead.

derived from atools:
* Increased database version for schema changes - needs a reload.
* Changed database schema for one-way airways and maximum altitude.
* Adapted airway compilation for direction and maximum altitude.
* Fixed error where number of attached airways was not assigned to waypoints.
* Now erasing wrong airway entries at departure and destination when loading flight plan to avoid
  problems with malformed flight plans from PFPX.
* Fixed error where Documents path was not selected as default if missing simulator.

Version 1.6.0.beta

* Changed handling of helipads and fixed display. Now using name as an identifier.
* Added support for Hifi ASP4.
* Aircraft size is now displayed correctly for X-Plane on map and information window.
* Small improvements to airport symbol painting.
* Fixed problems with special characters in search (special characters are still treated case sensistive).
* Added display of nearest weather station for X-Plane metar file when showing information of an airport.
* Fixed issues when displaying parking names on map (name too long).
* Fixed problem where departure parking was dropped on certain cases like flight plan calculation.
* Fixed crash after copying airspaces.
* Added custom update dialog window that can display a longer message.

derived from atools:
* Enabled database file exclusions and add-on override options to X-Plane loader.
* Fixed crash when reading X-Plane add-on airports (KLAS).
* Better error reporting when reading X-Plane scenery including file and line number.
* X-Plane file codec is now set to UTF-8 to avoid problems with special characters.
* Added detection of closed airports by name for X-Plane.
* Improved detection of military airports in general and name capitalization for X-Plane.

Version 1.5.4.develop

* Added moving map display and aircraft information including AI for X-Plane.
* Cleanup in help menu. Now only help actions have a question mark icon. Added Qt icon.
* Renamed magvar to magnetic declination in information dialogs.
* Added donation menu item in help menu and about dialog.
* Fixed dialog modality to keep dialog from hiding behind main window on macOS.
* Ctrl + cursor keys are now captured when changing details to avoid accidental zooming.
* Initial information dialog about missing SimConnect and databases now only shown on Windows.
* Added function to copy airspaces from FSX/P3D to X-Plane database.
* Fix for shrinked heliports on map display.
* Fixed issues with missing data in AI aircraft labels and information display.
* Updated connect dialog for an additional X-Plane connect option.
* Added XpConnect to build and deployment scripts.
* Adapted to missing values from X-Plane moving map plugin.

derived from atools:
* Made all dialogs now application modal to avoid hiding behind main window.
* Removed unneede schema generation in case of aborted compilation.
* Fixed compilation not detecting abort/cancel condition for X-Plane.
* Added tolerant distance match when merging TACAN and VOR to VORTAC.
* BGL record length now checked to avoid endless loops and program freezing.
* Added console application to avoid widget dependencies.
* Added aircraft type codes.
* Fixed crash when reading CIFP files.

Version 1.5.3.develop

X-Plane
* Added loading of full X-Plane scenery database except airspaces and ARINC files.
* Added parking icons and map colors for new X-Plane types.
* Added weather source and display for X-Plane METAR.rwx.

Flight Plans
* Now FMS, FLP and FS9 PLN flight plans can be loaded. Format is detected by file content.
* Added automatic format detection while loading flight plans in P3D/FSX/FS9 PLN, X-Plane FMS and FLP.
* Changed save/export menu to clarify which formats can be loaded.
* Added warning dialogs when saving to a flight plan format not supporting all features like airways or procedures.
* Now loads and saves FMS and FLP files like PLN. This avoids the need to select export in the menu.
  Instead just save can be used.
* Now saving and loading procedures in FLP format.
* Made procedure loading more tolerant for incomplete procedure information in FLP.
* X-Plane FMS save location is now set from base directory.

Update
* Added automatic update checks on startup and help menu item for manual check.
* Added update check settings in options dialog on start page including update channels for
  stable, beta and development versions.

Magnetic declination
* Magnetic declination for airports, waypoints and user defined points is now read from magdec.bgl in the
  scenery database to avoid wrong values from airports and waypoints.
* Added magdec.bgl file 1701 from http://www.aero.sors.fr for X-Plane data loader.
* User defined waypoints now get a magvar assigned.
* Removed now useless true indication for flight plan.

Procedures
* Fixed reversed above/below alt restriction.
* Improved info display for procedures and removed useless data.
* Fixed disappearing preview when selecting legs in procedure search.
* Added new approach and fix types for X-Plane.
* Added display of speed limits.

Map Display
* Added new detail layer where full parking names are shown.
* Added taxiway center lines in map display to find taxi paths on X-Plane aprons.
* Added support for runway shoulder, transparent surface and X-Plane aprons and taxiways.

Scenery Database
* Fixed reading of add-on.xml in UTF-16 encoding.
* Now sorting of add-on packages by layer.
* Added fix for unnamed scenery entries in add-on.xml files.
* Added option to disable/enable reading and writing of add-on packages for P3D v3 and v4.
* Reworked database managment. Databases are now opened read only to avoid corrupted files on crash.
* Adapted database dialog behavior for X-Plane support. Dialog can now be shown even without installed simulator.

Other
* Added `only waypoints` option to route string dialog usable for X-Plane ATC.
* Added clickspots in top labels to clear sometimes annoying selection in procedure search and flight plan.
* Scenery is now compiled to a temporary database. Erase database dialog should not pop up anymore after crash.
* Added links to start positions in information display.
* Updated to Qt 5.9.1

derived from atools:
* Multiple X-Plane related schema extensions. Speed limit, apron.geometry and runway.shoulder and more. New columns are optional.
* Fixed wrongly placed speed limit columns in procedure tables.
* Can now load FMS, FLP and FS9 ini-style pln flight plan formats.
* Added saving and loading of procedures to FLP format.
* Made database loading more robust for mixed case paths on case sensitive operating systems.
* Databases can now be opened read-only.

Version 1.5.2.develop

derived from atools:
* Fixed missing encoding in PLN XML files since changing to Qt 5.9.
* Now generating scenery names if missing from add-on.xml files.

Version 1.5.1.develop

derived from atools:
* Fixed excessive logging of warnings in invalid airport records and waypoints.
* Now skipping airports where the first record is already invalid.
* Fixed problem with unnamed scenery areas from add-on.xml files.

Version 1.4.4

* Added light and dark maps from CARTO.
* Improved aircraft progress display and fixed multiple omissions.
* Removing file link now if unavailable in information window. This happens on remote computers with copied databases.
* Added start positions to runway information.
* Fixed potential crashes when a style is unavailable.
* Half transparent aircraft icon fixed.
* Fixed problem with links in scenery database error dialog opening inline.
* Renamed manifest file. #110
* Added notification message if SimConnect was not found in connect dialog. #110
* SimConnect is now loaded dynamically. The file `littlenavmap-nosimconnect.exe` was removed. #110
* Changed to Qt 5.9

derived from atools:

* P3D v4 runways, aprons and taxiways are now read correctly. This affects all BGL files that are created using the v4 SDK compiler.
* Fixed crash with P3D v4 BGL files.
* Added support for P3D v4 add-on.xml packages. #111

Version 1.4.3

* Updated PDF manual.

Version 1.4.2.beta

* Added support for P3D version 4:
 * Added new simulator type
 * Now using UTF-8 encoding for reading P3D V4 scenery.cfg. Others are read with default encoding.
* Fixed wind display in information windows. Variable winds are now displayed correctly.
* Fixed behavior when changing away from procedure search tab. No more disappearing procedures.
* Removed inconsistencies in options dialog when using reset function:
 * Default settings are now equal to reset result.
 * Weather settings are now properly reset.
 * GUI style is now unaffected when using reset instead of swiching to old windows style.
* Fixed wrong theme selection on startup in menu.
* Added tutorial links in help menu.
* Fixed unit update for airspace altitude filter. Now also uses metric units if set in options dialog.
* Increased jump distance when aircraft track is removed if simulator position changes.
* Added workaround for not intersecting procedure legs in `course to fix` leg.
* Fixed problems with actions disabled in background resulting in shortcut keys being unavailable.
* Added shortcut key combinations for `show procedures` and `activate leg`.
* Changed and enabled shortcut key combination for clear selection.
* Fixed problem where splash screen could hide dialogs on startup.

derived from atools:
* Added support for P3D version 4.
* Fixed METAR parsing for reports with missing humidity.

Version 1.4.1.beta

* Fixed errors with radionavaid flight plan calculation. DME and TACAN are now excluded.
* Added option to calculate flight plan segment between selected waypoints.
* Fixed errors with airway display and airway tooltips appearing in the wrong position.
* Fixed map object overflow logic for airspaces and navaids. Indication is now more reliable.
* Added separate layer for airspaces without waypoints to get a better overview.
* Corrected odd/even altitude rule to use magnetic course.
* Added north/south and south/north altitude rules.
* Autoconnect is now switched on per default.
* Now using straight line if recommended fix is missing for arc segments to avoid crashes for invalid procedure legs.
* Procedure legs are now only red if unusable. More tolerant for missing recommended fix now.
* Fixed color customization for profile widget. All colors now have a dark/normal variant. More colors and styles are cutomizable now.
* Added option to overload vehicle icons.
* Adjusted vehicle icon colors for better visibility.
* Aircraft track is now kept when connecting to simulator. Track is only deleted when aircraft position jumps too far.

Version 1.4.0.beta

* Now allowing simple customization of printed flight plan table.
* Added reset window layout menu item.
* Small drawing and GUI fixes around procedures. Fixed overfly indication hidden by navaids. Size now adapted to navaid.
* Fixed error selecting new mark from distance search which was placed on the wrong airport.
* Updated included legend from online version.
* Fixed update issues when changing units.
* Updated help links for help buttons.
* Fixes in procedure search, reset view and context menu.
* Fixed drawing error in procedure curves when using offline maps.
* Added new default startup layout with correctly placed toolbars. This triggery only when last version is 1.2.4.
* Disabling all airspace menu items is airspace display is disabled.
* Fixed wrongly placed text in profile.
* Fixed name of ship icon resulting in invisible icon in some cases.
* Improved leg sequencing when exiting holds.

Version 1.3.7.develop

* Now trying to match procedure runways to add-on airport runways. Procedure is tied to airport center if
  runway could not be found.
* Fixed crashes and freezes with invalid procedures.
* Fixed error when deleting SID transitions without SID legs. Invalid SID data remained in the saved PLN file.
* Added verbose logging options for SimConnect.
* Connect errors are now shown in the statusbar.
* Adapted colors in procedure search to match flight plan table and adusted colors for night mode.
* SIDs that consist of only one transition (most do) can now be easier selected and previewed.
* Fixed automatic leg sequencing when exiting holds.

derived from atools:
* Fixed crash on database version detection after adding `has_sid_star` column.

Version 1.3.6.develop

* Scenery database has to be reloaded due to a schema change to metadata table. Aircraft tracks are silently not
  loaded because the format has changed.

* Added AI ship traffic.
* Added options to disable SimConnect transfer of AI vehicles.
* Improved display of AI vehicle display by dividing into large and small types.

* Added flight plan export options for GPX and X-Plane FMS. GPX export includes flown track including altitude and time.

* Added configuration files for color customization for map, elevation profile, fusion and night styles.
  This also allows to change the airspace line and fill colors, fill transparency, line widths and styles.
  See link for manual:
  https://albar965.gitbooks.io/little-navmap-user-manual/content/v/master/en/CUSTOMIZE.html

* Added support for parsing SID and STAR to route string dialog.
* Added IFR/VFR selector to route string dialog.
* Added options to customize route string (DCT on/off and others).
* Improved cruise altitude and speed assignment to flight plan when reading route string. Values are now taken from string
or automatically determined.

* Added manual chapter for external databases which were added earlier:
  https://albar965.gitbooks.io/little-navmap-user-manual/content/v/master/en/APPENDIX.html#external-scenery-databases

* Added option to read also inactive scenery entries. Useful if sceneries are disabled or enabled by tools for each flight.
* Added vertical path deviation in simulator aircraft progress after passing top of descent.
* Added option to disable display of the top of descent points and values.
* Added airway segment minimum altitude to flight plan table.
* Added saving of speed in PLN file. Speed change now modifies route.
* Added frequency of TACAN DME in information window.

* Fixed display issues with elevation profile and aircraft track where an invisible left over
  track could alter the scale.

* Fixed errors in SID/STAR recognition. Database is now checked for actual presence of SID and STAR procedures
  independent of the selected simulator.

* Adjusted route calculation to better avoid large unrealistic airway segments.
* Fixed error in active leg sequencing going postal when aircraft travelled too far back.
* Fixed bug where duplicate consecutive waypoints between route and procedures remained after flight plan calculation.
* Reverse route now working correctly with procedures.
* Fixed crash in procedure search when starting with an empty database.
* Fixed aircraft progress cleared and not updated after database switch and other window update problems.
* Fixed `Unknown Waypoint` in procedures.
* Fixed invalid course value for distance search when distance is null.
* Added cache setting for the SQLite database in the ini file.
* Fixed potential crashes and small memory leaks.

derived from atools:
* GLOBE data reader now opens files on demand.
* Fix for too many reconnects flooding log on simulator crash.

Version 1.3.5.develop

* The ZIP archives of Little Navmap and Little Navconnect are merged now. You can find both programs on the top level
  directory in the archive.

* Scenery database has to be reloaded due to schema change to airspace tables.

* Added support for GLOBE offline elevation data as second elevation data source.
  See dialog `Options` -> tab `Cache and Files`. All explained there.
* Elevation under cursor is now shown after a short delay on the bottom right in the status bar if offline data is used.

* Added TACAN and VORTAC stations to display, search and all other VOR related functions. This fixes unusable procedures
  around many military airports. Only for P3D with fsAerodata navdata updates.

* Many optimizations and bugfixes for airspace display. Fixed memory leak in airspace geometry caching.
* Moved FIR Class F and G airspaces one layer up in map display. Now shown earlier when zooming in.
* Added show/hide all toolbar button for airspaces.
* Disabling airspace semi transparent fill for certain map display performance modes now for faster scrolling.
  See `Options` -> `Map` -> `Details while scrolling ...`
* Increased cache size for airway geometry and other features.

* Procedures are now sorted by type, runway and fix name in search tab.
* Selection now cleared when adding procedure to flight plan to avoid preview overlapping route.
* Fixed several problems when resolving procedure navaids resulting in unusable procedures.

* Added menu item in menu `Map` to reset map settings back to default.
* Improved statusbar display for shown map features and airspaces. Added empty airports.
* Flight plan file paths are now remembered for each simulator separately. Fixed error that initially
  always used the FSX files path.
* Moved airway display one layer up for map display. Now shown on higher zoom levels.
* Added small airport symbol in runway schema display to indicate clickspot for airport.
* Added option for clean flight plan (PLN) export since some add-ons (EFB) are not capable
  to read XML in the PLN files properly and cannot deal with the comments containing procedure information.
* Now adding cache tuning parameters to settings ini file.

derived from atools:
* Removed boundary_line table and pre-calculate boundary geometry now which ist stored as binary data.
* Bumped database version up for changed schema.
* Added support for GLOBE offline elevation data.
* Changed ILS to runway assignment logic to fix ILS data updates.
* Added still unused columns in database for speed limit, airway direction and other extensions for future AIRAC support.
* Added option for two external databases besides the real simulators.

Version 1.3.4.devel

* Added display of airspaces to map, information window and tooltips.
* Added separate toolbar for airspaces to limit display by type, altitude or flight plan cruise level.
* Added new map update mode in options dialog on tab `Map` that combines full details and lazy load.
* Airspaces and airways are now always loaded lazily when scrolling or zooming.
* Active leg sequencing is now only done for airborne aircraft. No magenta line while you are on ground.
* Added better and more detailed error reports for scenery database loading. Report now contains missing scenery
  directories.
* Added delayed notification to profile window for altitude changes in flight plan to overcome laggy spin box.

derived from atools:
* Several fixes when reading airspace boundaries.
* Added missing indexes to boundary table.
* Now collecting errors for missing scenery directories when loading scenery library database.

Version 1.3.3.devel

* Disabled sequencing of active leg when aircraft is on ground
* Added runway to saved procedure information to allow finding of procedures among duplicates.
* Now resetting procedure search filters when changing simulator.
* Approach filter combo box is now hidden if simulator is not P3D (which allows departure procedures only).
* Enabled loading of airspace boundaries (not displayed yet).
* Fixed problem with messed up procedures and crashes when appending flight plan or after switching simulators.
* Routing now considers SID, STAR and approaches and calculates flight plan from end of SID to beginning of STAR or approach.
* Sequencing of active route legs now stops before destination airport if arrival procedures are active.
* Fixed direct route messing up procedure information.
* Fixed crash and display errors in profile for arc procedure legs.
* Suppressing invalid course values for initial legs (which have no length) in info window and on map.
* Fixed missing TOD point at legs between procedures.
* Added departure runway for SIDs in flight plan window header.
* Certain settings like enabled map objects and selected simulator are now save immediately.

derived from atools:
* Fixed old problem with empty registry entries when detecting simulator.
* Fixed reading of airspace boundaries and removed hack.
* Reduced size of airspace enums in database.

Version 1.3.2.devel

* Changed GUI around procedures completely - added procedure search tab
* Added filter to procedure search
* Procedure information now saved with flight plan
* Fixed multiple display issues and crashes for procedures
* Procedure fixes are now displayed in flight plan
* Added full support for SIDs, STARs and the respective transitions
* Added help button to procedure search.
* Procedure preview is now hidden when clicking into empty space in tree or activating another search tab.
* Flyover waypoints are now highlighted with a yellow background.
* Added Aerosoft Airbus FLP flight plan export

derived from atools:
* Solved problem where airports without delete record lost approaches.
* Fixed METAR parser errors with NOSIG token for weather or sky condition.
* Cleanup in database around transitions and approaches:
** Navaid ids have to be resolved during runtime now and not during compilation time.
** Fix for multiple navaids with the same name and same region in the database.
** Added more redundant information to runway end table to speed up program during runtime.
* Now nearest VOR and NDBs are assigned to waypoint if duplicates exist.

Version 1.3.1.devel

* Added approach and transition support. Drawing, attaching to flight plan, active leg detection and more.
* Fixed errors in METAR parser.
* Completely changed active segment logic for flight plan.

Version 1.2.4

Release
* Fixed wrong (negated) UTC offset in SimConnect user aircraft.
* User defined waypoints are now length limited when parsing flight plan descriptions to avoid FS crash.
* Fixed problem with wrong distance in elevation profile for some flight plans.
* Fixed missing magvar correction on flight plan course in certain cases.
* Fixed problem when zooming in to small flight plans.

Version 1.2.3

* Added missing localizer and backcourse ILS frequencies to approach information.
* Removed central widget and moved map to dock window. Nested dock windows are now allowed.
* Fixed problem with disappearing route due to airport overflow.
* Added proper default window state save and restore.
* Default window state added to code.
* Track is now cleared if aircraft jumps too far.
* Solved display issue in route table.
* Remaining problems in macOS fixed: Map is now centered on last position.
  Overlays are available again. KML loading and centering is working.
* Updated manual.
* Problem with runway assignment with designation and missing leading 0 fixed.
* Cleanup in dialogs
* Fixed numbering of user defined waypoints for flightplan containing user defined coordinates.
* Added deg/min/sec coordinate format as used by SkyVector to route parser.

from atools:
* Terminal waypoints are not deleted anymore for add-on airports.
* Removing invalid waypoints.
* Jetway indication for gates is correct now.
* Updated database minor version to 1.
* Waypoint id length is now limited to 10 for flightplans.
* Html entities are replaced with quotes now in flightplan to ensure better third party compatibility.

Version 1.2.2.beta

* Fixed missing unit in TOD in info.
* Updated manual.
* Added display for all BGL files that were used to build an airport.
* Added link to BGL files in information window.
* Optimizations for database loading resultin in double loading speed.

from atools:
* Added airport deduplication and optimizations to airport delete processor.
* Increased distance for VOR and NDB deduplication.
* Printing duplicated airports into log before deleting.
* Now appending scenery path and bgl filenames in airport table.
* Added result set printing to sql script.
* Added number of starts to airport for proper delete handling.
* Added table airport_file to collect all sceneries containing an airport.
* Added compiler option for deduplication.
* ILS of add-on airports are not deleted anymore. Optmized copying of add-on airport values.
* Added deletion of duplicate ILS.
* Optimizations for database: removed unused indexes.

Version 1.2.1.beta

* Fixed map display overflow logic. Now displaying a red warning message if too many objects are shown.
* Fixed errors in track drawing logic. Track now remains on map after disconnect.
* Airway names are now correctly assigned after reversing route.
* Fixed problems with weather indication for active sky departure and destination airports.
* Added offline indication in status bar.
* Added indication for aircraft not shown on map in simulator aircraft window tabs.
* Added tooltips to text label tree in options dialog.
* Disabling all unavailable options now for mac
* Fine tuning of route calculation for shorter routes.
* Updated manual PDF.
* Added aircraft track to legend.

from atools:
* Fixed problem of wrong elevation adjustments overwriting add-on airport.
* BGL files are now read ordered by name to get more deterministic behavior.
* Only line comments are allowed now in ini files and scenery.cfg to avoid problems with
  filenames containing `#`. Behavior is now equal to flight simulator.

Version 1.2.0.beta

The program is not compatible with Windows XP anymore.
Little Navconnect is only needed for remote connections now.

 Enhancements

 General

* Printing for map, flight plan, airport and weather information added.
* Added night user interface style and others including a dimmable map for night display.
* Units can now be changed to metric, imperial and nautical separately for distance, altitude, speed, weight and volume.
* Database updates by fsAerodata (https://www.fsaerodata.com) are supported.
* Coordinate format can now be changed from degree/minutes/seconds to decimal degree format.
* Freqencies for VOR, NDB and ILS added to approach information tab.
* Added display of helipad details to information window.
* When changing departure, destination or flight plan type, the save function will optionally show the `save as` dialog. This helps to avoid overwriting flight plans with the wrong content.
* `Save Map as image function added.`
* All help is now available either offline as an included PDF or online from Gitbook.

 Flight Plan

* Flight plans can now be exported to the GFP format used by the Flight1 GTN 650/750.
* The names of user defined waypoints can now be changed.
* Flight plan route description parsing added which allows to convert flight plans from and to ATS route descriptions. This even uses speed and cruise altitude data given in the route description.
* The active flight plan leg is now hightlighted on the map and in the flight plan table.
* Added toolbar button to adjust flight plan altitude according to simpified hemispherical and IFR/VFR rules.
* Added navaid range column in flight plan table.

 Weather

* Weather data can now be directly fetched from the simulator and is updated every 15 seconds. This also applies to remote connections.
* Weather is now shown in decoded format in the information window for all weather sources like simulator, ASN, AS16, NOAA and VATSIM.
* The Active Sky flight plan weather file is now used to show METARs and decoded weather for destination and departure. This gives a precise weather indication for ASN or AS16 users.
* Wind pointer on top center of the map for wind around user aircraft added.

 Map Display

* AI and multiplayer aircraft are now shown on the map. Information about these is available in the aircraft progress window and tooltips.
* Added configurable top of descent display on map and elevation profile display based on simple number of nautical miles per 1000 ft rule.
* The floating map overlays can now be hidden.
* Added a mode that scrolls the map continously while displaying and following the user aircraft.
* Movement and updates of the user aircraft are now more fluid.
* User aircraft icon can now show an optional line indicating the track.
* Aircraft types \(jet, piston/turboprop, helicopter\) are now indicated by the user and AI/multiplayer aircraft icons.
* Added drawing of minimum safe altitude for each flight plan segment in profile window.
* Runway length is now shown in precise units using meter or feet depending on settings.
* Text labels on map can now be customized for airport, user and AI/multiplayer aicraft.
* Symbol and text sizes for airports, navaids, user and AI/multiplayer aircraft can be changed separately.
* Flight plan and user aircraft trail line width and color can be changed.
* Range ring and distance measurement line width can be changed.
* Zoom distance for double click and `Show on map menu items can now be changed separately.`
* Added option to center map on last flight plan on startup.

 Flight Simulator Connection

* Little Navmap can now connect to a flight simulator directly. Little Navconnect is now only needed for remote connections.
* Little Navmap can now optionally reconnect to a local flight simulator or a remote Little Navconnect instance. Start order of programs does not matter now.
* Hostnames can now be deleted in the connect dialog list.

 Problems Solved

 General

* The OpenTopoMap is back in all its glory. In general all online maps using HTTPS connections should work properly now.
* Course to or from user defined waypoints was wrong in some cases due to missing magnetic variance.
* Fixed crashes in flight plan calculation when using the FSX/P3D Navaids update (http://www.aero.sors.fr/navaids3.html).
* Solved small problem where flight plan calculation jumped often between equal overlaying airways.
* Line endings for saved PLN files are now always Windows style which allows to load the flight plan into PF3 ATC.
* Route type was empty when saving a flight plan in some cases. Flight simulator could not load these.
* Magnetic variation was wrong in some cases in information window and tooltips.
* Solved old problem with tooltips reappearing randomly.

 Scenery Library Loader

* Duplicate navaids and airways are now removed.
* Added workaround that omits long invalid airway segments while loading the scenery database.
* Fixed problem when reading too small BGL files into the scenery database.
* Fixed map zoom problem with some add-on airports that contain a far away dummy runway.
* Solved old problem that caused airways split into fragments during loading.
* Fixed problem that recognized too many add-on runway surfaces as `invalid.`

Version 1.0.5 - Stable Release

Little Navmap
* Fixed error in flight plan order when adding waypoints to first entry.
* Fixed problem with overview map overlay (top left of map) loosing background image when moving program
  after first start.
* Fixed problem where a valid start position could not be found for a flight plan after loading
  and displayed a warning dialog.
* Fixed potential crashes when updating HTML information.
* Simulator selection in database dialog and map is now synchronized to avoid misunderstandings
* Added: Disable aircraft tracking on double click and others (issue #28)
* Lowered maximumConnections of OpenMapSurfer to 2 to avoid parallel connection blocking from single source.
* Improvement to error handling dialogs to allow instant access to contact and log file.
* Closing splash now before it hides the `application already running dialog`.
* Fixed display of closed taxiways and taxiways having width of 0 ft.
* Made aircraft movement a bit smoother.
* Added help buttons to connect and database dialog. Removed explanation label from connect dialog.
* Improved help system. Converted help label in search to button linking to help document.
* Added help to `no simulator found` dialog.

Little Navmap Manual
* Rework, clarifications and fixes in manual, legend and feature list. Added program menu icons to manual.
* Made flight plan editing a separate chapter and added more explanations.
* Additions to the manual regarding flight plan altitude and online services.
* Added files section in manual.
* Added closed taxiways to legend.

Inherited from atools:
* Fixed scenery loading error for airports without city names.
* Improvement to error handling dialogs to allow instant access to contact and log file.
* Scenery.cfg reading is now more error tolerant, only prints warnings and ignores invalid entries.
* Fixed exclude and include directives for scenery not working for relative paths containing `..`.

Version 1.0.4.beta

Little Navmap
* Scenery loading now continues if errors occur. Errors are shown after loading has finished.
* Fixed drawing error where an airport can erase a close by airport when drawing the background.
* Changed color for invalid or unknown airport surfaces (runway, taxiway, apron and helipad) to white.
* Adjusted surface colors to be more distinguishable.
* Added drawing style for closed taxiways.
* Made simulator order in database dialog combo box deterministic.
* Fixed problem where splash screen could hide the erase database dialog on startup.

Inherited from atools:
* Fixed multiple BGL reading errors:
** Now stopping BGL reading early if magic number or header size do not match.
** Skipping all BGL files with wrong magic number and wrong header size now.
* Fixed problem with wrongly assigned surface id 3 (CEMENT) in BGL files.
* Scenery reading now collects errors/exceptions instead of stopping at the first error.
* Added number of collected errors/exceptions to progress report when reading scenery.
* Made scenery.cfg reading more error tolerant to avoid problems with Scenery Config Editor.
* Fixed scenery.cfg path detection to use Windows environment variables. Now more reliable and also working on Windows XP.
* Fixed problem that could cause scenery areas to be omitted when section name is upper or mixed case.
* Fixed error when loading PFPX flight plans PLN files with missing + or - prefix in altitude.

Version 1.0.3.beta

Little Navmap
* Using native paths across the whole application now to avoid confusion regarding slashes and backslashes.
* Increased file history size to 20 files.
* Clarification in database erase question dialog.
* Fixed several problems setting flight plan departure for add-on airports that have either no
  runways or no start positions.
* Solved problem of parking dialog not showing all positions for some add-on airports.
* Automatic start position assignment now adapted to add-on airports having no runway or no start positions.
* Fixed crash in parking dialog when showing error message.
* Added logging of database version.
* Fixed display in info panel for runway-less airports.
* Added search option for runway-less airports (many add-on heliports have neither runway nor helipad records).
* Now using native file paths in all GUI elements to avoid confusion.
* Added native support for AS16 metar display.
* Fixed errors in options dialog weather tab.
* Improved tooltips in weather tab.
* Additions to manual: Database update, weather, copy and paste from dialogs and hightlighted text.
* Removed `untested` annotation since it is all beta anyway.
* Marble cache is now initialized late to avoid disk trashing on startup for those without SSD.
* Options - scenery database: Deleting the last path in the list was not saved.

Inherited from atools:
* Removed not null constaints on type, ident and name columns since some add-ons leave fields empty.
* Updated schema to keep runway names in start even if no assignment to runway was found.
* Increased width of ident columns for some add-on sceneries.
* Database minor updated to 4 - needs a scenery reload.
* Fixed non working scenery exclusion when scenery folder is selected.

Version 1.0.2.beta
* Older add-on airports using FS9 BGLs can now be read.
* Fixed crash `locked database` on ILS update during scenery loading.
* Several problems reading add-on airports are solved.
* Fixed display/zoom problems for some add-on airports on double click or `Show on map`.
* Updates to legend and manual.

Version 1.0.1.beta
* Distance lines from DME now use true course since DME have no magnetic variance.
* Adapted to changes regarding invalid BGL values in database.
* Better error reporting: Added BGL file path to error dialog in database loader.

Version 1.0.0.beta

* Public beta release


